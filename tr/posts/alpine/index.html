<!doctypehtml><html prefix="og: https://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#"lang=tr><meta charset=UTF-8><meta content=width=device-width,initial-scale=1 name=viewport><link href=https://www.unto.re/tr/posts/alpine/ rel=canonical><link title="untoreh'in sitesi"href=https://www.unto.re/feed.xml rel=alternate type=application/rss+xml><link href=https://www.unto.re/amp/tr/posts/alpine/ rel=amphtml><meta content=Alpine property=og:title><meta content=article property=og:type><meta content=https://www.unto.re/posts/alpine property=og:url><meta content=https://www.unto.re/assets/appa.png property=og:image><meta content="Pine, Alpine linux based on OSTree"property=og:description><meta content="untoreh's site"property=og:site_name><meta content=English property=og:locale><meta content=English property=og:locale:alternate><meta content=German property=og:locale:alternate><meta content=Italian property=og:locale:alternate><meta content="Mandarin Chinese"property=og:locale:alternate><meta content=Spanish property=og:locale:alternate><meta content=Hindi property=og:locale:alternate><meta content=Arabic property=og:locale:alternate><meta content=Portuguese property=og:locale:alternate><meta content=Bengali property=og:locale:alternate><meta content=Russian property=og:locale:alternate><meta content=Japanese property=og:locale:alternate><meta content=Punjabi property=og:locale:alternate><meta content=Javanese property=og:locale:alternate><meta content=Vietnamese property=og:locale:alternate><meta content=French property=og:locale:alternate><meta content=Urdu property=og:locale:alternate><meta content=Turkish property=og:locale:alternate><meta content=Polish property=og:locale:alternate><meta content=Ukranian property=og:locale:alternate><meta content=Dutch property=og:locale:alternate><meta content=Greek property=og:locale:alternate><meta content=Swedish property=og:locale:alternate><meta content=Zulu property=og:locale:alternate><meta content=Romanian property=og:locale:alternate><meta content=Malay property=og:locale:alternate><meta content=Korean property=og:locale:alternate><meta content=Thai property=og:locale:alternate><meta content=Filipino property=og:locale:alternate><meta content=summary name=twitter:card><meta content=@untoreh name=twitter:creator><script type=application/ld+json>{"copyrightHolder":"untoreh","@id":"https://www.unto.re","url":"https://www.unto.re","copyrightYear":2021,"@context":"https://schema.org/","image":"/assets/appa.png","@type":"WebSite"}</script><script id=ldj-webpage type=application/ld+json>{"audience":"cool people","url":"https://www.unto.re/posts/alpine/index.html","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"accessibilitySummary":"Visual elements are tentatively described.","description":"Pine, Alpine linux based on OSTree","author":{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"email":"contact@unto.re","name":"untoreh","@type":"https://schema.org/Person","image":"/assets/appa.png"},"mentions":[],"@context":"https://schema.org","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"@type":"https://schema.org/WebPage","lastReviewed":"2021-04-19","dateCreated":"April 24, 2021","@id":"https://www.unto.re/posts/alpine/index.html","dateModified":"2021-04-19","availableLanguage":[{"name":"English","@type":"Language"},{"name":"German","@type":"Language"},{"name":"Italian","@type":"Language"},{"name":"Mandarin Chinese","@type":"Language"},{"name":"Spanish","@type":"Language"},{"name":"Hindi","@type":"Language"},{"name":"Arabic","@type":"Language"},{"name":"Portuguese","@type":"Language"},{"name":"Bengali","@type":"Language"},{"name":"Russian","@type":"Language"},{"name":"Japanese","@type":"Language"},{"name":"Punjabi","@type":"Language"},{"name":"Javanese","@type":"Language"},{"name":"Vietnamese","@type":"Language"},{"name":"French","@type":"Language"},{"name":"Urdu","@type":"Language"},{"name":"Turkish","@type":"Language"},{"name":"Polish","@type":"Language"},{"name":"Ukranian","@type":"Language"},{"name":"Dutch","@type":"Language"},{"name":"Greek","@type":"Language"},{"name":"Swedish","@type":"Language"},{"name":"Zulu","@type":"Language"},{"name":"Romanian","@type":"Language"},{"name":"Malay","@type":"Language"},{"name":"Korean","@type":"Language"},{"name":"Thai","@type":"Language"},{"name":"Filipino","@type":"Language"}],"keywords":["tools","about"],"creativeWorkStatus":"Published","publisher":{"url":"https://www.unto.re","sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"contactPoint":{"contactType":"info","email":"contact@unto.re","@type":"ContactPoint","telephone":""},"logo":"/assets/appa-60px.png","name":"untoreh's site","@type":"Organization"},"datePublished":"2021-04-19","inLanguage":"English","image":"/assets/appa.png","name":"","mainEntityOfPage":{"@id":"https://www.unto.re/posts/alpine/index.html","@type":"Article"}}</script><script id=ldj-breadcrumbs type=application/ld+json>{"itemListElement":[{"position":1,"item":"https://www.unto.re","name":"Home","@type":"ListItem"},{"position":2,"item":"/posts/","name":"Posts List","@type":"ListItem"},{"position":3,"item":"https://www.unto.re/posts/alpine","name":"Alpine","@type":"ListItem"}],"@type":"BreadcrumbList"}</script><link href=/css/franklin.css rel=stylesheet><link href=/css/main.css rel=stylesheet><link href=/css/menu.css rel=stylesheet><link href=/css/pages.css rel=stylesheet><link href=/css/lunr.css rel=stylesheet><link href=/css/footer.css rel=stylesheet><link href=/css/responsive.css rel=stylesheet><link href=/css/animations.css rel=stylesheet><link href=/css/docco.css rel=stylesheet><link href=/css/flags-sprite.css rel=stylesheet><link href=/assets/favicon.png rel=icon type=image/x-icon><link href=/assets/favicon.svg rel=icon type=image/svg+xml><title> Alp</title><meta content="Pine, Alpine linux based on OSTree"name=description><script src=/libs/load.js></script><script type=application/ld+json>{"url":"/tr/posts/alpine/","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"mentions":null,"description":"","@context":"https://schema.org","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"@type":"https://schema.org/WebPage","lastReviewed":"","dateCreated":"","@id":"/tr/posts/alpine/","dateModified":"","keywords":[],"creativeWorkStatus":"Published","translator":{"url":"http://google.translate.com","name":"Google Translate","@type":"https://schema.org/Organization"},"translationOfWork":{"@id":"https://www.unto.re/posts/alpine/"},"datePublished":"2021-11-06T11:17:53.280","inLanguage":"tr","name":"","mainEntityOfPage":{"@id":"/tr/posts/alpine/","@type":"Article"}}</script><body><div class=masthead><div class=masthead__menu__inner-wrap><div class=masthead__menu><a title="untoreh's site"class=site-title href=/tr/></a><div class=author__wrap><script type=application/ld+json>{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"email":"contact@unto.re","name":"untoreh","@type":"https://schema.org/Person","image":"/assets/appa.png"}</script><ul><li class=author__avatar onclick=toggleTheme()><img alt=" untoreh-ışık"class=flip-front src=/assets/appa.png><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer"title="Twitter link"href=https://twitter.com/untoreh><i class="fab fa-fw fa-twitter-square"aria-hidden=true></i></a><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer"title="GitHub link"href=https://github.com/untoreh><i class="fab fa-fw fa-github"aria-hidden=true></i></a><li class="author__urls social-icons"><a href=mailto:contact@unto.re title=email><i class="fas fa-envelope"></i></a><li><script type=application/ld+json>{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"www.unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script></ul></div><nav id=site-nav><div class=horiz><ul><li class="lunrSearch masthead__menu-item hvr-outline-in"><form class=lunrSearchForm name=lunrSearchForm><button title="Web Sitesinde Ara"class=search-button formaction=/search/index.html value=Search><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder=Search…></form><li class="masthead__menu-item hvr-outline-in"><a title="All the articles that I have written"href=/tr/posts/><i class="fas fa-pen menu-icons"></i> gönderiler</a><li class="masthead__menu-item hvr-outline-in"><a title="Video and audio content from streaming websites."href=/tr/media/><i class="fas fa-tv menu-icons"></i> medya</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn"title="Change website's language"><button title="Languages Menu"class=langs-dropdown-wrapper type=button><i class="fas fa-language menu-icons"></i> Lang <div class="langs-dropdown-content langs-dropdown-menu"><ul class=lang-list><a class="lang-link lang-ar"href=/ar/posts/alpine><span class="flag flag-sa"></span>Arabic</a><a class="lang-link lang-bn"href=/bn/posts/alpine><span class="flag flag-bd"></span>Bengali</a><a class="lang-link lang-nl"href=/nl/posts/alpine><span class="flag flag-nl"></span>Dutch</a><a class="lang-link lang-en"href=/posts/alpine><span class="flag flag-gb"></span>English</a><a class="lang-link lang-tl"href=/tl/posts/alpine><span class="flag flag-ph"></span>Filipino</a><a class="lang-link lang-fr"href=/fr/posts/alpine><span class="flag flag-fr"></span>French</a><a class="lang-link lang-de"href=/de/posts/alpine><span class="flag flag-de"></span>German</a><a class="lang-link lang-el"href=/el/posts/alpine><span class="flag flag-gr"></span>Greek</a><a class="lang-link lang-hi"href=/hi/posts/alpine><span class="flag flag-in"></span>Hindi</a><a class="lang-link lang-it"href=/it/posts/alpine><span class="flag flag-it"></span>Italian</a><a class="lang-link lang-ja"href=/ja/posts/alpine><span class="flag flag-jp"></span>Japanese</a><a class="lang-link lang-jw"href=/jw/posts/alpine><span class="flag flag-id"></span>Javanese</a><a class="lang-link lang-ko"href=/ko/posts/alpine><span class="flag flag-kr"></span>Korean</a><a class="lang-link lang-ms"href=/ms/posts/alpine><span class="flag flag-ms"></span>Malay</a><a class="lang-link lang-zh"href=/zh/posts/alpine><span class="flag flag-cn"></span>Mandarin Chinese</a><a class="lang-link lang-pl"href=/pl/posts/alpine><span class="flag flag-pl"></span>Polish</a><a class="lang-link lang-pt"href=/pt/posts/alpine><span class="flag flag-pt"></span>Portuguese</a><a class="lang-link lang-pa"href=/pa/posts/alpine><span class="flag flag-in"></span>Punjabi</a><a class="lang-link lang-ro"href=/ro/posts/alpine><span class="flag flag-ro"></span>Romanian</a><a class="lang-link lang-ru"href=/ru/posts/alpine><span class="flag flag-ru"></span>Russian</a><a class="lang-link lang-es"href=/es/posts/alpine><span class="flag flag-es"></span>Spanish</a><a class="lang-link lang-sv"href=/sv/posts/alpine><span class="flag flag-se"></span>Swedish</a><a class="lang-link lang-th"href=/th/posts/alpine><span class="flag flag-th"></span>Thai</a><a class="lang-link lang-tr"href=/tr/posts/alpine><span class="flag flag-tr"></span>Turkish</a><a class="lang-link lang-uk"href=/uk/posts/alpine><span class="flag flag-ua"></span>Ukranian</a><a class="lang-link lang-ur"href=/ur/posts/alpine><span class="flag flag-pk"></span>Urdu</a><a class="lang-link lang-vi"href=/vi/posts/alpine><span class="flag flag-vn"></span>Vietnamese</a><a class="lang-link lang-zu"href=/zu/posts/alpine><span class="flag flag-za"></span>Zulu</a></ul></div></button></ul></div><button name="Website Menu"class=ham type=button><i class="fas fa-bars ham-icon"></i></button><div class=vert><ul><li class="lunrSearch masthead__menu-item hvr-outline-in"><form class=lunrSearchForm name=lunrSearchForm><button title="Web Sitesinde Ara"class=search-button formaction=/search/index.html value=Search><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder=Search…></form><li class="masthead__menu-item hvr-outline-in"><a title="All the articles that I have written"href=/tr/posts/><i class="fas fa-pen menu-icons"></i> gönderiler</a><li class="masthead__menu-item hvr-outline-in"><a title="Video and audio content from streaming websites."href=/tr/media/><i class="fas fa-tv menu-icons"></i> medya</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn"title="Change website's language"><button title="Languages Menu"class=langs-dropdown-wrapper type=button><i class="fas fa-language menu-icons"></i> Lang <div class="langs-dropdown-content langs-dropdown-menu"><ul class=lang-list><a class="lang-link lang-ar"href=/ar/posts/alpine><span class="flag flag-sa"></span>Arabic</a><a class="lang-link lang-bn"href=/bn/posts/alpine><span class="flag flag-bd"></span>Bengali</a><a class="lang-link lang-nl"href=/nl/posts/alpine><span class="flag flag-nl"></span>Dutch</a><a class="lang-link lang-en"href=/posts/alpine><span class="flag flag-gb"></span>English</a><a class="lang-link lang-tl"href=/tl/posts/alpine><span class="flag flag-ph"></span>Filipino</a><a class="lang-link lang-fr"href=/fr/posts/alpine><span class="flag flag-fr"></span>French</a><a class="lang-link lang-de"href=/de/posts/alpine><span class="flag flag-de"></span>German</a><a class="lang-link lang-el"href=/el/posts/alpine><span class="flag flag-gr"></span>Greek</a><a class="lang-link lang-hi"href=/hi/posts/alpine><span class="flag flag-in"></span>Hindi</a><a class="lang-link lang-it"href=/it/posts/alpine><span class="flag flag-it"></span>Italian</a><a class="lang-link lang-ja"href=/ja/posts/alpine><span class="flag flag-jp"></span>Japanese</a><a class="lang-link lang-jw"href=/jw/posts/alpine><span class="flag flag-id"></span>Javanese</a><a class="lang-link lang-ko"href=/ko/posts/alpine><span class="flag flag-kr"></span>Korean</a><a class="lang-link lang-ms"href=/ms/posts/alpine><span class="flag flag-ms"></span>Malay</a><a class="lang-link lang-zh"href=/zh/posts/alpine><span class="flag flag-cn"></span>Mandarin Chinese</a><a class="lang-link lang-pl"href=/pl/posts/alpine><span class="flag flag-pl"></span>Polish</a><a class="lang-link lang-pt"href=/pt/posts/alpine><span class="flag flag-pt"></span>Portuguese</a><a class="lang-link lang-pa"href=/pa/posts/alpine><span class="flag flag-in"></span>Punjabi</a><a class="lang-link lang-ro"href=/ro/posts/alpine><span class="flag flag-ro"></span>Romanian</a><a class="lang-link lang-ru"href=/ru/posts/alpine><span class="flag flag-ru"></span>Russian</a><a class="lang-link lang-es"href=/es/posts/alpine><span class="flag flag-es"></span>Spanish</a><a class="lang-link lang-sv"href=/sv/posts/alpine><span class="flag flag-se"></span>Swedish</a><a class="lang-link lang-th"href=/th/posts/alpine><span class="flag flag-th"></span>Thai</a><a class="lang-link lang-tr"href=/tr/posts/alpine><span class="flag flag-tr"></span>Turkish</a><a class="lang-link lang-uk"href=/uk/posts/alpine><span class="flag flag-ua"></span>Ukranian</a><a class="lang-link lang-ur"href=/ur/posts/alpine><span class="flag flag-pk"></span>Urdu</a><a class="lang-link lang-vi"href=/vi/posts/alpine><span class="flag flag-vn"></span>Vietnamese</a><a class="lang-link lang-zu"href=/zu/posts/alpine><span class="flag flag-za"></span>Zulu</a></ul></div></button></ul></div></nav></div></div></div><div><h1 id=title><a href=/tr/posts/alpine> Alp</a></h1><blockquote id=page-description style=font-style:italic>OSTree tabanlı Pine, Alp linux</blockquote></div><div class=franklin-content><p>Neyi seçmek<a href=https://en.wikipedia.org/wiki/Operating_system> işletim sistemi</a> sunucularınızda çalıştırılması bir kolaylık ve aşinalık meselesidir. Kolaylık, size mümkün olduğunca az sorun çıkaran bir şey istediğiniz anlamına gelir, aşinalık ise tercih edeceğiniz anlamına gelir.<em> Olumsuz</em> zorunda değilsen ek şeyler öğrenmek için.<p>sunucularım<a href=https://devops.stackexchange.com/questions/653/what-is-the-definition-of-cattle-not-pets> Evcil Hayvanlar</a>bu yüzden arada bir manuel olarak birkaç komut veriyorum ve tam otomasyon gerektirmiyor.<p>denedikten sonra<a href=https://en.wikipedia.org/wiki/Container_Linux> çekirdek işletim sistemi</a> bir yıl boyunca kendi basitleştirilmiş halime geçtim<a href=https://en.wikipedia.org/wiki/Linux_distribution> dağıtım</a> alp temelli ve<a href=https://en.wikipedia.org/wiki/OSTree> ostree</a>.<h2 id=goals><a class=header-anchor href=#goals> Hedefler</a></h2><p>Alpin'in bu versiyonu aşağıdakilerden ipuçları alıyor:<a href=https://kinvolk.io/flatcar-container-linux/> düz araba</a> ve<a href=https://www.projectatomic.io/> proje-atomik</a> ve güncellemelerin atomik olarak gerçekleştiği salt okunur bir kök dosya sistemi olarak kurulması gerekiyor, yani ya başarılı oluyorlar ya da sistem önceki duruma geri dönüyor. Bunun mümkün olabilmesi için sistemin her zaman en az<strong> iki anlık görüntü</strong> Depoda bulunan, yayımlanmış dosya sistemi sürümünün<h2 id=targets><a class=header-anchor href=#targets> Hedefler</a></h2><p>Sistem hangi ortamlarda çalışacak? hedefledim<a href=https://en.wikipedia.org/wiki/OpenVZ> OVZ</a> ve [KVM], ancak genel olarak şunu söyleyebilirsiniz<em> konteynerler</em> ve<em> Sanal makineler</em> temel fark, kapların kendi çekirdeğini çalıştırmamasıdır, özellikle bir önyükleme işlemine sahip değildirler, doğrudan<em> içinde</em> sistem (örneğin bir<code><a href=https://en.wikipedia.org/wiki/Docker_(software)>Dockerfile</a></code> tarafından tanımlanacaktı<code>CMD</code> veya<code>ENTRYPOINT</code> deyimleri), kapsayıcıyı çalışır durumda tutacak işlem ağacını yönetmekten sorumludur (tıpkı normal bir oturumda olduğu gibi, başlatma işlemi ölürse kapsayıcı sona erer). Ayrıca kapsayıcılar, sistem düğmelerini yapılandıramaz ve yetenekler üzerinde ek kısıtlamalara sahip olabilir.<h2 id=bisecting_the_build_process><a class=header-anchor href=#bisecting_the_build_process> Oluşturma sürecini ikiye bölme</a></h2><p>Görüntü nasıl oluşturulur?<h3 id=dependencies><a class=header-anchor href=#dependencies> bağımlılıklar</a></h3><p>NS<code>prepare.sh</code> komut dosyası, çoğu gibi ortak cli araçları sunan paketler olan bağımlılıkları yönetir.<code>coreutils</code>, <code>util-linux</code>, <code>binutils</code> gibi blok cihazlarla çalışacak yardımcı programlar<code>blkid</code>, <code>sfdisk</code>, <code>multipath-tools</code> ve dosya sistemleri ile<code>xfsprogs</code> ve<code>e2fsprogs</code> . NS<code>squashfs-tools</code> paketi, yerleşik kök dosya sistemini sıkıştırmak için sonunda kullanılır. A<code>glib</code> alpine dayalı olduğundan uyumluluk paketi de varsayılan olarak yüklenir<code><a href=https://musl.libc.org/>musl</a></code>, uyumluluk paketi, .<h3 id=the_tree><a class=header-anchor href=#the_tree> Ağaç</a></h3><p>Hem VM'ler hem de kapsayıcılar için dosya ağaçları sırasıyla<code>make.sh</code> ve<code>make_ovz.sh</code> . Bu, adımların basitleştirilmiş bir açıklamasıdır<ul><li><p>havuz etiketine göre oluşturulacak sürümü ayarlayın<li><p>yeni ağaç için bir dizin oluşturun ve ortamı temizleyin<li><p>ostree'nin gerektirdiği temel hedef dizinleri ve dizinleri oluşturun, örneğin<code>sysroot</code><li><p>ile uyum sağlamak için sembolik bağlantılar oluşturun<a href=https://www.freedesktop.org/software/systemd/man/file-hierarchy.html> dosya sistemi hiyerarşisi standardı</a><li><p>özel hizmetleri ve özel yapılandırmaları kopyalayın<li><p>chroot'u takılı sistem dizinleriyle kurun<li><p>temel paketlerle bir alp köklerini önyükleyin<li><p>kimlik bilgileri, saat dilimi, ana bilgisayar adı gibi köklere minimum yapılandırma uygulayın.<li><p>init tarafından başlatılacak kopyalama hizmetleri<li><p>önyükleme yapılandırmasını belirtilen çekirdek görüntüsüyle kurun<li><p>isteğe bağlı olarak özel çekirdek modülleri ekleyin<li><p>temizlik yapmak<li><p>rootf'leri taahhüt et<sup id=fnref:rootfs><a class=fnref href=#fndef:rootfs>[1]</a></sup> ostree deposuna</ul><p>Kapsayıcılar için sıra aynıdır, ancak yapılandırma değişir, çünkü bir sistem bir sistemden başlatılmaz.<a href=https://en.wikipedia.org/wiki/Bootloader> önyükleyici</a> ostree'nin ortamı doğrulamada sorunları var, bazılarını uygulamamız gerekiyor<a href=https://github.com/untoreh/pine/blob/e65f12be70fd91edfd935e3ae9854c7be555ec73/make_ovz.sh#L73> geçici çözümler</a> ve genellikle bilgisayar tarafından idare edilen bazı cihazları kurun.<a href=https://en.wikipedia.org/wiki/Initial_ramdisk> initramf'ler</a> adım. Bu nasıl<a href=https://en.wikipedia.org/wiki/OpenVZ> OVZ</a> veya<a href=https://en.wikipedia.org/wiki/LXC> LXC</a> şablonlar yapılandırılır.<h3 id=packaging><a class=header-anchor href=#packaging> Ambalajlama</a></h3><p>Ostree taahhütlü dosya ağacımız olduğunda<code>build.sh</code> veya<code>build-update.sh</code> dağıtılacak eser üretmeye özen gösterir. Komut dosyaları arasındaki fark, güncelleme sürümünün önceki bir ostree deposundan başlaması ve<em> Ayrıca</em> çalışan bir sistemin yükseltmeleri gerçekleştirmek için ostree örneğine uygulayabileceği bir delta yapıtı üretir. Bu, derleme adımlarının basitleştirilmiş bir açıklamasıdır<ul><li><p>eğer yeni yapı<ul><li><p>döngü aygıtı olarak monte edilmiş yeni bir görüntüde yeni bölümler oluşturun</ul><li><p>Başka<ul><li><p>önceki derlemenin sysroot ve önyükleme bölümlerini bağlama</ul><li><p>monte edilmiş yapıdaki önceki ostree dağıtımlarını (bağ çiftlikleri) temizleyin<li><p>monte edilmiş yapıya yeni inşa edilmiş ağaç yap<li><p>bütünlüğü ve sağlama toplamlarını doğrulayın<li><p>yükseltmeler için yeni delta oluştur<li><p>önyükleme yapılandırmasını yeniden oluşturmak için ostree dağıtımını yürütün<li><p>eski ostree taahhütlerini kaldır<li><p>önyükleme bölümü bütünlüğünü doğrulayın<li><p>yeni güncellenmiş yapı görüntüsünü kaldır<li><p>görüntü sağlama toplamı oluşturun ve sıkıştırın (ile<code>squashfs</code> kaplar için)</ul><p>Bölüm yapılandırması bir fdisk ile uygulanır<code>layout.cfg</code> bölüm boyutlarını tanımlayan dosya, rootfs için bir bölümümüz var (<code>~430M</code> ), önyükleme bölümü (<code>~40M</code> ) ve bir takas bölümü (<code>~40M</code> ). Yalnızca önceki yapıyı bir döngü aygıtı üzerine monte etmeyi atlayan kaplarla ve yeni ostree taahhüdünü eski (çıkarılmış) ostree deposunun üzerine çekin.<h2 id=customizations><a class=header-anchor href=#customizations> özelleştirmeler</a></h2><p>Bu görüntüde ne paketliyorum (kurulu paketler dışında)?<ul><li><p>içinde küçük bir lib<code>functions.sh</code> kabuk içinde yürütülen ortak görevler için<li><p>KV mağazasına dayalı kilitleme mekanizmalı ostree tabanlı yükseltme komut dosyaları<li><p>IO için izleme komut dosyaları hem yerel (<code>iomon</code> ) ve ağ (<code>tcpmon</code>)<li><p>dışındaki kapsayıcı çalışma zamanları için kurulum komut dosyaları<code>bubblewrap</code>: <code>podman</code>, <code>toolbox</code></ul><p>Eskiden olan ve artık olmayan<ul><li><p><code>sup</code>: <a href=https://github.com/pressly/sup/> akşam yemeği</a> orkestrasyon (konteynerleri dağıtmak) ve ana makinenin konfigürasyonu için kullanıldı, ancak daha sonra<a href=https://www.ansible.com/> cevaplayıcı</a> sup'de uzun süredir devam eden ve düzeltilemeyen hatalar olduğu için, her sunucuya bir python bağımlılığının yüklenmesini istemediğim için en başından yanıtlayıcıyı seçmedim, sonunda ikincil bir alpine yerleştim<a href=https://en.wikipedia.org/wiki/Chroot> chroot</a> bulunan ana makinelerde<code>/opt/alp</code>Daha az kritik ek yazılımlar mı kurdum? Ancak bugün yine ansible'dan<a href=https://github.com/Fizzadar/pyinfra> pininfra</a> , Çünkü<ul><li><p>kazan plakası olmayan python'dur (ansible'ın sözde<code>DSL</code> çözdüğünden daha fazla baş ağrısına neden olur)<li><p>tariflerini düz ssh komutlarıyla yürütür, bu nedenle hedef ana bilgisayarlarda python bağımlılığı gereksinimi yoktur</ul><li><p><code>containerpilot</code> : Kapsayıcı pilotunun kullanım durumu, kapsayıcılar arasındaki karmaşık bağımlılıkları kabuk komut dosyaları olmadan yönetmektir...<a href=https://github.com/joyent/containerpilot> neşeli</a> ve bakım moduna alındığında, bellek gereksinimlerini de beğenmedim ve bellek kullanımı uzun çalışma süresi boyunca sürekli artacaktı. Basit kabuk komut dosyaları için değiştirdim<a href=https://www.consul.io/> konsolos</a> , kabuk komut dosyaları çok fazla büyümeye başlarsa daha uygun alternatiflere bakabilirim. gibi daha ağır çözümler<a href=https://kubernetes.io/> kubernet'ler</a>, <a href=https://docs.docker.com/engine/swarm/> sürü</a> veya<a href=https://www.nomadproject.io/> göçebe</a> baştan atıldılar.<li><p><code>beegfs</code> : için gerekli çekirdek modülünü gönderirdim<a href=https://en.wikipedia.org/wiki/BeeGFS> beegf'ler</a> ancak bir süre sonra uyumluluğu bozdu ve düzgün bir şekilde desteklenmediği gerçeği<a href=https://en.wikipedia.org/wiki/Filesystem_in_Userspace> sigorta</a> modül tamamen bırakıldığında, şu anda sunucularımda bir [DFS] çalıştırmıyorum, ancak bir ağa bağlanmak için kullanıma hazır bir dosya sistemine sahip olma olasılığı hala çekici.<li><p></ul><h2 id=installation><a class=header-anchor href=#installation> Kurulum</a></h2><p>Görüntüyü yüklemek için, sanal makineler olması durumunda, barındırma sağlayıcısına yükleyebilir ve VNC'den yükleyebilirsiniz, ancak genellikle mevcut bir yüklemeyi ele geçiririm, çünkü her zaman mümkündür, ayrıca kurulum komut dosyasını sürümüne karşı test ettiğim sürece linux dağıtımı, genellikle debian-8 veya ubuntu-14 kullanıyorum, diğerlerini test etmedim, çünkü bunları her zaman kullanılabilir buldum. Kurulum adımları aşağıdaki gibidir<ul><li><p>indirmeler için https desteği sağlayın<li><p>meşgul kutusu sürümünü indirin<li><p>bir meşgul kutusu bağlantı çiftliği kurun<li><p>ağ yapılandırması için ipv4/ipv6 adreslerini belirleyin<li><p>chroot yeteneklerini sağlamak<li><p>çam görüntüsünü indirin ve çıkarın<li><p>eğer sanal makine<ul><li><p>hedef cihaz üzerinde flaş<li><p>bir döngü cihazının üzerine monte edin</ul><li><p>üzerine yerel ağ yapılandırmasını yazın<em> parlatılmak</em> kökler<li><p>eğer konteyner<ul><li><p>init hizmetini (kapsayıcılar için) ana kök bağlama noktası üzerine kopyalayın<code>/sbin/init</code></ul><li><p>eğer sanal makine<ul><li><p>kalan diski standart (<code>xfs</code> ) bölümler<li><p>bağlantısını kesmek<li><p>bölümlerin bütünlüğünü doğrula</ul><li><p>yeniden başlat</ul><h2 id=conclusions><a class=header-anchor href=#conclusions> Sonuçlar</a></h2><p>ben yaptım<a href=https://github.com/untoreh/pine> çam</a> 5 years from time of writing and I am still using it, and I see no reasons to switch to anything else. Alpine as a linux distro is great, simple, and I have never experienced breakage. I can easily deploy on <a href=https://en.wikipedia.org/wiki/Network_address_translation> NAT'lanmış</a> ultra düşük kaynaklar sunma eğiliminde olan sunucular, aslında sadece<code>64M</code> RAM ve hala ihtiyacım olan tüm özelliklere sahip.<p><table class=fndef id=fndef:rootfs><tbody><tr><td class=fndef-backref><a href=#fnref:rootfs>[1]</a><td class=fndef-content>kök dosya sistemi</table><p><div id=post-tags-list>Etiketleri Gönder: <span class=post-tag><a href=https://www.unto.re/tag/tools> aletler</a>, </span><span class=post-tag><a href=https://www.unto.re/tag/about> hakkında</a></span></div><div class=page-foot><div class=copyright>19 Nisan 2021</div><script async crossorigin=anonymous issue-term=pathname label=Comment repo=untoreh/untoreh.github.io src=https://utteranc.es/client.js></script></div></div><div class=page__footer><footer><div class=page__footer-copyright>© untoreh - Destekleyen<a href=https://github.com/tlienart/Franklin.jl> Franklin</a></div><div class=page__footer-links>- <ul><li><a href=/tr/sitemapxml> Site Haritası</a></li> | <li><a href=/tr/tag> Etiketler</a></li> | <li><a href=https://www.unto.re/tag/feed.xml> RSS</a></ul></div><ul class=author__wrap><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer"title="Twitter link"href=https://twitter.com/untoreh><i class="fab fa-fw fa-twitter-square"aria-hidden=true></i></a><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer"title="GitHub link"href=https://github.com/untoreh><i class="fab fa-fw fa-github"aria-hidden=true></i></a><li class="author__urls social-icons"><a href=mailto:contact@unto.re title=email><i class="fas fa-envelope"></i></a><li><script type=application/ld+json>{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"www.unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script></ul></footer></div><script crossorigin=anonymous defer id=fa integrity=sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH src=https://use.fontawesome.com/releases/v5.8.2/js/all.js></script><script src=/libs/colors.js></script><script src=/libs/menu.js></script><script defer src=/libs/lunr/lunr.min.js></script>