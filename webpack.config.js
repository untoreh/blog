const autoprefixer=require("autoprefixer"),path=require("path"),CriticalCssPlugin=require("critical-css-webpack-plugin");module.exports={context:path.resolve(__dirname,"src"),entry:["./css/app.scss","./js/app.js"],plugins:[new CriticalCssPlugin({inline:!1,base:"./__site",src:"http://localhost:8000",dimensions:[{width:1200},{width:600},{width:400},{width:200}],target:{css:"../dist/bundle-crit.css",uncritical:"../dist/bundle.css"},ignore:{atrule:["@font-face"]}})],mode:"production",devServer:{static:{directory:"__site/",staticOptions:{extensions:["html"]}},hot:!0,setupMiddlewares:(e,s)=>{if(!s)throw new Error("webpack-dev-server is not defined");return e}},watchOptions:{aggregateTimeout:300,poll:!0,ignored:/node_modules/},output:{filename:"bundle.js",publicPath:""},module:{rules:[{test:/\.scss$/,use:[{loader:"file-loader",options:{name:"bundle.css"}},{loader:"extract-loader"},{loader:"css-loader",options:{esModule:!1}},{loader:"postcss-loader",options:{postcssOptions:{plugins:[autoprefixer()]}}},{loader:"sass-loader",options:{implementation:require("sass"),webpackImporter:!1,sassOptions:{includePaths:["./node_modules"]}}}]},{test:/\.js$/,loader:"babel-loader",options:{presets:["@babel/preset-env"]}},{test:/\.png$/,loader:"file-loader"},{test:/\.(png|svg|jpe?g|gif)$/,include:/images/,use:[{loader:"file-loader",options:{name:"[name].[ext]",outputPath:"images/",publicPath:"images/"}}]}]}};