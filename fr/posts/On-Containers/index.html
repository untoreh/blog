<!DOCTYPE html><HTML lang="en"><head><meta charset="UTF-8"/><script type="application/ld+json">{"copyrightHolder":"untoreh","@id":"https://unto.re","url":"https://unto.re","copyrightYear":2021,"@context":"https://schema.org/","@type":"WebSite"}</script><script type="application/ld+json">{"audience":"cool people","url":"https://unto.re/posts/On-Containers/index.html","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"accessibilitySummary":"Visual elements are tentatively described.","author":"untoreh","description":"Using containers, what and why","mentions":[],"accessModeSufficient":{"itemListElement":["textual","visual"],"description":"text and images","@type":"itemList"},"lastReviewed":"April 19, 2021","@type":"https://schema.org/WebPage","dateCreated":"April 24, 2021","@id":"https://unto.re/posts/On-Containers/index.html","dateModified":"April 19, 2021","abstract":"Using containers, what and why","headline":"On Containers","creativeWorkStatus":"Published","availableLanguage":[{"name":"English","@type":"Language"},{"name":"German","@type":"Language"},{"name":"Italian","@type":"Language"},{"name":"Mandarin Chinese","@type":"Language"},{"name":"Spanish","@type":"Language"},{"name":"Hindi","@type":"Language"},{"name":"Arabic","@type":"Language"},{"name":"Portuguese","@type":"Language"},{"name":"Bengali","@type":"Language"},{"name":"Russian","@type":"Language"},{"name":"Japanese","@type":"Language"},{"name":"Punjabi","@type":"Language"},{"name":"Javanese","@type":"Language"},{"name":"Vietnamese","@type":"Language"},{"name":"French","@type":"Language"},{"name":"Urdu","@type":"Language"},{"name":"Turkish","@type":"Language"},{"name":"Polish","@type":"Language"},{"name":"Ukranian","@type":"Language"},{"name":"Dutch","@type":"Language"},{"name":"Greek","@type":"Language"},{"name":"Swedish","@type":"Language"},{"name":"Zulu","@type":"Language"},{"name":"Romanian","@type":"Language"},{"name":"Malay","@type":"Language"},{"name":"Korean","@type":"Language"},{"name":"Thai","@type":"Language"},{"name":"Filipino","@type":"Language"}],"keywords":["opinions","about"],"datePublished":"April 24, 2021","inLanguage":"English","name":"On Containers","identifier":"https://unto.re/posts/On-Containers/index.html"}</script><meta content="width=device-width, initial-scale=1" name="viewport"/><link href="/libs/highlight/github.min.css" rel="stylesheet"/><link href="/css/franklin.css" rel="stylesheet"/><link href="/css/main.css" rel="stylesheet"/><link href="/css/menu.css" rel="stylesheet"/><link href="/css/pages.css" rel="stylesheet"/><link href="/css/lunr.css" rel="stylesheet"/><link href="/css/footer.css" rel="stylesheet"/><link href="/css/responsive.css" rel="stylesheet"/><link href="/css/animations.css" rel="stylesheet"/><link href="/css/docco.css" rel="stylesheet"/><link href="/css/flag-icon.min.css" rel="stylesheet"/><link href="/assets/favicon.png" rel="icon"/><title> Sur les conteneurs</title><script src="/libs/lunr/lunr.min.js"></script><script src="/libs/lunr/lunr_index.js"></script><script src="/libs/lunr/lunrclient.min.js"></script><script src="/libs/load.js"></script><script type="application/ld+json">{"@id":"https://unto.re/fr/posts/On-Containers/index.html","url":"https://unto.re/fr/posts/On-Containers/index.html","abstract":null,"headline":null,"keywords":null,"description":null,"mentions":null,"translator":{"url":"https://translate.google.com/","name":"Google","@type":"https://schema.org/Organization"},"translationOfWork":{"@id":"/home/fra/dev/blog/https://unto.re/"},"inLanguage":"fr","name":null,"@type":"https://schema.org/WebPage"}</script></head><body class=""><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><a class="site-title" href="/fr/"></a><div class="author__wrap"><script type="application/ld+json">{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"description":"<ul>\n<li><p><strong>Name</strong>: Francesco Giannelli</p>\n</li>\n<li><p><strong>Website</strong>: &#91;«https://unto.re»&#93;, the place where I put stuff I should remember...or forget</p>\n</li>\n<li><p><strong>Location</strong>: south italy {{bio_link}}</p>\n</li>\n<li><p><strong>Year</strong>: &#39;91</p>\n</li>\n</ul>\n","image":"/assets/appa.png","name":"untoreh","@type":"https://schema.org/Person","email":"contact@unto.re"}</script><ul><li class="author__avatar" onclick="toggleTheme()"><img alt=" untoreh-lumière" class="flip-front" src="/assets/appa.png"/></li><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-twitter-square"></i></a></li><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-github"></i></a></li><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a></li><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=query","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":"https://unto.re/search?&q={query}"}}</script></li></ul></div><nav id="site-nav"><div class="horiz"><ul><li class="masthead__menu-item hvr-outline-in" id="lunrSearch"><form id="lunrSearchForm" name="lunrSearchForm"><button class="search-button" formaction="/search/index.html" type="submit" value="Search"><i class="fas fa-search menu-icons"></i></button><input class="search-input" name="q" placeholder="Search…" type="text"/></form></li><li class="masthead__menu-item hvr-outline-in"><a href="/fr/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> des postes</a></li><li class="masthead__menu-item hvr-outline-in"><a href="/fr/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> À propos</a></li><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class="langs-dropdown-wrapper"><i class="fas fa-language menu-icons"></i> Lang
            <div class="langs-dropdown-content" id="langs-dropdown-menu"><ul id="lang-list"><a class="lang-link" href="/ar/posts/On-Containers" id="lang-ar"><span class="flag-icon flag-icon-sa"></span> arabe</a><a class="lang-link" href="/fr/bn/posts/On-Containers" id="lang-bn"><span class="flag-icon flag-icon-bd"></span> bengali</a><a class="lang-link" href="/fr/nl/posts/On-Containers" id="lang-nl"><span class="flag-icon flag-icon-nl"></span> néerlandais</a><a class="lang-link" href="/fr/en/posts/On-Containers" id="lang-en"><span class="flag-icon flag-icon-gb"></span> Anglais</a><a class="lang-link" href="/fr/tl/posts/On-Containers" id="lang-tl"><span class="flag-icon flag-icon-ph"></span> Philippin</a><a class="lang-link" href="/fr/fr/posts/On-Containers" id="lang-fr"><span class="flag-icon flag-icon-fr"></span> français</a><a class="lang-link" href="/fr/de/posts/On-Containers" id="lang-de"><span class="flag-icon flag-icon-de"></span> Allemand</a><a class="lang-link" href="/fr/el/posts/On-Containers" id="lang-el"><span class="flag-icon flag-icon-gr"></span> grec</a><a class="lang-link" href="/fr/hi/posts/On-Containers" id="lang-hi"><span class="flag-icon flag-icon-in"></span> hindi</a><a class="lang-link" href="/fr/it/posts/On-Containers" id="lang-it"><span class="flag-icon flag-icon-it"></span> italien</a><a class="lang-link" href="/fr/ja/posts/On-Containers" id="lang-ja"><span class="flag-icon flag-icon-jp"></span> Japonais</a><a class="lang-link" href="/fr/jw/posts/On-Containers" id="lang-jw"><span class="flag-icon flag-icon-id"></span> Javanais</a><a class="lang-link" href="/fr/ko/posts/On-Containers" id="lang-ko"><span class="flag-icon flag-icon-kr"></span> coréen</a><a class="lang-link" href="/fr/ms/posts/On-Containers" id="lang-ms"><span class="flag-icon flag-icon-ms"></span> malais</a><a class="lang-link" href="/fr/zh/posts/On-Containers" id="lang-zh"><span class="flag-icon flag-icon-cn"></span> Chinois Mandarin</a><a class="lang-link" href="/fr/pl/posts/On-Containers" id="lang-pl"><span class="flag-icon flag-icon-pl"></span> polonais</a><a class="lang-link" href="/fr/pt/posts/On-Containers" id="lang-pt"><span class="flag-icon flag-icon-pt"></span> Portugais</a><a class="lang-link" href="/fr/pa/posts/On-Containers" id="lang-pa"><span class="flag-icon flag-icon-in"></span> Pendjabi</a><a class="lang-link" href="/fr/ro/posts/On-Containers" id="lang-ro"><span class="flag-icon flag-icon-ro"></span> roumain</a><a class="lang-link" href="/fr/ru/posts/On-Containers" id="lang-ru"><span class="flag-icon flag-icon-ru"></span> russe</a><a class="lang-link" href="/fr/es/posts/On-Containers" id="lang-es"><span class="flag-icon flag-icon-es"></span> Espanol</a><a class="lang-link" href="/fr/sv/posts/On-Containers" id="lang-sv"><span class="flag-icon flag-icon-se"></span> suédois</a><a class="lang-link" href="/fr/th/posts/On-Containers" id="lang-th"><span class="flag-icon flag-icon-th"></span> thaïlandais</a><a class="lang-link" href="/fr/tr/posts/On-Containers" id="lang-tr"><span class="flag-icon flag-icon-tr"></span> turc</a><a class="lang-link" href="/fr/uk/posts/On-Containers" id="lang-uk"><span class="flag-icon flag-icon-ua"></span> ukrainien</a><a class="lang-link" href="/fr/ur/posts/On-Containers" id="lang-ur"><span class="flag-icon flag-icon-pk"></span> ourdou</a><a class="lang-link" href="/fr/vi/posts/On-Containers" id="lang-vi"><span class="flag-icon flag-icon-vn"></span> vietnamien</a><a class="lang-link" href="/fr/zu/posts/On-Containers" id="lang-zu"><span class="flag-icon flag-icon-za"></span> zoulou</a></ul></div></button></li></ul></div><button class="ham"><i class="fas fa-bars ham-icon"></i></button><div class="vert"><ul><li class="masthead__menu-item hvr-outline-in" id="lunrSearch"><form id="lunrSearchForm" name="lunrSearchForm"><button class="search-button" formaction="/search/index.html" type="submit" value="Search"><i class="fas fa-search menu-icons"></i></button><input class="search-input" name="q" placeholder="Search…" type="text"/></form></li><li class="masthead__menu-item hvr-outline-in"><a href="/fr/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> des postes</a></li><li class="masthead__menu-item hvr-outline-in"><a href="/fr/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> À propos</a></li><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class="langs-dropdown-wrapper"><i class="fas fa-language menu-icons"></i> Lang
            <div class="langs-dropdown-content" id="langs-dropdown-menu"><ul id="lang-list"><a class="lang-link" href="/ar/posts/On-Containers" id="lang-ar"><span class="flag-icon flag-icon-sa"></span> arabe</a><a class="lang-link" href="/fr/bn/posts/On-Containers" id="lang-bn"><span class="flag-icon flag-icon-bd"></span> bengali</a><a class="lang-link" href="/fr/nl/posts/On-Containers" id="lang-nl"><span class="flag-icon flag-icon-nl"></span> néerlandais</a><a class="lang-link" href="/fr/en/posts/On-Containers" id="lang-en"><span class="flag-icon flag-icon-gb"></span> Anglais</a><a class="lang-link" href="/fr/tl/posts/On-Containers" id="lang-tl"><span class="flag-icon flag-icon-ph"></span> Philippin</a><a class="lang-link" href="/fr/fr/posts/On-Containers" id="lang-fr"><span class="flag-icon flag-icon-fr"></span> français</a><a class="lang-link" href="/fr/de/posts/On-Containers" id="lang-de"><span class="flag-icon flag-icon-de"></span> Allemand</a><a class="lang-link" href="/fr/el/posts/On-Containers" id="lang-el"><span class="flag-icon flag-icon-gr"></span> grec</a><a class="lang-link" href="/fr/hi/posts/On-Containers" id="lang-hi"><span class="flag-icon flag-icon-in"></span> hindi</a><a class="lang-link" href="/fr/it/posts/On-Containers" id="lang-it"><span class="flag-icon flag-icon-it"></span> italien</a><a class="lang-link" href="/fr/ja/posts/On-Containers" id="lang-ja"><span class="flag-icon flag-icon-jp"></span> Japonais</a><a class="lang-link" href="/fr/jw/posts/On-Containers" id="lang-jw"><span class="flag-icon flag-icon-id"></span> Javanais</a><a class="lang-link" href="/fr/ko/posts/On-Containers" id="lang-ko"><span class="flag-icon flag-icon-kr"></span> coréen</a><a class="lang-link" href="/fr/ms/posts/On-Containers" id="lang-ms"><span class="flag-icon flag-icon-ms"></span> malais</a><a class="lang-link" href="/fr/zh/posts/On-Containers" id="lang-zh"><span class="flag-icon flag-icon-cn"></span> Chinois Mandarin</a><a class="lang-link" href="/fr/pl/posts/On-Containers" id="lang-pl"><span class="flag-icon flag-icon-pl"></span> polonais</a><a class="lang-link" href="/fr/pt/posts/On-Containers" id="lang-pt"><span class="flag-icon flag-icon-pt"></span> Portugais</a><a class="lang-link" href="/fr/pa/posts/On-Containers" id="lang-pa"><span class="flag-icon flag-icon-in"></span> Pendjabi</a><a class="lang-link" href="/fr/ro/posts/On-Containers" id="lang-ro"><span class="flag-icon flag-icon-ro"></span> roumain</a><a class="lang-link" href="/fr/ru/posts/On-Containers" id="lang-ru"><span class="flag-icon flag-icon-ru"></span> russe</a><a class="lang-link" href="/fr/es/posts/On-Containers" id="lang-es"><span class="flag-icon flag-icon-es"></span> Espanol</a><a class="lang-link" href="/fr/sv/posts/On-Containers" id="lang-sv"><span class="flag-icon flag-icon-se"></span> suédois</a><a class="lang-link" href="/fr/th/posts/On-Containers" id="lang-th"><span class="flag-icon flag-icon-th"></span> thaïlandais</a><a class="lang-link" href="/fr/tr/posts/On-Containers" id="lang-tr"><span class="flag-icon flag-icon-tr"></span> turc</a><a class="lang-link" href="/fr/uk/posts/On-Containers" id="lang-uk"><span class="flag-icon flag-icon-ua"></span> ukrainien</a><a class="lang-link" href="/fr/ur/posts/On-Containers" id="lang-ur"><span class="flag-icon flag-icon-pk"></span> ourdou</a><a class="lang-link" href="/fr/vi/posts/On-Containers" id="lang-vi"><span class="flag-icon flag-icon-vn"></span> vietnamien</a><a class="lang-link" href="/fr/zu/posts/On-Containers" id="lang-zu"><span class="flag-icon flag-icon-za"></span> zoulou</a></ul></div></button></li></ul></div></nav></div></div></div><div><h1 id="title"><a href="/fr/posts/On-Containers"> Sur les conteneurs</a></h1><blockquote id="page-description" style="font-style: italic;"> 
                Utiliser des conteneurs, quoi et pourquoi
            </blockquote></div><div class="franklin-content"><h2 id="what_are_containers"><a class="header-anchor" href="#what_are_containers"> Que sont les conteneurs</a></h2><p> [Containers] est un nom donné aux environnements restreints, rendus possibles par une collection de sous-systèmes au sein de Linux comme [<code>cgroups</code> ] et [<code>namespaces</code> ]. Bien que la page wiki utilise le mot<em> virtualisation</em>  je pense que le mot<em> isolation</em>  est plus approprié, car la virtualisation signifie qu'il existe une couche de traduction entre les deux, tandis que les groupes de contrôle et les espaces de noms séparent et contextualisent les processus.</p><p> Les groupes de contrôle sont utilisés pour définir les politiques d'allocation des ressources, généralement<code>RAM</code>  et<code>CPU</code> , tandis que les espaces de noms contrôlent les contextes tels que les points de montage, la mise en réseau et les utilisateurs. [Apparmor] fournit plutôt un moyen de restreindre les capacités des environnements de conteneurs dans leur ensemble, alors que apparmor sans conteneurs est, comme écrit dans wikipedia, basé sur un programme.</p><p> Des outils comme<a href="https://en.wikipedia.org/wiki/Flatpak"> plat</a>  et<a href="https://github.com/netblue30/firejail"> caserne de pompiers</a>utiliser des conteneurs, pour contraindre la surface d'accès des applications utilisateur. Les conteneurs [Windows] implémentent des systèmes équivalents et offrent également une prise en charge des conteneurs Linux via [WSL].</p><h2 id="but_why"><a class="header-anchor" href="#but_why"> Mais pourquoi?</a></h2><ul><li><p> Parfois pour la sécurité, mais dans ce cas, la virtualisation complète donne de meilleures garanties.</p></li><li><p> Pour obtenir la reproductibilité de l'exécution et la portabilité, de sorte que les applications reposant sur des configurations d'environnements particuliers puissent s'exécuter sans déranger l'utilisateur pour des étapes de configuration supplémentaires.</p></li><li><p> Un logiciel de planification et d'orchestration comme kubernetes utilise [des environnements d'exécution de conteneur] pour déplacer les services entre les hôtes de manière transparente et pour abstraire la logique d'exécution.</p></li></ul><h2 id="too_much"><a class="header-anchor" href="#too_much"> Trop?</a></h2><p> Quand j'ai commencé à construire<a href="/fr/posts/alpine/"> pin</a> , j'ai un peu expérimenté l'envoi de mes propres images de conteneurs, distribuées à partir des versions de github. Le scénario principal (<code>trees</code> ) les commandes étaient</p><pre><code class="sh hljs">Usage: trees APP [FLAGS]...
<span class="hljs-string">'APP'</span>               Install apps through ostree deltas checkouts.
    -b, --base      base image (alp,trub...)
    -n, --name      same as APP (etcd,hhvm...)
    -f, --force     clear before install
    -d, --delete    clear checkout and prune ostree repo
ck, check           make sure the apps repo is mounted
co, checkout        builds the trees of links <span class="hljs-keyword">for</span> the specified APP
    -t 	            optional path <span class="hljs-built_in">where</span> to build the tree</code></pre><p> C'était similaire à flatpak, car j'envoyais un delta statique ostree basé sur l'image principale du pin, et [vérifier] le nouveau rootfs basé sur l'application, puis lancer une instance de conteneur par-dessus. OpenVZ avait beaucoup de problèmes avant la v7 pour exécuter un conteneur (puisque vous savez... vous exécutiez un<em> imbriqué</em>  conteneur sur un [VPS] basé sur un conteneur, et le noyau était un fork de<code>v2.6</code>  (!))...c'était un<strong> énorme</strong>  perte de temps.</p><h2 id="when"><a class="header-anchor" href="#when"> Lorsque?</a></h2><p> Ma tentative était d'obtenir un environnement d'exécution de conteneur minimal sans nécessiter<code>docker</code>  ou un logiciel plus costaud, car docker est probablement le plus léger, et<a href="https://docs.docker.com/engine/swarm/"> essaim de dockers</a> , étant intégré, partage de nombreuses fonctionnalités et vous fournit les fonctionnalités les plus utiles pour l'orchestration, ce qui en fait la configuration la plus adaptée aux exigences du système hôte par rapport à<a href="https://docs.kublr.com/installation/hardware-recommendation/"> k8s</a>  ou<a href="https://www.nomadproject.io/docs/install/production/requirements"> nomade</a>.</p><p>Bien que les conteneurs soient une fonctionnalité que vous pourriez souhaiter la plupart du temps, l'orchestration ne l'est pas. je pense<em> vaguement ciblé</em>  les campagnes publicitaires attirent<em> non intentionnel</em>  public cible pour un tel logiciel, faisant croire qu'il peut être utile<em> pour eux</em> , sans insister sur la prémisse que vous<strong> vraiment</strong>  besoin d'évoluer beaucoup (!) Pour justifier le coût de complexité de telles configurations. Le nombre de<a href="https://reddit.com/r/kubernetes/comments/be0415/k3s_minikube_or_microk8s/el2xy5r/"> outillage pratique</a>  construit autour de k8s pour aider le processus d'amorçage d'un cluster k8s devrait être une preuve suffisante ...</p><h2 id="conclusions"><a class="header-anchor" href="#conclusions"> Conclusion</a></h2><p> Les outils d'orchestration finissent par encombrer la place des solutions de gestion de machines multi-hôtes lorsque les utilisateurs ne peuvent pas faire la différence entre les serveurs pour animaux de compagnie et les serveurs de bétail. A de nombreuses reprises, des logiciels comme ansible, pyinfra ou encore<a href="https://github.com/duncs/clusterssh"> cssh</a>  ou<a href="https://github.com/moul/assh"> cendre</a>  est tout ce dont on a besoin.</p><p></p><div id="post-tags-list"> 
Mots-clés :
<span class="post-tag"><a href="/fr/posts/tag/opinions" style="">  des avis</a>, </span><span class="post-tag"><a href="/fr/posts/tag/about" style="">  À propos</a></span></div><div class="page-foot"><div class="copyright"> 
        19 avril 2021
    </div><script async="" crossorigin="anonymous" issue-term="pathname" label="Comment" repo="untoreh/untoreh.github.io" src="https://utteranc.es/client.js"></script></div></div><div class="page__footer"><footer><div class="page__footer-copyright"> 
            © untoreh - Propulsé par<a href="https://github.com/tlienart/Franklin.jl"> Franklin</a></div><div class="page__footer-links">
            -
            <ul><li><a href="/fr/sitemap.xml"> Plan du site</a></li>
                |
                <li><a href="/fr/tag"> Mots clés</a></li>
                |
                <li><a href="/fr/feed.xml"> RSS</a></li></ul></div><ul class="author__wrap"><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-twitter-square"></i></a></li><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-github"></i></a></li><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a></li><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=query","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":"https://unto.re/search?&q={query}"}}</script></li></ul></footer></div><script crossorigin="anonymous" defer="" id="fa" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" src="https://use.fontawesome.com/releases/v5.8.2/js/all.js"></script><script src="/libs/colors.js"></script><script src="/libs/menu.js"></script><script defer="" src="/libs/lunr/lunr.min.js"></script></body></HTML>