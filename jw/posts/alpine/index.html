<!doctypehtml><html prefix="og: https://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#"lang=jw><meta charset=UTF-8><meta content=width=device-width,initial-scale=1 name=viewport><link href=https://www.unto.re/jw/posts/alpine/ rel=canonical><link href=https://www.unto.re/de/posts/alpine hreflang=de rel=alternate><link href=https://www.unto.re/it/posts/alpine hreflang=it rel=alternate><link href=https://www.unto.re/zh/posts/alpine hreflang=zh rel=alternate><link href=https://www.unto.re/es/posts/alpine hreflang=es rel=alternate><link href=https://www.unto.re/hi/posts/alpine hreflang=hi rel=alternate><link href=https://www.unto.re/ar/posts/alpine hreflang=ar rel=alternate><link href=https://www.unto.re/pt/posts/alpine hreflang=pt rel=alternate><link href=https://www.unto.re/bn/posts/alpine hreflang=bn rel=alternate><link href=https://www.unto.re/ru/posts/alpine hreflang=ru rel=alternate><link href=https://www.unto.re/ja/posts/alpine hreflang=ja rel=alternate><link href=https://www.unto.re/pa/posts/alpine hreflang=pa rel=alternate><link href=https://www.unto.re/jw/posts/alpine hreflang=jw rel=alternate><link href=https://www.unto.re/vi/posts/alpine hreflang=vi rel=alternate><link href=https://www.unto.re/fr/posts/alpine hreflang=fr rel=alternate><link href=https://www.unto.re/ur/posts/alpine hreflang=ur rel=alternate><link href=https://www.unto.re/tr/posts/alpine hreflang=tr rel=alternate><link href=https://www.unto.re/pl/posts/alpine hreflang=pl rel=alternate><link href=https://www.unto.re/uk/posts/alpine hreflang=uk rel=alternate><link href=https://www.unto.re/nl/posts/alpine hreflang=nl rel=alternate><link href=https://www.unto.re/el/posts/alpine hreflang=el rel=alternate><link href=https://www.unto.re/sv/posts/alpine hreflang=sv rel=alternate><link href=https://www.unto.re/zu/posts/alpine hreflang=zu rel=alternate><link href=https://www.unto.re/ro/posts/alpine hreflang=ro rel=alternate><link href=https://www.unto.re/ms/posts/alpine hreflang=ms rel=alternate><link href=https://www.unto.re/ko/posts/alpine hreflang=ko rel=alternate><link href=https://www.unto.re/th/posts/alpine hreflang=th rel=alternate><link href=https://www.unto.re/tl/posts/alpine hreflang=tl rel=alternate><link title="situs untoreh"href=https://www.unto.re/feed.xml rel=alternate type=application/rss+xml><link href=https://www.unto.re/amp/jw/posts/alpine/ rel=amphtml><meta content=Alpine property=og:title><meta content=article property=og:type><meta content=https://www.unto.re/posts/alpine property=og:url><meta content=https://www.unto.re/assets/appa.webp property=og:image><meta content="Pine, Alpine linux based on OSTree"property=og:description><meta content="untoreh's site"property=og:site_name><meta content=en_US property=og:locale><meta content=summary name=twitter:card><meta content=@untoreh name=twitter:creator><script type=application/ld+json>{"copyrightHolder":"untoreh","@id":"https://www.unto.re","url":"https://www.unto.re","copyrightYear":2022,"@context":"https://schema.org/","image":"/assets/appa.webp","@type":"WebSite"}</script><script id=ldj-webpage type=application/ld+json>{"audience":"cool people","url":"https://www.unto.re/posts/alpine/index.html","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"accessibilitySummary":"Visual elements are tentatively described.","description":"Pine, Alpine linux based on OSTree","author":{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"email":"contact@unto.re","name":"untoreh","@type":"https://schema.org/Person","image":"/assets/appa.webp"},"mentions":[],"@context":"https://schema.org","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"@type":"https://schema.org/WebPage","lastReviewed":"2021-04-19","dateCreated":"April 24, 2021","@id":"https://www.unto.re/posts/alpine/index.html","dateModified":"2021-04-19","availableLanguage":[{"name":"English","@type":"Language"},{"name":"German","@type":"Language"},{"name":"Italian","@type":"Language"},{"name":"Mandarin Chinese","@type":"Language"},{"name":"Spanish","@type":"Language"},{"name":"Hindi","@type":"Language"},{"name":"Arabic","@type":"Language"},{"name":"Portuguese","@type":"Language"},{"name":"Bengali","@type":"Language"},{"name":"Russian","@type":"Language"},{"name":"Japanese","@type":"Language"},{"name":"Punjabi","@type":"Language"},{"name":"Javanese","@type":"Language"},{"name":"Vietnamese","@type":"Language"},{"name":"French","@type":"Language"},{"name":"Urdu","@type":"Language"},{"name":"Turkish","@type":"Language"},{"name":"Polish","@type":"Language"},{"name":"Ukranian","@type":"Language"},{"name":"Dutch","@type":"Language"},{"name":"Greek","@type":"Language"},{"name":"Swedish","@type":"Language"},{"name":"Zulu","@type":"Language"},{"name":"Romanian","@type":"Language"},{"name":"Malay","@type":"Language"},{"name":"Korean","@type":"Language"},{"name":"Thai","@type":"Language"},{"name":"Filipino","@type":"Language"}],"keywords":["tools","about"],"creativeWorkStatus":"Published","publisher":{"url":"https://www.unto.re","sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"contactPoint":{"contactType":"info","email":"contact@unto.re","@type":"ContactPoint","telephone":""},"logo":"/assets/appa-60px.png","name":"untoreh's site","@type":"Organization"},"datePublished":"2021-04-19","inLanguage":"English","image":"/assets/appa.webp","name":"","mainEntityOfPage":{"@id":"https://www.unto.re/posts/alpine/index.html","@type":"Article"}}</script><script id=ldj-breadcrumbs type=application/ld+json>{"itemListElement":[{"position":1,"item":"https://www.unto.re","name":"Home","@type":"ListItem"},{"position":2,"item":"/posts/","name":"Posts List","@type":"ListItem"},{"position":3,"item":"https://www.unto.re/posts/alpine","name":"Alpine","@type":"ListItem"}],"@type":"BreadcrumbList"}</script><link href=/css/franklin.css rel=stylesheet><link href=/css/main.css rel=stylesheet><link href=/css/menu.css rel=stylesheet><link href=/css/pages.css rel=stylesheet><link href=/css/lunr.css rel=stylesheet><link href=/css/footer.css rel=stylesheet><link href=/css/responsive.css rel=stylesheet><link href=/css/animations.css rel=stylesheet><link href=/css/docco.css rel=stylesheet><link href=/css/flags-sprite.css rel=stylesheet><link href=/assets/favicon.png rel=icon type=image/x-icon><link href=/assets/favicon.svg rel=icon type=image/svg+xml><title> Alpine</title><meta content="Pine, Alpine linux based on OSTree"name=description><script src=/libs/load.js></script><script type=application/ld+json>{"url":"/jw/posts/alpine/","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"mentions":null,"description":"","@context":"https://schema.org","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"@type":"https://schema.org/WebPage","lastReviewed":"","dateCreated":"","@id":"/jw/posts/alpine/","dateModified":"","keywords":[],"creativeWorkStatus":"Published","translator":{"url":"http://google.translate.com","name":"Google Translate","@type":"https://schema.org/Organization"},"translationOfWork":{"@id":"https://www.unto.re/posts/alpine/"},"datePublished":"2022-08-08T17:30:15.382","inLanguage":"jw","name":"","mainEntityOfPage":{"@id":"/jw/posts/alpine/","@type":"Article"}}</script><body><div class=masthead><div class=masthead__menu__inner-wrap><div class=masthead__menu><a title="untoreh's site"class=site-title href=/jw/></a><div class=author__wrap><script type=application/ld+json>{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"email":"contact@unto.re","name":"untoreh","@type":"https://schema.org/Person","image":"/assets/appa.webp"}</script><ul><li class=author__avatar onclick=toggleTheme()><img alt=" cahya untoreh"class=flip-front src=/assets/appa.webp><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer" title="Twitter link"href=https://twitter.com/untoreh><i class="fab fa-fw fa-twitter-square"aria-hidden=true></i></a><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer" title="GitHub link"href=https://github.com/untoreh><i class="fab fa-fw fa-github"aria-hidden=true></i></a><li class="author__urls social-icons"><a href=mailto:contact@unto.re title=email><i class="fas fa-envelope"></i></a><li><script type=application/ld+json>{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"www.unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script></ul></div><nav id=site-nav><div class=horiz><ul><li class="lunrSearch masthead__menu-item hvr-outline-in"><form class=lunrSearchForm name=lunrSearchForm><button title="Telusuri Situs Web"class=search-button formaction=/search/index.html value=Search><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder=Search…></form><li class="masthead__menu-item hvr-outline-in"><a title="All the articles that I have written"href=/jw/posts/><i class="fas fa-pen menu-icons"></i> kiriman</a><li class="masthead__menu-item hvr-outline-in"><a title="Video and audio content from streaming websites."href=/jw/media/><i class="fas fa-tv menu-icons"></i> media</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website's language"><button title="Languages Menu"class=langs-dropdown-wrapper type=button><i class="fas fa-language menu-icons"></i> Lang <div class="langs-dropdown-content langs-dropdown-menu"><ul class=lang-list><a class="lang-link lang-ar"href=/ar/posts/alpine><span class="flag flag-sa"></span>Arabic</a><a class="lang-link lang-bn"href=/bn/posts/alpine><span class="flag flag-bd"></span>Bengali</a><a class="lang-link lang-nl"href=/nl/posts/alpine><span class="flag flag-nl"></span>Dutch</a><a class="lang-link lang-en"href=/posts/alpine><span class="flag flag-gb"></span>English</a><a class="lang-link lang-tl"href=/tl/posts/alpine><span class="flag flag-ph"></span>Filipino</a><a class="lang-link lang-fr"href=/fr/posts/alpine><span class="flag flag-fr"></span>French</a><a class="lang-link lang-de"href=/de/posts/alpine><span class="flag flag-de"></span>German</a><a class="lang-link lang-el"href=/el/posts/alpine><span class="flag flag-gr"></span>Greek</a><a class="lang-link lang-hi"href=/hi/posts/alpine><span class="flag flag-in"></span>Hindi</a><a class="lang-link lang-it"href=/it/posts/alpine><span class="flag flag-it"></span>Italian</a><a class="lang-link lang-ja"href=/ja/posts/alpine><span class="flag flag-jp"></span>Japanese</a><a class="lang-link lang-jw"href=/jw/posts/alpine><span class="flag flag-id"></span>Javanese</a><a class="lang-link lang-ko"href=/ko/posts/alpine><span class="flag flag-kr"></span>Korean</a><a class="lang-link lang-ms"href=/ms/posts/alpine><span class="flag flag-ms"></span>Malay</a><a class="lang-link lang-zh"href=/zh/posts/alpine><span class="flag flag-cn"></span>Mandarin Chinese</a><a class="lang-link lang-pl"href=/pl/posts/alpine><span class="flag flag-pl"></span>Polish</a><a class="lang-link lang-pt"href=/pt/posts/alpine><span class="flag flag-pt"></span>Portuguese</a><a class="lang-link lang-pa"href=/pa/posts/alpine><span class="flag flag-in"></span>Punjabi</a><a class="lang-link lang-ro"href=/ro/posts/alpine><span class="flag flag-ro"></span>Romanian</a><a class="lang-link lang-ru"href=/ru/posts/alpine><span class="flag flag-ru"></span>Russian</a><a class="lang-link lang-es"href=/es/posts/alpine><span class="flag flag-es"></span>Spanish</a><a class="lang-link lang-sv"href=/sv/posts/alpine><span class="flag flag-se"></span>Swedish</a><a class="lang-link lang-th"href=/th/posts/alpine><span class="flag flag-th"></span>Thai</a><a class="lang-link lang-tr"href=/tr/posts/alpine><span class="flag flag-tr"></span>Turkish</a><a class="lang-link lang-uk"href=/uk/posts/alpine><span class="flag flag-ua"></span>Ukranian</a><a class="lang-link lang-ur"href=/ur/posts/alpine><span class="flag flag-pk"></span>Urdu</a><a class="lang-link lang-vi"href=/vi/posts/alpine><span class="flag flag-vn"></span>Vietnamese</a><a class="lang-link lang-zu"href=/zu/posts/alpine><span class="flag flag-za"></span>Zulu</a></ul></div></button></ul></div><button name="Website Menu"class=ham type=button><i class="fas fa-bars ham-icon"></i></button><div class=vert><ul><li class="lunrSearch masthead__menu-item hvr-outline-in"><form class=lunrSearchForm name=lunrSearchForm><button title="Telusuri Situs Web"class=search-button formaction=/search/index.html value=Search><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder=Search…></form><li class="masthead__menu-item hvr-outline-in"><a title="All the articles that I have written"href=/jw/posts/><i class="fas fa-pen menu-icons"></i> kiriman</a><li class="masthead__menu-item hvr-outline-in"><a title="Video and audio content from streaming websites."href=/jw/media/><i class="fas fa-tv menu-icons"></i> media</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website's language"><button title="Languages Menu"class=langs-dropdown-wrapper type=button><i class="fas fa-language menu-icons"></i> Lang <div class="langs-dropdown-content langs-dropdown-menu"><ul class=lang-list><a class="lang-link lang-ar"href=/ar/posts/alpine><span class="flag flag-sa"></span>Arabic</a><a class="lang-link lang-bn"href=/bn/posts/alpine><span class="flag flag-bd"></span>Bengali</a><a class="lang-link lang-nl"href=/nl/posts/alpine><span class="flag flag-nl"></span>Dutch</a><a class="lang-link lang-en"href=/posts/alpine><span class="flag flag-gb"></span>English</a><a class="lang-link lang-tl"href=/tl/posts/alpine><span class="flag flag-ph"></span>Filipino</a><a class="lang-link lang-fr"href=/fr/posts/alpine><span class="flag flag-fr"></span>French</a><a class="lang-link lang-de"href=/de/posts/alpine><span class="flag flag-de"></span>German</a><a class="lang-link lang-el"href=/el/posts/alpine><span class="flag flag-gr"></span>Greek</a><a class="lang-link lang-hi"href=/hi/posts/alpine><span class="flag flag-in"></span>Hindi</a><a class="lang-link lang-it"href=/it/posts/alpine><span class="flag flag-it"></span>Italian</a><a class="lang-link lang-ja"href=/ja/posts/alpine><span class="flag flag-jp"></span>Japanese</a><a class="lang-link lang-jw"href=/jw/posts/alpine><span class="flag flag-id"></span>Javanese</a><a class="lang-link lang-ko"href=/ko/posts/alpine><span class="flag flag-kr"></span>Korean</a><a class="lang-link lang-ms"href=/ms/posts/alpine><span class="flag flag-ms"></span>Malay</a><a class="lang-link lang-zh"href=/zh/posts/alpine><span class="flag flag-cn"></span>Mandarin Chinese</a><a class="lang-link lang-pl"href=/pl/posts/alpine><span class="flag flag-pl"></span>Polish</a><a class="lang-link lang-pt"href=/pt/posts/alpine><span class="flag flag-pt"></span>Portuguese</a><a class="lang-link lang-pa"href=/pa/posts/alpine><span class="flag flag-in"></span>Punjabi</a><a class="lang-link lang-ro"href=/ro/posts/alpine><span class="flag flag-ro"></span>Romanian</a><a class="lang-link lang-ru"href=/ru/posts/alpine><span class="flag flag-ru"></span>Russian</a><a class="lang-link lang-es"href=/es/posts/alpine><span class="flag flag-es"></span>Spanish</a><a class="lang-link lang-sv"href=/sv/posts/alpine><span class="flag flag-se"></span>Swedish</a><a class="lang-link lang-th"href=/th/posts/alpine><span class="flag flag-th"></span>Thai</a><a class="lang-link lang-tr"href=/tr/posts/alpine><span class="flag flag-tr"></span>Turkish</a><a class="lang-link lang-uk"href=/uk/posts/alpine><span class="flag flag-ua"></span>Ukranian</a><a class="lang-link lang-ur"href=/ur/posts/alpine><span class="flag flag-pk"></span>Urdu</a><a class="lang-link lang-vi"href=/vi/posts/alpine><span class="flag flag-vn"></span>Vietnamese</a><a class="lang-link lang-zu"href=/zu/posts/alpine><span class="flag flag-za"></span>Zulu</a></ul></div></button></ul></div></nav></div></div></div><div><h1 id=title><a href=/jw/posts/alpine> Alpine</a></h1><blockquote id=page-description style=font-style:italic>Pinus, linux Alpine adhedhasar OSTree</blockquote></div><div class=franklin-content><p>Milih apa<a href=https://en.wikipedia.org/wiki/Operating_system> OS</a> mlaku ing server sampeyan yaiku perkara sing nyenengake lan akrab. Penak tegese sampeyan pengin prekara sing ora bisa nyusahake, akrab tegese sampeyan luwih seneng<em> ora</em> sinau bab tambahan yen ora prelu.<p>Serverku yaiku<a href=https://devops.stackexchange.com/questions/653/what-is-the-definition-of-cattle-not-pets> kéwan ingon</a>mula, aku ok menehi sawetara perintah kanthi manual, lan ora mbutuhake otomatisasi lengkap.<p>Sawise nyoba<a href=https://en.wikipedia.org/wiki/Container_Linux> CoreOS</a> setaun aku ganti dhewe sing wis disederhanakake<a href=https://en.wikipedia.org/wiki/Linux_distribution> distro</a> adhedhasar alpine lan<a href=https://en.wikipedia.org/wiki/OSTree> ostree</a>.<h2 id=goals><a class=header-anchor href=#goals> Gol</a></h2><p>Versi alpine iki njupuk isyarat<a href=https://kinvolk.io/flatcar-container-linux/> flatcar</a> lan<a href=https://www.projectatomic.io/> atom-proyek</a> lan mesthine bakal diinstal minangka sistem file root sing diwaca mung kanthi nganyari kanthi atom, yaiku, sukses utawa sistem kasebut bisa diganti karo negara sadurunge. Supaya bisa dadi sistem kudu paling ora<strong> rong gambar asli seko</strong> versi sistem file sing dirilis, kasedhiya ing panyimpenan.<h2 id=targets><a class=header-anchor href=#targets> Target</a></h2><p>Ing lingkungan apa sistem kasebut bakal mbukak? Aku target<a href=https://en.wikipedia.org/wiki/OpenVZ> OVZ</a> lan [KVM], nanging umume sampeyan bisa ngomong<em> wadhah</em> lan<em> mesin virtual</em> kanthi bedane utama yaiku kontainer ora mbukak kernel dhewe, khususe ora duwe proses boot, dheweke langsung mlebu<em> init</em> sistem (sing contone ing a<code><a href=https://en.wikipedia.org/wiki/Docker_(software)>Dockerfile</a></code> iku bakal ditetepake dening<code>CMD</code> utawa<code>ENTRYPOINT</code> pernyataan), sing tanggung jawab ngatur wit prcesses sing njaga kontainer tetep mlaku (kaya sesi normal, yen proses init mati, kontainer bakal entek). Uga kontainer ora bisa ngonfigurasi tombol sistem, lan bisa uga duwe watesan tambahan kanggo kapabilitas.<h2 id=bisecting_the_build_process><a class=header-anchor href=#bisecting_the_build_process> Ngganggu proses pambangunan</a></h2><p>Kepiye gambar dibangun?<h3 id=dependencies><a class=header-anchor href=#dependencies> Dependensi</a></h3><p>Ing<code>prepare.sh</code> skrip ngatasi katergantungan, sing umume minangka paket kanggo nawakake alat kliwat umum kaya<code>coreutils</code>, <code>util-linux</code>, <code>binutils</code> , keperluan kanggo operasi karo piranti blok kayata<code>blkid</code>, <code>sfdisk</code>, <code>multipath-tools</code> lan sistem file nganggo<code>xfsprogs</code> lan<code>e2fsprogs</code> . Ing<code>squashfs-tools</code> paket digunakake ing pungkasan kanggo ngompres sistem file root sing dibangun. A<code>glib</code> paket kompatibilitas uga diinstal kanthi gawan amarga alpine adhedhasar<code><a href=https://musl.libc.org/>musl</a></code>, paket kompatibilitas bisa digunakake kanthi nyediakake sawetara perpustakaan sing dibangun.<h3 id=the_tree><a class=header-anchor href=#the_tree> Wit kasebut</a></h3><p>Wit-witan file kanggo VM lan kontainer dibangun masing-masing<code>make.sh</code> lan<code>make_ovz.sh</code> . Iki minangka gambaran langkah-langkah sing disederhanakake<ul><li><p>atur versi sing bakal dibangun miturut tag repositori<li><p>gawe direktori kanggo wit anyar lan bersihake lingkungane<li><p>nggawe direktori target dhasar lan direktori sing dibutuhake dening ostree, kaya<code>sysroot</code><li><p>nggawe symlinks kanggo salaras karo<a href=https://www.freedesktop.org/software/systemd/man/file-hierarchy.html> standar hirarki filesystem</a><li><p>nyalin layanan khusus lan konfigurasi khusus<li><p>chroot persiyapan kanthi direktori sistem sing dipasang<li><p>bootstrap rootfs alpine kanthi paket dhasar<li><p>aplikasi konfigurasi paling sithik kanggo root root kayata kredensial, zona wektu, jeneng host.<li><p>layanan salinan kanggo miwiti dening init<li><p>atur konfigurasi boot kanthi gambar kernel sing ditemtokake<li><p>opsional nambah modul kernel khusus<li><p>nindakake reresik<li><p>nindakake ROOT<sup id=fnref:rootfs><a class=fnref href=#fndef:rootfs>[1]</a></sup> menyang repositori ostree</ul><p>Kanggo kontainer, urutane padha, nanging konfigurasi diganti, amarga karo sistem ora boot saka a<a href=https://en.wikipedia.org/wiki/Bootloader> bootloader</a> ostree duwe masalah verifikasi lingkungan, kita kudu ngetrapake sawetara<a href=https://github.com/untoreh/pine/blob/e65f12be70fd91edfd935e3ae9854c7be555ec73/make_ovz.sh#L73> solusi kanggo ngrampungake</a> lan nyetel sawetara piranti sing biasane ditangani dening<a href=https://en.wikipedia.org/wiki/Initial_ramdisk> initramfs</a> langkah Iki carane<a href=https://en.wikipedia.org/wiki/OpenVZ> OVZ</a> utawa<a href=https://en.wikipedia.org/wiki/LXC> LXC</a> template dikonfigurasi.<h3 id=packaging><a class=header-anchor href=#packaging> Kemasan</a></h3><p>Sawise duwe wit file sing setya<code>build.sh</code> utawa<code>build-update.sh</code> ngurus produksi artefak sing bakal disebarake. Bedane skrip yaiku versi pembaruan diwiwiti saka repositori ostree sadurunge, lan<em> uga</em> ngasilake artefak delta sing bisa digunakake sistem sing mlaku kanthi conto kanggo nganyari. Iki minangka gambaran sing gampang saka langkah-langkah pambangunan<ul><li><p>yen gawe anyar<ul><li><p>nggawe partisi anyar ing gambar anyar sing dipasang minangka piranti loop</ul><li><p>liya<ul><li><p>pasang partisi sysroot lan boot saka build sadurunge</ul><li><p>ngresiki penyebaran ostree sadurunge (peternakan link) ing build sing dipasang<li><p>nggawe wit sing dibangun kanthi anyar<li><p>verifikasi integritas lan checkum<li><p>nggawe delta anyar kanggo upgrade<li><p>nglakokake penyebaran ostree kanggo ngasilake konfigurasi boot<li><p>mbusak komitmen ostree lawas<li><p>verifikasi integritas pemisahan boot<li><p>ngilangi gambar build anyar sing dianyari<li><p>ngasilake pemeriksa gambar lan kompres (nganggo<code>squashfs</code> kanggo kontaner)</ul><p>Konfigurasi sekat ditrapake nganggo fiskisk<code>layout.cfg</code> file sing nemtokake ukuran pemisahan, kita duwe siji partisi kanggo root (<code>~430M</code> ), pemisahan boot (<code>~40M</code> ) lan partisi pertukaran (<code>~40M</code> ). Kanthi kontainer kanthi mung ngliwati pemasangan build sadurunge liwat piranti loop, lan mung narik komitmen ostree anyar liwat repositori ostree sing lawas (diekstrak).<h2 id=customizations><a class=header-anchor href=#customizations> Kustomisasi</a></h2><p>Apa sing aku bundel ing gambar iki (kajaba paket sing diinstal)?<ul><li><p>A lib cilik ing<code>functions.sh</code> kanggo tugas umum sing ditindakake ing cangkang<li><p>skrip upgrade adhedhasar ostree kanthi mekanisme ngunci adhedhasar toko KV<li><p>skrip ngawasi kanggo IO kanthi lokal (<code>iomon</code> ) lan jaringan (<code>tcpmon</code>)<li><p>skrip persiyapan kanggo runtime kontainer liyane saka<code>bubblewrap</code>: <code>podman</code>, <code>toolbox</code></ul><p>Apa biyen lan saiki wis ora<ul><li><p><code>sup</code>: <a href=https://github.com/pressly/sup/> Sup</a> digunakake kanggo orkestra (masang wadhah) lan konfigurasi mesin host, nanging banjur aku ganti<a href=https://www.ansible.com/> ora iso mangan</a> amarga ana bug sing wis suwe ora bisa diatasi, mula ora milih sing bisa didol wiwit wiwitan amarga ora pengin katergantungan python diinstal ing saben server, pungkasane aku bisa ngatasi alpine sekunder<a href=https://en.wikipedia.org/wiki/Chroot> chroot</a> ing mesin host, dununge ing<code>/opt/alp</code>apa aku nginstal piranti lunak tambahan sing kurang kritis. Nanging, saiki, aku bakal pindhah maneh saka sing ora bisa dideleng menyang<a href=https://github.com/Fizzadar/pyinfra> pyinfra</a> , amarga<ul><li><p>yaiku python tanpa boilerplate (ansible duwe semu<code>DSL</code> sing nyebabake nyeri sirah luwih akeh tinimbang sing ditanggulangi)<li><p>resep kasebut nganggo resep ssh polos, mula ora ana sarat katergantungan python ing host target</ul><li><p><code>containerpilot</code> : Kasus panggunaan pilot kontainer yaiku ngatur katergantungan rumit ing antarane kontainer tanpa skrip cangkang ... mandheg entuk update saka<a href=https://github.com/joyent/containerpilot> bungah</a> lan dilebokake ing mode pangopènan, aku uga ora seneng syarat memori lan panggunaan memori bakal terus saya suwe saya suwe. Aku ngalih menyang skrip shell sederhana karo<a href=https://www.consul.io/> konsul</a> , Aku bisa ndeleng alternatif sing luwih pas yen skrip cangkang wiwit tuwuh saya gedhe. Solusi sing luwih abot kaya<a href=https://kubernetes.io/> kubernetes</a>, <a href=https://docs.docker.com/engine/swarm/> grombolan</a> utawa<a href=https://www.nomadproject.io/> wong nomad</a> dibuwang saka gaweyan.<li><p><code>beegfs</code> : Aku biyen ngirim modul kernel sing dibutuhake<a href=https://en.wikipedia.org/wiki/BeeGFS> beegfs</a> nanging sawise sawetara wektu, bisa ngilangi kompatibilitas, lan kasunyatane ora ana sing didhukung kanthi bener<a href=https://en.wikipedia.org/wiki/Filesystem_in_Userspace> sekring</a> Modul sing digawe saiki, aku saiki ora mbukak [DFS] ing serverku, nanging kemungkinan wis siyap mbukak file-system kanggo plug in jaringan isih apik.<li><p></ul><h2 id=installation><a class=header-anchor href=#installation> Instalasi</a></h2><p>Kanggo nginstal gambar, sampeyan bisa ngunggah menyang panyedhiya hosting lan nginstal saka VNC, yen ana mesin virtual, nanging biasane ngrebut instalasi sing wis ana, amarga mesthi bisa uga, suwene aku wis nyoba skrip persiyapan karo versi distribusi linux, umume aku nggunakake debian-8 utawa ubuntu-14, durung nyoba tes liyane wiwit saiki aku mesthi wis sumadhiya. Langkah-langkah persiyapan ing ngisor iki<ul><li><p>priksa manawa dhukungan https kanggo download<li><p>download versi busybox<li><p>nginstal farmasi link-busybox<li><p>nemtokake alamat ipv4 / ipv6 kanggo config jaringan<li><p>njamin kemampuan chroot<li><p>download gambar pinus lan ekstrak<li><p>yen VM<ul><li><p>murup piranti target<li><p>pasang liwat piranti daur ulang</ul><li><p>nulis konfigurasi jaringan lokal liwat<em> kanggo di-flash</em> rootfs<li><p>yen wadhah<ul><li><p>salin layanan init (kanggo kontainer) liwat root mount point utama<code>/sbin/init</code></ul><li><p>yen VM<ul><li><p>pemisahan kiwa liwat disk kanthi standar (<code>xfs</code> ) sekat<li><p>ngilangi<li><p>verifikasi integritas sekat</ul><li><p>urip maneh</ul><h2 id=conclusions><a class=header-anchor href=#conclusions> Kesimpulan</a></h2><p>Aku digawe<a href=https://github.com/untoreh/pine> pinus</a> 5 years from time of writing and I am still using it, and I see no reasons to switch to anything else. Alpine as a linux distro is great, simple, and I have never experienced breakage. I can easily deploy on <a href=https://en.wikipedia.org/wiki/Network_address_translation> ALAM</a> server sing cenderung nawakake sumber daya sing paling murah, sejatine aku duwe kothak sing bisa digunakake<code>64M</code> saka RAM, lan isih duwe kabeh fitur sing dibutuhake.<p><table class=fndef id=fndef:rootfs><tbody><tr><td class=fndef-backref><a href=#fnref:rootfs>[1]</a><td class=fndef-content>sistem file root</table><p><div id=post-tags-list>Tag Pos: <span class=post-tag><a href=https://www.unto.re/tag/tools> alat</a>, </span><span class=post-tag><a href=https://www.unto.re/tag/about> babagan</a></span></div><div class=page-foot><div class=copyright>19 April 2021</div><script async crossorigin=anonymous issue-term=pathname label=Comment repo=untoreh/untoreh.github.io src=https://utteranc.es/client.js></script></div></div><div class=page__footer><footer><div class=page__footer-copyright>© untoreh - Didukung dening<a href=https://github.com/tlienart/Franklin.jl> Franklin</a></div><div class=page__footer-links>- <ul><li><a href=/jw/sitemapxml> Peta Situs</a></li> | <li><a href=/jw/tag> Tags</a></li> | <li><a href=https://www.unto.re/tag/feed.xml> RSS</a></ul></div><ul class=author__wrap><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer" title="Twitter link"href=https://twitter.com/untoreh><i class="fab fa-fw fa-twitter-square"aria-hidden=true></i></a><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer" title="GitHub link"href=https://github.com/untoreh><i class="fab fa-fw fa-github"aria-hidden=true></i></a><li class="author__urls social-icons"><a href=mailto:contact@unto.re title=email><i class="fas fa-envelope"></i></a><li><script type=application/ld+json>{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"www.unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script></ul></footer></div><script crossorigin=anonymous defer id=fa integrity=sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH src=https://use.fontawesome.com/releases/v5.8.2/js/all.js></script><script src=/libs/colors.js></script><script src=/libs/menu.js></script><script defer src=/libs/lunr/lunr.min.js></script>