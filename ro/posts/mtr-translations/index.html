<!DOCTYPE html><HTML lang="en"><head><link href="https://unto.re/ro/posts/" rel="canonical"/><meta charset="UTF-8"/><script type="application/ld+json">{"copyrightHolder":"untoreh","@id":"https://unto.re","url":"https://unto.re","copyrightYear":2021,"@context":"https://schema.org/","@type":"WebSite"}</script><script type="application/ld+json">{"mainEntityOfPage":{"@id":"https://unto.re/posts/mtr-translations/index.html","@type":"Article"},"@id":"https://unto.re/posts/mtr-translations/index.html","dateModified":"2021-04-08","url":"https://unto.re/posts/mtr-translations/index.html","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"creativeWorkStatus":"Published","dateCreated":"April 24, 2021","description":"wrapping translation services for internal use","keywords":["tools","about"],"@context":"https://schema.org","datePublished":"2021-04-08","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"name":"MTR: multiple translations","@type":"https://schema.org/WebPage","lastReviewed":"2021-04-08"}</script><script type="application/ld+json">{"itemListElement":[{"position":1,"item":"https://unto.re","name":"Home","@type":"ListItem"},{"position":2,"item":"/posts/","name":"Posts List","@type":"ListItem"},{"position":3,"item":"https://unto.re/posts/mtr-translations","name":"MTR: multiple translations","@type":"ListItem"}],"@type":"BreadcrumbList"}</script><meta content="width=device-width, initial-scale=1" name="viewport"/><link href="/libs/highlight/github.min.css" rel="stylesheet"/><link href="/css/franklin.css" rel="stylesheet"/><link href="/css/main.css" rel="stylesheet"/><link href="/css/menu.css" rel="stylesheet"/><link href="/css/pages.css" rel="stylesheet"/><link href="/css/lunr.css" rel="stylesheet"/><link href="/css/footer.css" rel="stylesheet"/><link href="/css/responsive.css" rel="stylesheet"/><link href="/css/animations.css" rel="stylesheet"/><link href="/css/docco.css" rel="stylesheet"/><link href="/css/flags-sprite.css" rel="stylesheet"/><link href="/assets/favicon.png" rel="icon"/><title> MTR: traduceri multiple</title><script src="/libs/lunr/lunr.min.js"></script><script src="/libs/lunr/lunr_index.js"></script><script src="/libs/lunr/lunrclient.min.js"></script><script src="/libs/load.js"></script><script type="application/ld+json">{"url":"/ro/posts/mtr-translations/","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"mentions":null,"description":"","@context":"https://schema.org","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"@type":"https://schema.org/WebPage","lastReviewed":"","dateCreated":"","@id":"/ro/posts/mtr-translations/","dateModified":"","keywords":[],"creativeWorkStatus":"Published","translator":{"url":"http://google.translate.com","name":"Google Translate","@type":"https://schema.org/Organization"},"translationOfWork":{"@id":"https://unto.re/posts/"},"datePublished":"","inLanguage":"ro","name":"","mainEntityOfPage":{"@id":"/ro/posts/mtr-translations/","@type":"Article"}}</script></head><body class=""><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><a class="site-title" href="/ro/"></a><div class="author__wrap"><script type="application/ld+json">{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"email":"contact@unto.re","name":"untoreh","@type":"https://schema.org/Person","image":"/assets/appa.png"}</script><ul><li class="author__avatar" onclick="toggleTheme()"><img alt=" untoreh-light" class="flip-front" src="/assets/appa.png"/></li><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-twitter-square"></i></a></li><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-github"></i></a></li><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a></li><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script></li></ul></div><nav id="site-nav"><div class="horiz"><ul><li class="masthead__menu-item hvr-outline-in" id="lunrSearch"><form id="lunrSearchForm" name="lunrSearchForm"><button class="search-button" formaction="/search/index.html" type="submit" value="Search"><i class="fas fa-search menu-icons"></i></button><input class="search-input" name="q" placeholder="Search…" type="text"/></form></li><li class="masthead__menu-item hvr-outline-in"><a href="/ro/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> postări</a></li><li class="masthead__menu-item hvr-outline-in"><a href="/ro/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> despre</a></li><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class="langs-dropdown-wrapper"><i class="fas fa-language menu-icons"></i> Lang <div class="langs-dropdown-content" id="langs-dropdown-menu"><ul id="lang-list"><a class="lang-link" href="/ar/posts/mtr-translations" id="lang-ar"><span class="flag flag-sa"></span>Arabic</a><a class="lang-link" href="/bn/posts/mtr-translations" id="lang-bn"><span class="flag flag-bd"></span>Bengali</a><a class="lang-link" href="/nl/posts/mtr-translations" id="lang-nl"><span class="flag flag-nl"></span>Dutch</a><a class="lang-link" href="/en/posts/mtr-translations" id="lang-en"><span class="flag flag-gb"></span>English</a><a class="lang-link" href="/tl/posts/mtr-translations" id="lang-tl"><span class="flag flag-ph"></span>Filipino</a><a class="lang-link" href="/fr/posts/mtr-translations" id="lang-fr"><span class="flag flag-fr"></span>French</a><a class="lang-link" href="/de/posts/mtr-translations" id="lang-de"><span class="flag flag-de"></span>German</a><a class="lang-link" href="/el/posts/mtr-translations" id="lang-el"><span class="flag flag-gr"></span>Greek</a><a class="lang-link" href="/hi/posts/mtr-translations" id="lang-hi"><span class="flag flag-in"></span>Hindi</a><a class="lang-link" href="/it/posts/mtr-translations" id="lang-it"><span class="flag flag-it"></span>Italian</a><a class="lang-link" href="/ja/posts/mtr-translations" id="lang-ja"><span class="flag flag-jp"></span>Japanese</a><a class="lang-link" href="/jw/posts/mtr-translations" id="lang-jw"><span class="flag flag-id"></span>Javanese</a><a class="lang-link" href="/ko/posts/mtr-translations" id="lang-ko"><span class="flag flag-kr"></span>Korean</a><a class="lang-link" href="/ms/posts/mtr-translations" id="lang-ms"><span class="flag flag-ms"></span>Malay</a><a class="lang-link" href="/zh/posts/mtr-translations" id="lang-zh"><span class="flag flag-cn"></span>Mandarin Chinese</a><a class="lang-link" href="/pl/posts/mtr-translations" id="lang-pl"><span class="flag flag-pl"></span>Polish</a><a class="lang-link" href="/pt/posts/mtr-translations" id="lang-pt"><span class="flag flag-pt"></span>Portuguese</a><a class="lang-link" href="/pa/posts/mtr-translations" id="lang-pa"><span class="flag flag-in"></span>Punjabi</a><a class="lang-link" href="/ro/posts/mtr-translations" id="lang-ro"><span class="flag flag-ro"></span>Romanian</a><a class="lang-link" href="/ru/posts/mtr-translations" id="lang-ru"><span class="flag flag-ru"></span>Russian</a><a class="lang-link" href="/es/posts/mtr-translations" id="lang-es"><span class="flag flag-es"></span>Spanish</a><a class="lang-link" href="/sv/posts/mtr-translations" id="lang-sv"><span class="flag flag-se"></span>Swedish</a><a class="lang-link" href="/th/posts/mtr-translations" id="lang-th"><span class="flag flag-th"></span>Thai</a><a class="lang-link" href="/tr/posts/mtr-translations" id="lang-tr"><span class="flag flag-tr"></span>Turkish</a><a class="lang-link" href="/uk/posts/mtr-translations" id="lang-uk"><span class="flag flag-ua"></span>Ukranian</a><a class="lang-link" href="/ur/posts/mtr-translations" id="lang-ur"><span class="flag flag-pk"></span>Urdu</a><a class="lang-link" href="/vi/posts/mtr-translations" id="lang-vi"><span class="flag flag-vn"></span>Vietnamese</a><a class="lang-link" href="/zu/posts/mtr-translations" id="lang-zu"><span class="flag flag-za"></span>Zulu</a></ul></div></button></li></ul></div><button class="ham"><i class="fas fa-bars ham-icon"></i></button><div class="vert"><ul><li class="masthead__menu-item hvr-outline-in" id="lunrSearch"><form id="lunrSearchForm" name="lunrSearchForm"><button class="search-button" formaction="/search/index.html" type="submit" value="Search"><i class="fas fa-search menu-icons"></i></button><input class="search-input" name="q" placeholder="Search…" type="text"/></form></li><li class="masthead__menu-item hvr-outline-in"><a href="/ro/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> postări</a></li><li class="masthead__menu-item hvr-outline-in"><a href="/ro/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> despre</a></li><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class="langs-dropdown-wrapper"><i class="fas fa-language menu-icons"></i> Lang <div class="langs-dropdown-content" id="langs-dropdown-menu"><ul id="lang-list"><a class="lang-link" href="/ar/posts/mtr-translations" id="lang-ar"><span class="flag flag-sa"></span>Arabic</a><a class="lang-link" href="/bn/posts/mtr-translations" id="lang-bn"><span class="flag flag-bd"></span>Bengali</a><a class="lang-link" href="/nl/posts/mtr-translations" id="lang-nl"><span class="flag flag-nl"></span>Dutch</a><a class="lang-link" href="/en/posts/mtr-translations" id="lang-en"><span class="flag flag-gb"></span>English</a><a class="lang-link" href="/tl/posts/mtr-translations" id="lang-tl"><span class="flag flag-ph"></span>Filipino</a><a class="lang-link" href="/fr/posts/mtr-translations" id="lang-fr"><span class="flag flag-fr"></span>French</a><a class="lang-link" href="/de/posts/mtr-translations" id="lang-de"><span class="flag flag-de"></span>German</a><a class="lang-link" href="/el/posts/mtr-translations" id="lang-el"><span class="flag flag-gr"></span>Greek</a><a class="lang-link" href="/hi/posts/mtr-translations" id="lang-hi"><span class="flag flag-in"></span>Hindi</a><a class="lang-link" href="/it/posts/mtr-translations" id="lang-it"><span class="flag flag-it"></span>Italian</a><a class="lang-link" href="/ja/posts/mtr-translations" id="lang-ja"><span class="flag flag-jp"></span>Japanese</a><a class="lang-link" href="/jw/posts/mtr-translations" id="lang-jw"><span class="flag flag-id"></span>Javanese</a><a class="lang-link" href="/ko/posts/mtr-translations" id="lang-ko"><span class="flag flag-kr"></span>Korean</a><a class="lang-link" href="/ms/posts/mtr-translations" id="lang-ms"><span class="flag flag-ms"></span>Malay</a><a class="lang-link" href="/zh/posts/mtr-translations" id="lang-zh"><span class="flag flag-cn"></span>Mandarin Chinese</a><a class="lang-link" href="/pl/posts/mtr-translations" id="lang-pl"><span class="flag flag-pl"></span>Polish</a><a class="lang-link" href="/pt/posts/mtr-translations" id="lang-pt"><span class="flag flag-pt"></span>Portuguese</a><a class="lang-link" href="/pa/posts/mtr-translations" id="lang-pa"><span class="flag flag-in"></span>Punjabi</a><a class="lang-link" href="/ro/posts/mtr-translations" id="lang-ro"><span class="flag flag-ro"></span>Romanian</a><a class="lang-link" href="/ru/posts/mtr-translations" id="lang-ru"><span class="flag flag-ru"></span>Russian</a><a class="lang-link" href="/es/posts/mtr-translations" id="lang-es"><span class="flag flag-es"></span>Spanish</a><a class="lang-link" href="/sv/posts/mtr-translations" id="lang-sv"><span class="flag flag-se"></span>Swedish</a><a class="lang-link" href="/th/posts/mtr-translations" id="lang-th"><span class="flag flag-th"></span>Thai</a><a class="lang-link" href="/tr/posts/mtr-translations" id="lang-tr"><span class="flag flag-tr"></span>Turkish</a><a class="lang-link" href="/uk/posts/mtr-translations" id="lang-uk"><span class="flag flag-ua"></span>Ukranian</a><a class="lang-link" href="/ur/posts/mtr-translations" id="lang-ur"><span class="flag flag-pk"></span>Urdu</a><a class="lang-link" href="/vi/posts/mtr-translations" id="lang-vi"><span class="flag flag-vn"></span>Vietnamese</a><a class="lang-link" href="/zu/posts/mtr-translations" id="lang-zu"><span class="flag flag-za"></span>Zulu</a></ul></div></button></li></ul></div></nav></div></div></div><div><h1 id="title"><a href="/ro/posts/mtr-translations"> MTR: traduceri multiple</a></h1><blockquote id="page-description" style="font-style: italic;">  servicii de traducere pentru uz intern</blockquote></div><div class="franklin-content"><p> Când publicați un site web, vă recomandăm să oferiți diferite traduceri. Unora oamenilor nu le plac traducătorii automatizați, cred că o traducere automată este suficient de bună și mai bună decât nimic, iar traducătorii automatizați s-au îmbunătățit progresiv odată cu progresele în<a href="https://en.wikipedia.org/wiki/Natural_language_processing"> NLP</a>  și<a href="https://en.wikipedia.org/wiki/Machine_learning"> ML</a>.</p><p> Serviciile comune de traducere sunt google, bing, yandex. Acestea oferă un nivel gratuit pe care dorim să îl înfășurăm pentru propria noastră utilizare personală. Există, de asemenea, alte mai puțin cunoscute<a href="https://web.archive.org/web/20210404064224/https://github.com/untoreh/mtr/tree/master/src/services"> servicii de traducere</a> , iar unele dintre ele sunt închise la momentul scrierii ...</p><h2 id="caching_text"><a class="header-anchor" href="#caching_text"> Text în cache</a></h2><p> Dacă vrem să ascundem în cache traducerile, trebuie să împărțim textul solicitat în șiruri mai mici, astfel încât acestea să fie suficient de mici pentru a oferi accesări pentru posibile cereri viitoare. The<strong> compromis</strong>  este că traducerea propozițiilor mai mici are mai puțin context, ceea ce scade calitatea traducerii.</p><p> Cum împărțim textul primit astfel încât să putem reconstrui originalul din textul tradus este destul de un truc ... sau un hack. Vrem să găsim un șir destul de ciudat încât serviciul de traducere să-l părăsească<em> așa cum este</em>  în rezultatul său. Am găsit variante ale<strong> caracter de paragraf</strong>  să lucrez de cele mai multe ori</p><pre><code class="php hljs"><span class="hljs-keyword">$this</span>-&gt;misc[<span class="hljs-string">'glue'</span>] = <span class="hljs-string">' ; ¶ ; '</span>;
<span class="hljs-keyword">$this</span>-&gt;misc[<span class="hljs-string">'splitGlue'</span>] = <span class="hljs-string">'/\s?;\s?¶\s?;?\s?/'</span>;</code></pre><p> The<code>glue</code>  șirul este folosit pentru a concatena<strong> toate</strong>  șirurile (despărțite de cererea inițială) în<strong> unu</strong>  corp unic pentru solicitarea de traducere din amonte către care trimitem de ex. Google. The<code>splitGlue</code>  este folosit în schimb pentru a împărți traducerea primită în șirurile pe care le vom memora în cache. Vedem aici că divizarea șirurilor nu este utilă doar pentru cache, ci pentru<strong> reduceți numărul de solicitări</strong>, deoarece în cazul în care solicitarea noastră din aval efectuează numeroase interogări mici, folosim utilajele noastre pentru a îmbina cererile până la dimensiunea maximă a sarcinii utile permise de serviciul din amonte.</p><h2 id="the_interface"><a class="header-anchor" href="#the_interface"> Interfața</a></h2><p> Pentru a sprijini mai multe servicii<em> transparent</em>  Am scris o interfață care s-a așezat pe acest API</p><pre><code class="php hljs"><span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-title">__construct</span>(<span class="hljs-params">
    Mtr &amp;<span class="hljs-variable">$mtr</span>,
    Client &amp;<span class="hljs-variable">$gz</span>,
    TextReq &amp;<span class="hljs-variable">$txtrq</span>,
    LanguageCode &amp;<span class="hljs-variable">$ld</span></span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-title">translate</span>(<span class="hljs-params"><span class="hljs-variable">$source</span>, <span class="hljs-variable">$target</span>, <span class="hljs-variable">$input</span></span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-title">genReq</span>(<span class="hljs-params"><span class="hljs-keyword">array</span><span class="hljs-variable">$params</span></span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-title">preReq</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> &amp;<span class="hljs-variable">$input</span></span>)</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-title">getLangs</span>(<span class="hljs-params"></span>)</span>;</code></pre><p> Deci, un serviciu care trebuie să fie operațional trebuie să ofere o funcție de traducere, cum să traducă cererile și să ofere lista limbilor acceptate. Cu lista de limbi acceptate putem crea o matrice astfel încât să știm câte servicii acceptă o anumită pereche de limbi, pentru analiza<a href="https://en.wikipedia.org/wiki/Language_code"> perechi lingvistice</a>  convertim reprezentarea returnată de serviciu într-o comună<code>iso639-1</code>.</p><p> Crearea instanței de traducere permite, de asemenea, configurarea opțiunilor de solicitare utilizate de<code>Guzzle</code>  client, astfel încât să putem folosi, de exemplu, proxy-uri pentru a efectua cererile. Serviciile sunt<a href="https://www.php.net/manual/en/book.apcu.php"> în cache</a>  după ce a fost generat prima dată, acest lucru este util, deoarece unele servicii necesită generarea unor jetoane inițiale și nu vrem să le regenerăm de fiecare dată.</p><h2 id="the_go_version"><a class="header-anchor" href="#the_go_version"> Versiunea Go</a></h2><p> Am scris și un<a href="https://web.archive.org/web/20201030214757/https://github.com/untoreh/mtr-go"> versiune în golang</a>. Versiunea PHP ar fi utilizată importând-o în proiectul dvs. PHP, în timp ce versiunea go funcționează ca un serviciu (micro) independent. Versiunea go este mult mai detaliată, deoarece necesită o verificare strictă a tipului și, din moment ce acceptăm interogarea mai multor șiruri simultan, trebuie să expunem api care funcționează cu diferite combinații de intrare, iar lipsa de generice go face ca implementarea să fie foarte dureroasă, dar a oferit procesare simultană și, în general, a fost mult mai rapidă.</p><h2 id="cleaning_inputs"><a class="header-anchor" href="#cleaning_inputs"> Curățarea intrărilor</a></h2><p> Împreună cu traducerea am construit și un serviciu către<a href="https://web.archive.org/web/20210404084244/https://github.com/untoreh/htmlcleaner"> curățați html</a> . Lista albă a unor etichete html și le eliminăm pe restul. De asemenea, eliminăm punctuația duplicat asemănătoare spamului și atributele html necunoscute și înfășurăm linkuri în etichete de ancorare adecvate.</p><h2 id="related_tools"><a class="header-anchor" href="#related_tools"> Instrumente conexe</a></h2><ul><li><p><a href="https://github.com/UlionTse/translators"> traducători</a></p></li><li><p><a href="https://github.com/nidhaloff/deep-translator"> traducător profund</a></p></li><li><p><a href="https://github.com/soimort/translate-shell"> traduce coajă</a></p></li></ul><p> Găzduit automat:</p><ul><li><p><a href="https://www.apertium.org"> apertium</a></p></li><li><p><a href="https://github.com/apache/joshua"> apache joshua</a></p></li><li><p><a href="https://github.com/argosopentech/argos-translate"> argos-traducere</a></p></li></ul><h2 id="conclusions"><a class="header-anchor" href="#conclusions"> Concluzii</a></h2><p> În zilele noastre cred că aș folosi doar o soluție găzduită de sine, furnizată fie de joshua, fie de argos, deoarece nu urmăresc cea mai bună traducere, vreau să ofer o traducere lizibilă pentru un site web, astfel încât să poată fi navigat fără frecare.</p><p></p><div id="post-tags-list">  Post Tag-uri:<span class="post-tag"><a href="/ro/posts/tag/tools" style="">  instrumente</a>, </span><span class="post-tag"><a href="/ro/posts/tag/about" style="">  despre</a></span></div><div class="page-foot"><div class="copyright">  08 aprilie 2021</div><script async="" crossorigin="anonymous" issue-term="pathname" label="Comment" repo="untoreh/untoreh.github.io" src="https://utteranc.es/client.js"></script></div></div><div class="page__footer"><footer><div class="page__footer-copyright">  © untoreh - Dezvoltat de<a href="https://github.com/tlienart/Franklin.jl"> Franklin</a></div><div class="page__footer-links"> - <ul><li><a href="/ro/sitemap.xml"> Sitemap</a> | </li><li><a href="/ro/tag"> Etichete</a> | </li><li><a href="/ro/feed.xml"> RSS</a></li></ul></div><ul class="author__wrap"><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-twitter-square"></i></a></li><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-github"></i></a></li><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a></li><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script></li></ul></footer></div><script crossorigin="anonymous" defer="" id="fa" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" src="https://use.fontawesome.com/releases/v5.8.2/js/all.js"></script><script src="/libs/colors.js"></script><script src="/libs/menu.js"></script><script defer="" src="/libs/lunr/lunr.min.js"></script></body></HTML>