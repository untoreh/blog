<!DOCTYPE html><HTML lang=en ><meta charset=UTF-8 /><script type="application/ld+json">{"copyrightHolder":"untoreh","@id":"https://unto.re","url":"https://unto.re","copyrightYear":2021,"@context":"https://schema.org/","@type":"WebSite"}</script><script type="application/ld+json">{"audience":"cool people","url":"https://unto.re/posts/Make-Windows-Bearable/index.html","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"accessibilitySummary":"Visual elements are tentatively described.","author":"untoreh","description":"A list of tools to make Windows feel more like Linux","mentions":[],"accessModeSufficient":{"itemListElement":["textual","visual"],"description":"text and images","@type":"itemList"},"lastReviewed":"July 25, 2021","@type":"https://schema.org/WebPage","dateCreated":"July 25, 2021","@id":"https://unto.re/posts/Make-Windows-Bearable/index.html","dateModified":"July 25, 2021","abstract":"A list of tools to make Windows feel more like Linux","headline":"Make Windows Bearable","creativeWorkStatus":"Published","availableLanguage":[{"name":"English","@type":"Language"},{"name":"German","@type":"Language"},{"name":"Italian","@type":"Language"},{"name":"Mandarin Chinese","@type":"Language"},{"name":"Spanish","@type":"Language"},{"name":"Hindi","@type":"Language"},{"name":"Arabic","@type":"Language"},{"name":"Portuguese","@type":"Language"},{"name":"Bengali","@type":"Language"},{"name":"Russian","@type":"Language"},{"name":"Japanese","@type":"Language"},{"name":"Punjabi","@type":"Language"},{"name":"Javanese","@type":"Language"},{"name":"Vietnamese","@type":"Language"},{"name":"French","@type":"Language"},{"name":"Urdu","@type":"Language"},{"name":"Turkish","@type":"Language"},{"name":"Polish","@type":"Language"},{"name":"Ukranian","@type":"Language"},{"name":"Dutch","@type":"Language"},{"name":"Greek","@type":"Language"},{"name":"Swedish","@type":"Language"},{"name":"Zulu","@type":"Language"},{"name":"Romanian","@type":"Language"},{"name":"Malay","@type":"Language"},{"name":"Korean","@type":"Language"},{"name":"Thai","@type":"Language"},{"name":"Filipino","@type":"Language"}],"keywords":["software","tools"],"datePublished":"July 25, 2021","inLanguage":"English","name":"Make Windows Bearable","identifier":"https://unto.re/posts/Make-Windows-Bearable/index.html"}</script><meta content="width=device-width, initial-scale=1" name=viewport /><link href="/css/franklin.css" rel=stylesheet /><link href="/css/main.css" rel=stylesheet /><link href="/css/menu.css" rel=stylesheet /><link href="/css/pages.css" rel=stylesheet /><link href="/css/lunr.css" rel=stylesheet /><link href="/css/footer.css" rel=stylesheet /><link href="/css/responsive.css" rel=stylesheet /><link href="/css/animations.css" rel=stylesheet /><link href="/css/docco.css" rel=stylesheet /><link href="/css/flag-icon.min.css" rel=stylesheet /><link href="/assets/favicon.png" rel=icon /><title> Сделайте Windows сносной</title><script src="/libs/lunr/lunr.min.js"></script><script src="/libs/lunr/lunr_index.js"></script><script src="/libs/lunr/lunrclient.min.js"></script><script src="/libs/load.js"></script><script type="application/ld+json">{"@id":"https://unto.re/ru/posts/Make-Windows-Bearable/index.html","url":"https://unto.re/ru/posts/Make-Windows-Bearable/index.html","abstract":null,"headline":null,"keywords":null,"description":null,"mentions":null,"translator":{"url":"https://translate.google.com/","name":"Google","@type":"https://schema.org/Organization"},"translationOfWork":{"@id":"/home/fra/dev/blog/https://unto.re/"},"inLanguage":"ru","name":null,"@type":"https://schema.org/WebPage"}</script><body class=""><div class=masthead ><div class=masthead__inner-wrap ><div class=masthead__menu ><a class=site-title href="/ru/"></a><div class=author__wrap ><script type="application/ld+json">{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"description":"<ul>\n<li><p><strong>Name</strong>: Francesco Giannelli</p>\n\n<li><p><strong>Website</strong>: &#91;«https://unto.re»&#93;, the place where I put stuff I should remember...or forget</p>\n\n<li><p><strong>Location</strong>: south italy {{bio_link}}</p>\n\n<li><p><strong>Year</strong>: &#39;91</p>\n\n</ul>\n","image":"/assets/appa.png","name":"untoreh","@type":"https://schema.org/Person","email":"contact@unto.re"}</script><ul><li class=author__avatar onclick="toggleTheme()"><img alt=" Untoreh-light" class=flip-front src="/assets/appa.png"/><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-twitter-square"></i></a><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-github"></i></a><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=query","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":"https://unto.re/search?&q={query}"}}</script></ul></div><nav id=site-nav ><div class=horiz ><ul><li class="masthead__menu-item hvr-outline-in" id=lunrSearch ><form id=lunrSearchForm name=lunrSearchForm ><button class=search-button formaction="/search/index.html" type=submit value=Search ><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder="Search…" type=text /></form><li class="masthead__menu-item hvr-outline-in"><a href="/ru/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> сообщения</a><li class="masthead__menu-item hvr-outline-in"><a href="/ru/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> о</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class=langs-dropdown-wrapper ><i class="fas fa-language menu-icons"></i> Lang <div class=langs-dropdown-content id=langs-dropdown-menu ><ul id=lang-list ><a class=lang-link href="/ar/posts/Make-Windows-Bearable" id=lang-ar ><span class="flag-icon flag-icon-sa"></span> арабский</a><a class=lang-link href="/ru/bn/posts/Make-Windows-Bearable" id=lang-bn ><span class="flag-icon flag-icon-bd"></span> Бенгальский</a><a class=lang-link href="/ru/nl/posts/Make-Windows-Bearable" id=lang-nl ><span class="flag-icon flag-icon-nl"></span> Голландский</a><a class=lang-link href="/ru/en/posts/Make-Windows-Bearable" id=lang-en ><span class="flag-icon flag-icon-gb"></span> английский</a><a class=lang-link href="/ru/tl/posts/Make-Windows-Bearable" id=lang-tl ><span class="flag-icon flag-icon-ph"></span> Филиппинский</a><a class=lang-link href="/ru/fr/posts/Make-Windows-Bearable" id=lang-fr ><span class="flag-icon flag-icon-fr"></span> французкий язык</a><a class=lang-link href="/ru/de/posts/Make-Windows-Bearable" id=lang-de ><span class="flag-icon flag-icon-de"></span> Немецкий</a><a class=lang-link href="/ru/el/posts/Make-Windows-Bearable" id=lang-el ><span class="flag-icon flag-icon-gr"></span> Греческий</a><a class=lang-link href="/ru/hi/posts/Make-Windows-Bearable" id=lang-hi ><span class="flag-icon flag-icon-in"></span> хинди</a><a class=lang-link href="/ru/it/posts/Make-Windows-Bearable" id=lang-it ><span class="flag-icon flag-icon-it"></span> Итальянский</a><a class=lang-link href="/ru/ja/posts/Make-Windows-Bearable" id=lang-ja ><span class="flag-icon flag-icon-jp"></span> Японский</a><a class=lang-link href="/ru/jw/posts/Make-Windows-Bearable" id=lang-jw ><span class="flag-icon flag-icon-id"></span> Яванский</a><a class=lang-link href="/ru/ko/posts/Make-Windows-Bearable" id=lang-ko ><span class="flag-icon flag-icon-kr"></span> корейский язык</a><a class=lang-link href="/ru/ms/posts/Make-Windows-Bearable" id=lang-ms ><span class="flag-icon flag-icon-ms"></span> малайский</a><a class=lang-link href="/ru/zh/posts/Make-Windows-Bearable" id=lang-zh ><span class="flag-icon flag-icon-cn"></span> Мандаринский китайский</a><a class=lang-link href="/ru/pl/posts/Make-Windows-Bearable" id=lang-pl ><span class="flag-icon flag-icon-pl"></span> Польский</a><a class=lang-link href="/ru/pt/posts/Make-Windows-Bearable" id=lang-pt ><span class="flag-icon flag-icon-pt"></span> португальский</a><a class=lang-link href="/ru/pa/posts/Make-Windows-Bearable" id=lang-pa ><span class="flag-icon flag-icon-in"></span> Пенджаби</a><a class=lang-link href="/ru/ro/posts/Make-Windows-Bearable" id=lang-ro ><span class="flag-icon flag-icon-ro"></span> румынский</a><a class=lang-link href="/ru/ru/posts/Make-Windows-Bearable" id=lang-ru ><span class="flag-icon flag-icon-ru"></span> русский</a><a class=lang-link href="/ru/es/posts/Make-Windows-Bearable" id=lang-es ><span class="flag-icon flag-icon-es"></span> испанский</a><a class=lang-link href="/ru/sv/posts/Make-Windows-Bearable" id=lang-sv ><span class="flag-icon flag-icon-se"></span> Шведский</a><a class=lang-link href="/ru/th/posts/Make-Windows-Bearable" id=lang-th ><span class="flag-icon flag-icon-th"></span> Тайский</a><a class=lang-link href="/ru/tr/posts/Make-Windows-Bearable" id=lang-tr ><span class="flag-icon flag-icon-tr"></span> турецкий</a><a class=lang-link href="/ru/uk/posts/Make-Windows-Bearable" id=lang-uk ><span class="flag-icon flag-icon-ua"></span> Украинский</a><a class=lang-link href="/ru/ur/posts/Make-Windows-Bearable" id=lang-ur ><span class="flag-icon flag-icon-pk"></span> Урду</a><a class=lang-link href="/ru/vi/posts/Make-Windows-Bearable" id=lang-vi ><span class="flag-icon flag-icon-vn"></span> вьетнамский</a><a class=lang-link href="/ru/zu/posts/Make-Windows-Bearable" id=lang-zu ><span class="flag-icon flag-icon-za"></span> Зулусский</a></ul></div></button></ul></div><button class=ham ><i class="fas fa-bars ham-icon"></i></button><div class=vert ><ul><li class="masthead__menu-item hvr-outline-in" id=lunrSearch ><form id=lunrSearchForm name=lunrSearchForm ><button class=search-button formaction="/search/index.html" type=submit value=Search ><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder="Search…" type=text /></form><li class="masthead__menu-item hvr-outline-in"><a href="/ru/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> сообщения</a><li class="masthead__menu-item hvr-outline-in"><a href="/ru/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> о</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class=langs-dropdown-wrapper ><i class="fas fa-language menu-icons"></i> Lang <div class=langs-dropdown-content id=langs-dropdown-menu ><ul id=lang-list ><a class=lang-link href="/ar/posts/Make-Windows-Bearable" id=lang-ar ><span class="flag-icon flag-icon-sa"></span> арабский</a><a class=lang-link href="/ru/bn/posts/Make-Windows-Bearable" id=lang-bn ><span class="flag-icon flag-icon-bd"></span> Бенгальский</a><a class=lang-link href="/ru/nl/posts/Make-Windows-Bearable" id=lang-nl ><span class="flag-icon flag-icon-nl"></span> Голландский</a><a class=lang-link href="/ru/en/posts/Make-Windows-Bearable" id=lang-en ><span class="flag-icon flag-icon-gb"></span> английский</a><a class=lang-link href="/ru/tl/posts/Make-Windows-Bearable" id=lang-tl ><span class="flag-icon flag-icon-ph"></span> Филиппинский</a><a class=lang-link href="/ru/fr/posts/Make-Windows-Bearable" id=lang-fr ><span class="flag-icon flag-icon-fr"></span> французкий язык</a><a class=lang-link href="/ru/de/posts/Make-Windows-Bearable" id=lang-de ><span class="flag-icon flag-icon-de"></span> Немецкий</a><a class=lang-link href="/ru/el/posts/Make-Windows-Bearable" id=lang-el ><span class="flag-icon flag-icon-gr"></span> Греческий</a><a class=lang-link href="/ru/hi/posts/Make-Windows-Bearable" id=lang-hi ><span class="flag-icon flag-icon-in"></span> хинди</a><a class=lang-link href="/ru/it/posts/Make-Windows-Bearable" id=lang-it ><span class="flag-icon flag-icon-it"></span> Итальянский</a><a class=lang-link href="/ru/ja/posts/Make-Windows-Bearable" id=lang-ja ><span class="flag-icon flag-icon-jp"></span> Японский</a><a class=lang-link href="/ru/jw/posts/Make-Windows-Bearable" id=lang-jw ><span class="flag-icon flag-icon-id"></span> Яванский</a><a class=lang-link href="/ru/ko/posts/Make-Windows-Bearable" id=lang-ko ><span class="flag-icon flag-icon-kr"></span> корейский язык</a><a class=lang-link href="/ru/ms/posts/Make-Windows-Bearable" id=lang-ms ><span class="flag-icon flag-icon-ms"></span> малайский</a><a class=lang-link href="/ru/zh/posts/Make-Windows-Bearable" id=lang-zh ><span class="flag-icon flag-icon-cn"></span> Мандаринский китайский</a><a class=lang-link href="/ru/pl/posts/Make-Windows-Bearable" id=lang-pl ><span class="flag-icon flag-icon-pl"></span> Польский</a><a class=lang-link href="/ru/pt/posts/Make-Windows-Bearable" id=lang-pt ><span class="flag-icon flag-icon-pt"></span> португальский</a><a class=lang-link href="/ru/pa/posts/Make-Windows-Bearable" id=lang-pa ><span class="flag-icon flag-icon-in"></span> Пенджаби</a><a class=lang-link href="/ru/ro/posts/Make-Windows-Bearable" id=lang-ro ><span class="flag-icon flag-icon-ro"></span> румынский</a><a class=lang-link href="/ru/ru/posts/Make-Windows-Bearable" id=lang-ru ><span class="flag-icon flag-icon-ru"></span> русский</a><a class=lang-link href="/ru/es/posts/Make-Windows-Bearable" id=lang-es ><span class="flag-icon flag-icon-es"></span> испанский</a><a class=lang-link href="/ru/sv/posts/Make-Windows-Bearable" id=lang-sv ><span class="flag-icon flag-icon-se"></span> Шведский</a><a class=lang-link href="/ru/th/posts/Make-Windows-Bearable" id=lang-th ><span class="flag-icon flag-icon-th"></span> Тайский</a><a class=lang-link href="/ru/tr/posts/Make-Windows-Bearable" id=lang-tr ><span class="flag-icon flag-icon-tr"></span> турецкий</a><a class=lang-link href="/ru/uk/posts/Make-Windows-Bearable" id=lang-uk ><span class="flag-icon flag-icon-ua"></span> Украинский</a><a class=lang-link href="/ru/ur/posts/Make-Windows-Bearable" id=lang-ur ><span class="flag-icon flag-icon-pk"></span> Урду</a><a class=lang-link href="/ru/vi/posts/Make-Windows-Bearable" id=lang-vi ><span class="flag-icon flag-icon-vn"></span> вьетнамский</a><a class=lang-link href="/ru/zu/posts/Make-Windows-Bearable" id=lang-zu ><span class="flag-icon flag-icon-za"></span> Зулусский</a></ul></div></button></ul></div></nav></div></div></div><div><h1 id=title ><a href="/ru/posts/Make-Windows-Bearable"> Сделайте Windows сносной</a></h1><blockquote id=page-description style="font-style: italic;"> Список инструментов, которые сделают Windows более похожей на Linux </blockquote></div><div class=franklin-content ><p> Так как я<a href="/ru/posts/OS-Hopping"> перешел на Windows 10 с WSL</a> Я решил составить список программного обеспечения, которое мне нужно было использовать, чтобы приблизить Windows к моему обычному рабочему процессу Linux. Давайте проясним, что пользовательский интерфейс Windows - отстой, он застрял в<em>90s</em> и предполагается, что все нужно щелкать и перетаскивать указателем мыши. Я не знаю, если это<em> культура</em> вещь (разработчики Windows должны очень любить мышь) или для<em> целевая демографическая</em> ("нажмите на эту штуку!" легко объяснить), или из-за<em> лучшие практики безопасности</em> (если мы дадим пользователю слишком большой контроль, вредоносное ПО воспользуется им) или просто<em> Оболочка Windows</em> состоит из кучи технологического долга, что затрудняет добавление функций для продвинутых пользователей. Дело в том, что простые вещи в Linux требуют запутанных решений в Windows.</p><h2 id=virtual_desktops ><a class=header-anchor href="#virtual_desktops"> Виртуальные рабочие столы</a></h2><p> В Linux у каждого менеджера Windows есть какая-то форма виртуального рабочего стола, Windows создала виртуальные рабочие столы совсем недавно с W10. Дело в том, что на момент написания вы могли переключаться только влево и вправо с помощью горячих клавиш, и нет горячих клавиш для перехода на рабочий стол X. Вот это<a href="https://github.com/Grabacr07/VirtualDesktop"> vd библиотека</a> но я не нашел программного обеспечения, которое его использует, вместо этого только AHK<sup id="fnref:AHK"><a class=fnref href="#fndef:AHK">[1]</a></sup> сценарии с плохой реализацией, такие как «цикл до тех пор, пока мы не достигнем правильного виртуального диска».</p><p>Отсутствие подходящих ярлыков для встроенных виртуальных рабочих столов Windows заставило меня использовать стороннее программное обеспечение, которых много, я выбрал<a href="https://dexpot.de/"> dexpot</a> поскольку он делает все, что мне может понадобиться, и многое другое (я был бы счастлив, если бы<code>go to X</code> а также<code>move window to X</code> ярлыки). Единственная проблема заключалась в том, что dexpot не может связывать уже связанные ключи ... отчасти AHK может переопределять ключи, используемые другими приложениями, тогда как dexpot этого не делает, я предполагаю, что это потому, что он полагается на другой API Windows (или [dll]). Обходной путь - переназначить ярлыки, которые я хотел (например,<code>Win+1</code> ) с помощью бесплатного ярлыка, который можно установить в dexpot (например,<code>Win+Shift+F1</code>)</p><h2 id=keyboard_mapping ><a class=header-anchor href="#keyboard_mapping"> Раскладка клавиатуры</a></h2><p><a href="https://github.com/microsoft/PowerToys"> Powertoys</a> позволяет отображать клавиши и ярлыки, так что я могу отображать CapsLock-&gt; LeftControl и RightControl-&gt; LeftControl. И такие ярлыки, как<code>Win+hjkl</code> к стрелкам. Очень жаль<code>Win+l</code> - это ярлык Windows по умолчанию для блокировки экрана, и его нельзя переназначить ... ключ реестра переопределяет ярлыки и исправляет это ... пока вы не обновите окна ... поэтому вам нужно применять исправление при каждой загрузке!</p><h2 id=launcher ><a class=header-anchor href="#launcher"> Пусковая установка</a></h2><p> Панель запуска приложений, предоставляемая powertoys, вместо этого довольно функциональна, использует не намного больше памяти, чем KRunner, и она быстрая и отзывчивая. Единственная жалоба заключается в том, что время от времени он теряет фокус, но это, скорее всего, проблема с нездоровым (как в извращенном) Windows контролем того, какое окно должно быть сфокусировано в любой момент времени.</p><h2 id=tiling ><a class=header-anchor href="#tiling"> Черепица</a></h2><p> Я перешел с Sway на KDE в Linux, так что я не был большим любителем плиточных окон. Powertoys имеет FancyZones, что является небольшим улучшением по сравнению с базовыми оснастками Windows, которые предлагает окно, поскольку оно дает вам<em> пробелы</em> а также<em> макеты</em>. Тем не менее, ему все еще не хватает самого важного, что делает плитку полезной, а именно:<em> правила</em> для применения к соответствующим окнам, но для этого также потребуется поддержка виртуальных рабочих столов ... и мы уже упоминали их текущее состояние. В сравнении KWin позволяет сопоставлять окна с очень сложными определениями. FancyZones обходит проблему правил, сохраняя позиции окон в сеансах, но я не исследовал, насколько хорошо это работает с различными виртуальными рабочими столами.</p><h2 id=dragging_windows ><a class=header-anchor href="#dragging_windows"> Перетаскивание окон</a></h2><p> Окна можно перетаскивать только с заголовка, а дополнительный<a href="https://github.com/RamonUnch/AltDrag"> утилита</a> необходимо использовать для их перемещения с помощью сочетания клавиш.</p><h2 id=system_monitor ><a class=header-anchor href="#system_monitor"> Системный монитор</a></h2><p> В KDE у вас есть плазменные виджеты для отображения системной информации, хотя плазменные виджеты, как правило, потребляют много памяти, поэтому я не использовал их так часто. В Windows для этого нет встроенной утилиты, попробовав несколько утилит, я остановился на<a href="https://github.com/zhongyang219/TrafficMonitor"> Монитор трафика</a> который дает сеть, процессор, память, и совсем недавно были добавлены графический процессор и временные параметры. В результате на панели задач отображается красивый низкопрофильный прямоугольник:</p><img alt="" src="/assets/posts/img/trafficmonitor.png"/><p> Бонусом для Windows является то, что мой ИБП распознается и отображается в области лотка, поэтому не требует дополнительной настройки, тогда как в Linux<a href="https://networkupstools.org/"> ОРЕХ</a> Есть<a href="https://github.com/networkupstools/nut/issues/300"> проблемы с драйверами</a>.</p><h2 id=system_services ><a class=header-anchor href="#system_services"> Системные услуги</a></h2><p> Многим не понравился systemd, когда он вошел в ядро ​​Linux ... Вместо этого я начал его скучать с Windows ... Службы Windows<a href="https://stackoverflow.com/questions/7629813/is-there-windows-analog-to-supervisord"> не совсем то, что ориентировано на пользователей</a> как systemd. Windows имеет<strong> Планировщик заданий</strong> иметь дело с вещами, которые выглядят как<code>one-shot</code>unit, но опять же его интерфейс (или его отсутствие) ужасен. К счастью, нам не нужны специальные демоны в Windows, поскольку большинство используемых нами приложений Windows просто<em> запускаться при старте</em> своего рода логика и не требует дополнительных настроек. Фактически, не считая мусора инструментов (<em> вздох</em> ), чтобы окна работали как современная среда, тогда браузер (<a href="https://www.mozilla.org/en-US/firefox/new/"> Fire Fox</a> ), поскольку ускорение графического процессора браузера в WSL плохо (ну даже на родном Linux ...) и видеоплеере (<a href="https://mpv.io/"> MPV</a> ) .. и игры конечно ...</p><h2 id=packages ><a class=header-anchor href="#packages"> Пакеты</a></h2><p> Мне не нравится<a href="https://chocolatey.org"> шоколадный</a> поскольку для этого требуются права администратора, я всегда сначала ищу пакеты scoop, поскольку они устанавливаются в пользовательскую папку, что более удобно и согласованно и упрощает резервное копирование.</p><h2 id=wslg ><a class=header-anchor href="#wslg"> WSL / г</a></h2><p> Меня заставили переключиться на окна с недавнего<a href="https://github.com/microsoft/wslg"> WSLg</a> Обновить. Для этого потребовались драйверы mesa, скомпилированные с<code>d3d12</code> внутренняя поддержка для<code>opengl</code> . Windows предоставляет предварительный просмотр уровня ubuntu сообщества, но я выбрал<a href="https://github.com/yuk7/ArchWSL"> Arch Linux</a> поскольку уже существует пакет AUR для<a href="https://aur.archlinux.org/packages/mesa-d3d12/"> меса с d3d12</a> . Поскольку WSL в настоящее время не поддерживает systemd, я в конечном итоге использовал<a href="https://github.com/Supervisor/supervisor/"> руководитель</a> управлять несколькими услугами. Чтобы убедиться, что супервизор активен, в профиле оболочки есть проверка на наличие файла блокировки, который должен быть создан на<code>tmpfs</code> если супервизор был запущен ранее.</p><p> WSL поддерживает только<code>ext4</code> файловые системы, чтобы использовать другие файловые системы, вам необходимо смонтировать раздел (или диск) непосредственно внутри WSL VM. Однако их нужно монтировать вручную.<em> как администратор</em>из окон. Чтобы автоматизировать это, мы можем использовать планировщик задач, который позволяет обходить запрос UAC, выполняя задачи.<em> с высшими привилегиями</em> . Мы можем запустить WSL<code>--mount</code> команда, чтобы смонтировать желаемые диски / разделы, а затем запустить монтирование файловой системы из Linux. Потому что мой<code>/home/</code> находится в установленном<code>btrfs</code> файловую систему Мне нужно смонтировать автоматически, поэтому мы используем<code>/etc/fstab</code> чтобы отобразить наш раздел (по<code>LABEL</code> ) к<code>/home</code> . Поскольку мы используем nix с<code>nix-env</code> нам нужно привязать монтирование нашего хранилища nix к<code>/nix</code> при каждом запуске wsl, и потому что<code>/tmp</code> не на<code>tmpfs</code> нам нужно создать накладку, которая монтирует<code>tmpfs</code> над существующими<code>/tmp</code> каталог, чтобы сохранить важные файлы, в частности файлы X11, необходимые для взаимодействия с X-сервером.</p><p> Эти монтирования выполняются с помощью сценария, который следует запустить.<em> после</em> мы смонтировали диск внутри linux. Нам нужна задача, которая запускается после завершения задачи монтирования, и поскольку WSL использует разные виртуальные машины для разных пользователей Windows, сценарий должен запускаться НЕ с наивысшими привилегиями (в противном случае он будет монтироваться на виртуальную машину администратора).</p><p> Чтобы убедиться, что WSLg работает, мы должны убедиться, что XDG<em> ВРЕМЯ РАБОТЫ</em> DIR установлен, так как он другой и находится (по умолчанию) в<code>/mnt/wlsg/runtime-dir</code> . Вот как выглядят окна в Wayland, вы можете видеть, что, поскольку декорации окон Wayland могут быть нарисованы либо композитором, либо приложением, они сохраняют конфигурацию вашей темы GTK / QT, поэтому вы в конечном итоге получаете окно для просмотра родной темы linux внутри оболочки Windows ... что сначала немного дезориентирует.</p><div class=wslgemacs ><style> .wslgemacs img { width: 100%; } </style><img alt="" src="/assets/posts/img/wslgemacs.png"/></div><h2 id=terminal_emulator ><a class=header-anchor href="#terminal_emulator"> Эмулятор терминала</a></h2><p> В Linux я использовал<a href="https://github.com/kovidgoyal/kitty"> Китти</a> , поскольку это был один из новейших эмуляторов терминала с ускорением графического процессора.<sup id="fnref:whygpu"><a class=fnref href="#fndef:whygpu">[2]</a></sup>и несколько стабильный режим демона, который позволяет использовать несколько окон с одним и тем же экземпляром. Однако в Windows я пробовал работать с несколькими оконными терминалами, такими как Windows Terminal, fluent terminal, wsltty, conemu, но в конце концов я переключился на<a href="https://github.com/wez/wezterm"> Wezterm</a> . Несмотря на то, что это более поздний терминал, он имеет все функции, которые вы хотели бы получить от эмулятора терминала:</p><ul><li><p> вкладки и панели, так что вам не нужен tmux</p><li><p> мультиплексирование (удаленный безголовый режим), так что вам не нужен tmux</p><li><p> режим копирования текста с привязками клавиш vi, так что вам не нужен tmux</p><li><p> быстрый выбор, режим подсказки для быстрого выбора текстовых объектов при прокрутке назад</p><li><p> команды по умолчанию для новых вкладок</p><li><p> Очень хорошая настройка раскладки клавиш, не считая того факта, что вы не можете использовать левый / правый Shift / Ctrl / Alt в качестве разных модификаторов.</p></ul><p> В Windows я также немного изменил свой рабочий процесс, так что мне не нужен терминал с режимом демона, который поддерживает несколько отдельных окон, с помощью раскрывающегося терминала. Сделать wezterm<em> падать</em> после того, как попробовал много выпадающих скриптов AHK, в конце концов я нашел<a href="https://github.com/lonepie/mintty-quake-console"> один</a> это сработало довольно хорошо. Однако лучшей альтернативой было бы<a href="https://github.com/flyingpie/windows-terminal-quake"> Windows-терминал-землетрясение</a>, но у меня была проблема с его неправильным поведением с виртуальными рабочими столами, управляемыми dexpot, тогда как mitty-quake-console, похоже, совместим с виртуальными рабочими столами dexpot. Скорее всего, когда опыт встроенных виртуальных рабочих столов Windows улучшится, я переключусь на windows-terminal-quake. WezTerm также является кроссплатформенным, что означает, что я могу продолжать использовать его с собственной установкой Linux. Это была действительно удачная находка для этого переключателя Windows + WSL, поскольку Китти еще не поддерживает Windows, а другие альтернативы терминала имели некоторые довольно серьезные неудобства, которые<em> Я не мог смириться с</em>.</p><p></p><table class=fndef id="fndef:AHK"><tr><td class=fndef-backref ><a href="#fnref:AHK">[1]</a><td class=fndef-content > AutoHotKey</table><table class=fndef id="fndef:whygpu"><tr><td class=fndef-backref ><a href="#fnref:whygpu">[2]</a><td class=fndef-content > зачем мне опять нужно ускорение gpu в терминале?</table><p></p><div id=post-tags-list > Теги сообщений: <span class=post-tag ><a href="/ru/posts/tag/software" style=""> программное обеспечение</a>, </span><span class=post-tag ><a href="/ru/posts/tag/tools" style=""> инструменты</a></span></div><div class=page-foot ><div class=copyright > 25 июля 2021 г. </div><script async="" crossorigin=anonymous issue-term=pathname label=Comment repo="untoreh/untoreh.github.io" src="https://utteranc.es/client.js"></script></div></div><div class=page__footer ><footer><div class=page__footer-copyright > © untoreh - При поддержке<a href="https://github.com/tlienart/Franklin.jl"> Франклин</a></div><div class=page__footer-links > - <ul><li><a href="/ru/sitemap.xml"> Карта сайта</a> | <li><a href="/ru/tag"> Теги</a> | <li><a href="/ru/feed.xml"> RSS</a></ul></div><ul class=author__wrap ><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-twitter-square"></i></a><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-github"></i></a><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=query","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":"https://unto.re/search?&q={query}"}}</script></ul></footer></div><script crossorigin=anonymous defer="" id=fa integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" src="https://use.fontawesome.com/releases/v5.8.2/js/all.js"></script><script src="/libs/colors.js"></script><script src="/libs/menu.js"></script><script defer="" src="/libs/lunr/lunr.min.js"></script></HTML>