<!doctypehtml><html lang=tl><meta charset=UTF-8><meta content=width=device-width,initial-scale=1 name=viewport><link href=https://www.unto.re/tl/posts/paroodise/ rel=canonical><link title=" site ng untoreh"href=https://www.unto.re/feed.xml rel=alternate type=application/rss+xml><link href=https://www.unto.re/amp/tl/posts/paroodise/ rel=amphtml><script type=application/ld+json>{"copyrightHolder":"untoreh","@id":"https://www.unto.re","url":"https://www.unto.re","copyrightYear":2021,"@context":"https://schema.org/","image":"/assets/appa.png","@type":"WebSite"}</script><script type=application/ld+json>{"audience":"cool people","url":"https://www.unto.re/posts/paroodise/index.html","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"accessibilitySummary":"Visual elements are tentatively described.","description":"A small utility for live modification of file systems","author":{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"email":"contact@unto.re","name":"untoreh","@type":"https://schema.org/Person","image":"/assets/appa.png"},"mentions":[],"@context":"https://schema.org","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"@type":"https://schema.org/WebPage","lastReviewed":"2021-04-08","dateCreated":"April 24, 2021","@id":"https://www.unto.re/posts/paroodise/index.html","dateModified":"2021-04-08","availableLanguage":[{"name":"English","@type":"Language"},{"name":"German","@type":"Language"},{"name":"Italian","@type":"Language"},{"name":"Mandarin Chinese","@type":"Language"},{"name":"Spanish","@type":"Language"},{"name":"Hindi","@type":"Language"},{"name":"Arabic","@type":"Language"},{"name":"Portuguese","@type":"Language"},{"name":"Bengali","@type":"Language"},{"name":"Russian","@type":"Language"},{"name":"Japanese","@type":"Language"},{"name":"Punjabi","@type":"Language"},{"name":"Javanese","@type":"Language"},{"name":"Vietnamese","@type":"Language"},{"name":"French","@type":"Language"},{"name":"Urdu","@type":"Language"},{"name":"Turkish","@type":"Language"},{"name":"Polish","@type":"Language"},{"name":"Ukranian","@type":"Language"},{"name":"Dutch","@type":"Language"},{"name":"Greek","@type":"Language"},{"name":"Swedish","@type":"Language"},{"name":"Zulu","@type":"Language"},{"name":"Romanian","@type":"Language"},{"name":"Malay","@type":"Language"},{"name":"Korean","@type":"Language"},{"name":"Thai","@type":"Language"},{"name":"Filipino","@type":"Language"}],"keywords":["tools","hosting","about"],"creativeWorkStatus":"Published","publisher":{"url":"https://www.unto.re","sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"contactPoint":{"contactType":"info","email":"contact@unto.re","@type":"ContactPoint","telephone":""},"logo":"/assets/appa.png","name":"untoreh's site","@type":"Organization"},"datePublished":"2021-04-08","inLanguage":"English","image":"/assets/appa.png","name":"","mainEntityOfPage":{"@id":"https://www.unto.re/posts/paroodise/index.html","@type":"Article"}}</script><script id=ldj-breadcrumbs type=application/ld+json>{"itemListElement":[{"position":1,"item":"https://www.unto.re","name":"Home","@type":"ListItem"},{"position":2,"item":"/posts/","name":"Posts List","@type":"ListItem"},{"position":3,"item":"https://www.unto.re/posts/paroodise","name":"Paroodise","@type":"ListItem"}],"@type":"BreadcrumbList"}</script><link href=/css/franklin.css rel=stylesheet><link href=/css/main.css rel=stylesheet><link href=/css/menu.css rel=stylesheet><link href=/css/pages.css rel=stylesheet><link href=/css/lunr.css rel=stylesheet><link href=/css/footer.css rel=stylesheet><link href=/css/responsive.css rel=stylesheet><link href=/css/animations.css rel=stylesheet><link href=/css/docco.css rel=stylesheet><link href=/css/flags-sprite.css rel=stylesheet><link href=/assets/favicon.png rel=icon type=image/x-icon><link href=/assets/favicon.svg rel=icon type=image/svg+xml><title> Paroodise</title><meta content="A small utility for live modification of file systems"name=description><script src=/libs/load.js></script><script type=application/ld+json>{"url":"/tl/posts/paroodise/","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"mentions":null,"description":"","@context":"https://schema.org","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"@type":"https://schema.org/WebPage","lastReviewed":"","dateCreated":"","@id":"/tl/posts/paroodise/","dateModified":"","keywords":[],"creativeWorkStatus":"Published","translator":{"url":"http://google.translate.com","name":"Google Translate","@type":"https://schema.org/Organization"},"translationOfWork":{"@id":"https://www.unto.re/posts/paroodise/"},"datePublished":"2021-10-21T18:53:58.312","inLanguage":"tl","name":"","mainEntityOfPage":{"@id":"/tl/posts/paroodise/","@type":"Article"}}</script><body><div class=masthead><div class=masthead__inner-wrap><div class=masthead__menu><a class=site-title href=/tl/></a><div class=author__wrap><script type=application/ld+json>{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"email":"contact@unto.re","name":"untoreh","@type":"https://schema.org/Person","image":"/assets/appa.png"}</script><ul><li class=author__avatar onclick=toggleTheme()><img alt=" untoreh-light"class=flip-front src=/assets/appa.png><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer"href=https://twitter.com/untoreh><i class="fab fa-fw fa-twitter-square"aria-hidden=true></i></a><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer"href=https://github.com/untoreh><i class="fab fa-fw fa-github"aria-hidden=true></i></a><li class="author__urls social-icons"><a href=mailto:contact@unto.re><i class="fas fa-envelope"></i></a><li><script type=application/ld+json>{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"www.unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script></ul></div><nav id=site-nav><div class=horiz><ul><li class="masthead__menu-item hvr-outline-in"id=lunrSearch><form id=lunrSearchForm name=lunrSearchForm><button name="Search Website"class=search-button formaction=/search/index.html value=Search><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder=Search…></form><li class="masthead__menu-item hvr-outline-in"><a title="All the articles that I have written"href=/tl/posts/><i class="fas fa-pen menu-icons"></i> mga post</a><li class="masthead__menu-item hvr-outline-in"><a title="Video and audio content from streaming websites."href=/tl/media/><i class="fas fa-tv menu-icons"></i> media</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn"title="Change website's language"><button name="Languages Menu"class=langs-dropdown-wrapper><i class="fas fa-language menu-icons"></i> Lang <div class=langs-dropdown-content id=langs-dropdown-menu><ul id=lang-list><a class=lang-link href=/ar/posts/paroodise id=lang-ar><span class="flag flag-sa"></span>Arabic</a><a class=lang-link href=/bn/posts/paroodise id=lang-bn><span class="flag flag-bd"></span>Bengali</a><a class=lang-link href=/nl/posts/paroodise id=lang-nl><span class="flag flag-nl"></span>Dutch</a><a class=lang-link href=/posts/paroodise id=lang-en><span class="flag flag-gb"></span>English</a><a class=lang-link href=/tl/posts/paroodise id=lang-tl><span class="flag flag-ph"></span>Filipino</a><a class=lang-link href=/fr/posts/paroodise id=lang-fr><span class="flag flag-fr"></span>French</a><a class=lang-link href=/de/posts/paroodise id=lang-de><span class="flag flag-de"></span>German</a><a class=lang-link href=/el/posts/paroodise id=lang-el><span class="flag flag-gr"></span>Greek</a><a class=lang-link href=/hi/posts/paroodise id=lang-hi><span class="flag flag-in"></span>Hindi</a><a class=lang-link href=/it/posts/paroodise id=lang-it><span class="flag flag-it"></span>Italian</a><a class=lang-link href=/ja/posts/paroodise id=lang-ja><span class="flag flag-jp"></span>Japanese</a><a class=lang-link href=/jw/posts/paroodise id=lang-jw><span class="flag flag-id"></span>Javanese</a><a class=lang-link href=/ko/posts/paroodise id=lang-ko><span class="flag flag-kr"></span>Korean</a><a class=lang-link href=/ms/posts/paroodise id=lang-ms><span class="flag flag-ms"></span>Malay</a><a class=lang-link href=/zh/posts/paroodise id=lang-zh><span class="flag flag-cn"></span>Mandarin Chinese</a><a class=lang-link href=/pl/posts/paroodise id=lang-pl><span class="flag flag-pl"></span>Polish</a><a class=lang-link href=/pt/posts/paroodise id=lang-pt><span class="flag flag-pt"></span>Portuguese</a><a class=lang-link href=/pa/posts/paroodise id=lang-pa><span class="flag flag-in"></span>Punjabi</a><a class=lang-link href=/ro/posts/paroodise id=lang-ro><span class="flag flag-ro"></span>Romanian</a><a class=lang-link href=/ru/posts/paroodise id=lang-ru><span class="flag flag-ru"></span>Russian</a><a class=lang-link href=/es/posts/paroodise id=lang-es><span class="flag flag-es"></span>Spanish</a><a class=lang-link href=/sv/posts/paroodise id=lang-sv><span class="flag flag-se"></span>Swedish</a><a class=lang-link href=/th/posts/paroodise id=lang-th><span class="flag flag-th"></span>Thai</a><a class=lang-link href=/tr/posts/paroodise id=lang-tr><span class="flag flag-tr"></span>Turkish</a><a class=lang-link href=/uk/posts/paroodise id=lang-uk><span class="flag flag-ua"></span>Ukranian</a><a class=lang-link href=/ur/posts/paroodise id=lang-ur><span class="flag flag-pk"></span>Urdu</a><a class=lang-link href=/vi/posts/paroodise id=lang-vi><span class="flag flag-vn"></span>Vietnamese</a><a class=lang-link href=/zu/posts/paroodise id=lang-zu><span class="flag flag-za"></span>Zulu</a></ul></div></button></ul></div><button name="Website Menu"class=ham><i class="fas fa-bars ham-icon"></i></button><div class=vert><ul><li class="masthead__menu-item hvr-outline-in"id=lunrSearch><form id=lunrSearchForm name=lunrSearchForm><button name="Search Website"class=search-button formaction=/search/index.html value=Search><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder=Search…></form><li class="masthead__menu-item hvr-outline-in"><a title="All the articles that I have written"href=/tl/posts/><i class="fas fa-pen menu-icons"></i> mga post</a><li class="masthead__menu-item hvr-outline-in"><a title="Video and audio content from streaming websites."href=/tl/media/><i class="fas fa-tv menu-icons"></i> media</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn"title="Change website's language"><button name="Languages Menu"class=langs-dropdown-wrapper><i class="fas fa-language menu-icons"></i> Lang <div class=langs-dropdown-content id=langs-dropdown-menu><ul id=lang-list><a class=lang-link href=/ar/posts/paroodise id=lang-ar><span class="flag flag-sa"></span>Arabic</a><a class=lang-link href=/bn/posts/paroodise id=lang-bn><span class="flag flag-bd"></span>Bengali</a><a class=lang-link href=/nl/posts/paroodise id=lang-nl><span class="flag flag-nl"></span>Dutch</a><a class=lang-link href=/posts/paroodise id=lang-en><span class="flag flag-gb"></span>English</a><a class=lang-link href=/tl/posts/paroodise id=lang-tl><span class="flag flag-ph"></span>Filipino</a><a class=lang-link href=/fr/posts/paroodise id=lang-fr><span class="flag flag-fr"></span>French</a><a class=lang-link href=/de/posts/paroodise id=lang-de><span class="flag flag-de"></span>German</a><a class=lang-link href=/el/posts/paroodise id=lang-el><span class="flag flag-gr"></span>Greek</a><a class=lang-link href=/hi/posts/paroodise id=lang-hi><span class="flag flag-in"></span>Hindi</a><a class=lang-link href=/it/posts/paroodise id=lang-it><span class="flag flag-it"></span>Italian</a><a class=lang-link href=/ja/posts/paroodise id=lang-ja><span class="flag flag-jp"></span>Japanese</a><a class=lang-link href=/jw/posts/paroodise id=lang-jw><span class="flag flag-id"></span>Javanese</a><a class=lang-link href=/ko/posts/paroodise id=lang-ko><span class="flag flag-kr"></span>Korean</a><a class=lang-link href=/ms/posts/paroodise id=lang-ms><span class="flag flag-ms"></span>Malay</a><a class=lang-link href=/zh/posts/paroodise id=lang-zh><span class="flag flag-cn"></span>Mandarin Chinese</a><a class=lang-link href=/pl/posts/paroodise id=lang-pl><span class="flag flag-pl"></span>Polish</a><a class=lang-link href=/pt/posts/paroodise id=lang-pt><span class="flag flag-pt"></span>Portuguese</a><a class=lang-link href=/pa/posts/paroodise id=lang-pa><span class="flag flag-in"></span>Punjabi</a><a class=lang-link href=/ro/posts/paroodise id=lang-ro><span class="flag flag-ro"></span>Romanian</a><a class=lang-link href=/ru/posts/paroodise id=lang-ru><span class="flag flag-ru"></span>Russian</a><a class=lang-link href=/es/posts/paroodise id=lang-es><span class="flag flag-es"></span>Spanish</a><a class=lang-link href=/sv/posts/paroodise id=lang-sv><span class="flag flag-se"></span>Swedish</a><a class=lang-link href=/th/posts/paroodise id=lang-th><span class="flag flag-th"></span>Thai</a><a class=lang-link href=/tr/posts/paroodise id=lang-tr><span class="flag flag-tr"></span>Turkish</a><a class=lang-link href=/uk/posts/paroodise id=lang-uk><span class="flag flag-ua"></span>Ukranian</a><a class=lang-link href=/ur/posts/paroodise id=lang-ur><span class="flag flag-pk"></span>Urdu</a><a class=lang-link href=/vi/posts/paroodise id=lang-vi><span class="flag flag-vn"></span>Vietnamese</a><a class=lang-link href=/zu/posts/paroodise id=lang-zu><span class="flag flag-za"></span>Zulu</a></ul></div></button></ul></div></nav></div></div></div><div><h1 id=title><a href=/tl/posts/paroodise> Paroodise</a></h1><blockquote id=page-description style=font-style:italic>Isang maliit na utility para sa live na pagbabago ng mga file system</blockquote></div><div class=franklin-content><p>Noong unang pag-aayos ko sa kung anong ginagamit ang pamamahagi ng linux para sa aking mga remote server kailangan ko ng isang paraan upang mabilis na mai-install ang iba't ibang mga system ng root file sa isang target na host, kaya't nagsulat ako ng [paroodise].<p>Upang mai-flash ang isang booting block device na kailangan mo<em> matalo</em> . Maaari mo lamang i-unmount kung ihinto mo ang paggamit nito. Upang ihinto ang paggamit nito kailangan mong i-restart ang iyong mga serbisyo sa lugar, mula sa isa pang root file system. Ito ay katulad sa what the<a href=https://en.wikipedia.org/wiki/Initial_ramdisk> initramfs</a>ang ginagawa kapag binobota nito ang isang linux based OS, ang kernel ay nagpapatupad ng isang imahe ng boot na na-setup ang file system mula sa kung saan ang totoo<a href=https://en.wikipedia.org/wiki/Init> sa loob</a> ang serbisyo ay inilunsad.<p>Upang makamit ito sa isang<em> tumatakbo na</em> system dapat nating maging maingat kung paano natin muling i-restart ang aming mga proseso. Hindi namin mapapatay ang ssh maliban kung sigurado kaming tatakbo ang aming script hanggang sa matagumpay.<p>Ang buong proseso ay mas madali sa mga hindi distribusyon na batay sa systemd, dahil ang systemd hooks ng malalim sa linux kernel, ang mangling kasama ang mga proseso ay walang ingat na maaaring maging sanhi ng mga panic ng kernel ... sa katunayan sa mga pinakabagong pamamahagi iyan ang karaniwang nangyayari :)<p>Kapag isinulat ko ang mini utility na ito tila hindi ko alam ang matatag na mga paraan upang itanghal ang mga proseso na umabot ng higit sa orihinal na mga sesyon ng ssh, Dapat itong muling isulat na may mas pare-parehong mga pamamaraan.<p>Ang buong proseso ay binubuo ng<ul><li><p>pagkopya ng kaunting mga file na kinakailangan upang muling boottrap ang file system sa memorya<li><p>paglipat (o recreating) ng mga kernel mount point (<code>/dev</code>, <code>/proc</code>, <code>/sys</code>)<li><p>pagpatay sa mga nakaraang serbisyo na natiwalayan ng nakatayo na systemd na proseso ng puno<li><p>muling pagpapatupad ng systemd sa bagong pivoted file-system,<a href=https://www.freedesktop.org/software/systemd/man/systemctl.html#Manager%20State%20Commands><code>systemctl daemon-reexec</code></a></ul><p>Kung matagumpay na nakumpleto ang lahat posible sa puntong ito upang maglabas ng bagong serbisyo ssh at mag-login sa isang session kung saan magagamit ang mga orihinal na mount point para sa mga pagbabago.<p><div id=post-tags-list>Mag-post ng Mga Tag: <span class=post-tag><a href=https://www.unto.re/tag/tools> mga kasangkapan</a>, </span><span class=post-tag><a href=https://www.unto.re/tag/hosting> pagho-host</a>, </span><span class=post-tag><a href=https://www.unto.re/tag/about> tungkol sa</a></span></div><div class=page-foot><div class=copyright>Abril 08, 2021</div><script async crossorigin=anonymous issue-term=pathname label=Comment repo=untoreh/untoreh.github.io src=https://utteranc.es/client.js></script></div></div><div class=page__footer><footer><div class=page__footer-copyright>© untoreh - Pinapagana ng<a href=https://github.com/tlienart/Franklin.jl> Franklin</a></div><div class=page__footer-links>- <ul><li><a href=/tl/sitemapxml> Sitemap</a></li> | <li><a href=/tl/tag> Mga tag</a></li> | <li><a href=https://www.unto.re/tag/feed.xml> RSS</a></ul></div><ul class=author__wrap><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer"href=https://twitter.com/untoreh><i class="fab fa-fw fa-twitter-square"aria-hidden=true></i></a><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer"href=https://github.com/untoreh><i class="fab fa-fw fa-github"aria-hidden=true></i></a><li class="author__urls social-icons"><a href=mailto:contact@unto.re><i class="fas fa-envelope"></i></a><li><script type=application/ld+json>{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"www.unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script></ul></footer></div><script crossorigin=anonymous defer id=fa integrity=sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH src=https://use.fontawesome.com/releases/v5.8.2/js/all.js></script><script src=/libs/colors.js></script><script src=/libs/menu.js></script><script defer src=/libs/lunr/lunr.min.js></script>