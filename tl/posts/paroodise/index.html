<!DOCTYPE html><HTML lang=en ><meta charset=UTF-8 /><script type="application/ld+json">{"copyrightHolder":"untoreh","@id":"https://unto.re","url":"https://unto.re","copyrightYear":2021,"@context":"https://schema.org/","@type":"WebSite"}</script><script type="application/ld+json">{"audience":"cool people","url":"https://unto.re/posts/paroodise/index.html","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"accessibilitySummary":"Visual elements are tentatively described.","author":"untoreh","description":"A small utility for live modification of file systems","mentions":[],"accessModeSufficient":{"itemListElement":["textual","visual"],"description":"text and images","@type":"itemList"},"lastReviewed":"April 08, 2021","@type":"https://schema.org/WebPage","dateCreated":"April 24, 2021","@id":"https://unto.re/posts/paroodise/index.html","dateModified":"April 08, 2021","abstract":"A small utility for live modification of file systems","headline":"Paroodise","creativeWorkStatus":"Published","availableLanguage":[{"name":"English","@type":"Language"},{"name":"German","@type":"Language"},{"name":"Italian","@type":"Language"},{"name":"Mandarin Chinese","@type":"Language"},{"name":"Spanish","@type":"Language"},{"name":"Hindi","@type":"Language"},{"name":"Arabic","@type":"Language"},{"name":"Portuguese","@type":"Language"},{"name":"Bengali","@type":"Language"},{"name":"Russian","@type":"Language"},{"name":"Japanese","@type":"Language"},{"name":"Punjabi","@type":"Language"},{"name":"Javanese","@type":"Language"},{"name":"Vietnamese","@type":"Language"},{"name":"French","@type":"Language"},{"name":"Urdu","@type":"Language"},{"name":"Turkish","@type":"Language"},{"name":"Polish","@type":"Language"},{"name":"Ukranian","@type":"Language"},{"name":"Dutch","@type":"Language"},{"name":"Greek","@type":"Language"},{"name":"Swedish","@type":"Language"},{"name":"Zulu","@type":"Language"},{"name":"Romanian","@type":"Language"},{"name":"Malay","@type":"Language"},{"name":"Korean","@type":"Language"},{"name":"Thai","@type":"Language"},{"name":"Filipino","@type":"Language"}],"keywords":["tools","hosting","about"],"datePublished":"April 24, 2021","inLanguage":"English","name":"Paroodise","identifier":"https://unto.re/posts/paroodise/index.html"}</script><meta content="width=device-width, initial-scale=1" name=viewport /><link href="/css/franklin.css" rel=stylesheet /><link href="/css/main.css" rel=stylesheet /><link href="/css/menu.css" rel=stylesheet /><link href="/css/pages.css" rel=stylesheet /><link href="/css/lunr.css" rel=stylesheet /><link href="/css/footer.css" rel=stylesheet /><link href="/css/responsive.css" rel=stylesheet /><link href="/css/animations.css" rel=stylesheet /><link href="/css/docco.css" rel=stylesheet /><link href="/css/flag-icon.min.css" rel=stylesheet /><link href="/assets/favicon.png" rel=icon /><title> Paroodise</title><script src="/libs/lunr/lunr.min.js"></script><script src="/libs/lunr/lunr_index.js"></script><script src="/libs/lunr/lunrclient.min.js"></script><script src="/libs/load.js"></script><script type="application/ld+json">{"@id":"https://unto.re/tl/posts/paroodise/index.html","url":"https://unto.re/tl/posts/paroodise/index.html","abstract":null,"headline":null,"keywords":null,"description":null,"mentions":null,"translator":{"url":"https://translate.google.com/","name":"Google","@type":"https://schema.org/Organization"},"translationOfWork":{"@id":"/home/fra/dev/blog/https://unto.re/"},"inLanguage":"tl","name":null,"@type":"https://schema.org/WebPage"}</script><body class=""><div class=masthead ><div class=masthead__inner-wrap ><div class=masthead__menu ><a class=site-title href="/tl/"></a><div class=author__wrap ><script type="application/ld+json">{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"description":"<ul>\n<li><p><strong>Name</strong>: Francesco Giannelli</p>\n\n<li><p><strong>Website</strong>: &#91;«https://unto.re»&#93;, the place where I put stuff I should remember...or forget</p>\n\n<li><p><strong>Location</strong>: south italy {{bio_link}}</p>\n\n<li><p><strong>Year</strong>: &#39;91</p>\n\n</ul>\n","image":"/assets/appa.png","name":"untoreh","@type":"https://schema.org/Person","email":"contact@unto.re"}</script><ul><li class=author__avatar onclick="toggleTheme()"><img alt=" untoreh-light" class=flip-front src="/assets/appa.png"/><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-twitter-square"></i></a><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-github"></i></a><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=query","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":"https://unto.re/search?&q={query}"}}</script></ul></div><nav id=site-nav ><div class=horiz ><ul><li class="masthead__menu-item hvr-outline-in" id=lunrSearch ><form id=lunrSearchForm name=lunrSearchForm ><button class=search-button formaction="/search/index.html" type=submit value=Search ><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder="Search…" type=text /></form><li class="masthead__menu-item hvr-outline-in"><a href="/tl/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> mga post</a><li class="masthead__menu-item hvr-outline-in"><a href="/tl/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> tungkol sa</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class=langs-dropdown-wrapper ><i class="fas fa-language menu-icons"></i> Lang <div class=langs-dropdown-content id=langs-dropdown-menu ><ul id=lang-list ><a class=lang-link href="/ar/posts/paroodise" id=lang-ar ><span class="flag-icon flag-icon-sa"></span> Arabe</a><a class=lang-link href="/tl/bn/posts/paroodise" id=lang-bn ><span class="flag-icon flag-icon-bd"></span> Bengali</a><a class=lang-link href="/tl/nl/posts/paroodise" id=lang-nl ><span class="flag-icon flag-icon-nl"></span>Dutch</a><a class=lang-link href="/tl/en/posts/paroodise" id=lang-en ><span class="flag-icon flag-icon-gb"></span> Ingles</a><a class=lang-link href="/tl/tl/posts/paroodise" id=lang-tl ><span class="flag-icon flag-icon-ph"></span> Pilipino</a><a class=lang-link href="/tl/fr/posts/paroodise" id=lang-fr ><span class="flag-icon flag-icon-fr"></span> Pranses</a><a class=lang-link href="/tl/de/posts/paroodise" id=lang-de ><span class="flag-icon flag-icon-de"></span> Aleman</a><a class=lang-link href="/tl/el/posts/paroodise" id=lang-el ><span class="flag-icon flag-icon-gr"></span> Griyego</a><a class=lang-link href="/tl/hi/posts/paroodise" id=lang-hi ><span class="flag-icon flag-icon-in"></span> Hindi</a><a class=lang-link href="/tl/it/posts/paroodise" id=lang-it ><span class="flag-icon flag-icon-it"></span> Italyano</a><a class=lang-link href="/tl/ja/posts/paroodise" id=lang-ja ><span class="flag-icon flag-icon-jp"></span> Japanese</a><a class=lang-link href="/tl/jw/posts/paroodise" id=lang-jw ><span class="flag-icon flag-icon-id"></span> Java</a><a class=lang-link href="/tl/ko/posts/paroodise" id=lang-ko ><span class="flag-icon flag-icon-kr"></span> Koreano</a><a class=lang-link href="/tl/ms/posts/paroodise" id=lang-ms ><span class="flag-icon flag-icon-ms"></span> Malay</a><a class=lang-link href="/tl/zh/posts/paroodise" id=lang-zh ><span class="flag-icon flag-icon-cn"></span> Mandarin na Tsino</a><a class=lang-link href="/tl/pl/posts/paroodise" id=lang-pl ><span class="flag-icon flag-icon-pl"></span> Polish</a><a class=lang-link href="/tl/pt/posts/paroodise" id=lang-pt ><span class="flag-icon flag-icon-pt"></span> Portuges</a><a class=lang-link href="/tl/pa/posts/paroodise" id=lang-pa ><span class="flag-icon flag-icon-in"></span> Punjabi</a><a class=lang-link href="/tl/ro/posts/paroodise" id=lang-ro ><span class="flag-icon flag-icon-ro"></span> Romaniano</a><a class=lang-link href="/tl/ru/posts/paroodise" id=lang-ru ><span class="flag-icon flag-icon-ru"></span> Russian</a><a class=lang-link href="/tl/es/posts/paroodise" id=lang-es ><span class="flag-icon flag-icon-es"></span> Kastila</a><a class=lang-link href="/tl/sv/posts/paroodise" id=lang-sv ><span class="flag-icon flag-icon-se"></span> Suweko</a><a class=lang-link href="/tl/th/posts/paroodise" id=lang-th ><span class="flag-icon flag-icon-th"></span> Thai</a><a class=lang-link href="/tl/tr/posts/paroodise" id=lang-tr ><span class="flag-icon flag-icon-tr"></span> Turko</a><a class=lang-link href="/tl/uk/posts/paroodise" id=lang-uk ><span class="flag-icon flag-icon-ua"></span> Ukranian</a><a class=lang-link href="/tl/ur/posts/paroodise" id=lang-ur ><span class="flag-icon flag-icon-pk"></span> Urdu</a><a class=lang-link href="/tl/vi/posts/paroodise" id=lang-vi ><span class="flag-icon flag-icon-vn"></span> Vietnamese</a><a class=lang-link href="/tl/zu/posts/paroodise" id=lang-zu ><span class="flag-icon flag-icon-za"></span> Zulu</a></ul></div></button></ul></div><button class=ham ><i class="fas fa-bars ham-icon"></i></button><div class=vert ><ul><li class="masthead__menu-item hvr-outline-in" id=lunrSearch ><form id=lunrSearchForm name=lunrSearchForm ><button class=search-button formaction="/search/index.html" type=submit value=Search ><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder="Search…" type=text /></form><li class="masthead__menu-item hvr-outline-in"><a href="/tl/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> mga post</a><li class="masthead__menu-item hvr-outline-in"><a href="/tl/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> tungkol sa</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class=langs-dropdown-wrapper ><i class="fas fa-language menu-icons"></i> Lang <div class=langs-dropdown-content id=langs-dropdown-menu ><ul id=lang-list ><a class=lang-link href="/ar/posts/paroodise" id=lang-ar ><span class="flag-icon flag-icon-sa"></span> Arabe</a><a class=lang-link href="/tl/bn/posts/paroodise" id=lang-bn ><span class="flag-icon flag-icon-bd"></span> Bengali</a><a class=lang-link href="/tl/nl/posts/paroodise" id=lang-nl ><span class="flag-icon flag-icon-nl"></span>Dutch</a><a class=lang-link href="/tl/en/posts/paroodise" id=lang-en ><span class="flag-icon flag-icon-gb"></span> Ingles</a><a class=lang-link href="/tl/tl/posts/paroodise" id=lang-tl ><span class="flag-icon flag-icon-ph"></span> Pilipino</a><a class=lang-link href="/tl/fr/posts/paroodise" id=lang-fr ><span class="flag-icon flag-icon-fr"></span> Pranses</a><a class=lang-link href="/tl/de/posts/paroodise" id=lang-de ><span class="flag-icon flag-icon-de"></span> Aleman</a><a class=lang-link href="/tl/el/posts/paroodise" id=lang-el ><span class="flag-icon flag-icon-gr"></span> Griyego</a><a class=lang-link href="/tl/hi/posts/paroodise" id=lang-hi ><span class="flag-icon flag-icon-in"></span> Hindi</a><a class=lang-link href="/tl/it/posts/paroodise" id=lang-it ><span class="flag-icon flag-icon-it"></span> Italyano</a><a class=lang-link href="/tl/ja/posts/paroodise" id=lang-ja ><span class="flag-icon flag-icon-jp"></span> Japanese</a><a class=lang-link href="/tl/jw/posts/paroodise" id=lang-jw ><span class="flag-icon flag-icon-id"></span> Java</a><a class=lang-link href="/tl/ko/posts/paroodise" id=lang-ko ><span class="flag-icon flag-icon-kr"></span> Koreano</a><a class=lang-link href="/tl/ms/posts/paroodise" id=lang-ms ><span class="flag-icon flag-icon-ms"></span> Malay</a><a class=lang-link href="/tl/zh/posts/paroodise" id=lang-zh ><span class="flag-icon flag-icon-cn"></span> Mandarin na Tsino</a><a class=lang-link href="/tl/pl/posts/paroodise" id=lang-pl ><span class="flag-icon flag-icon-pl"></span> Polish</a><a class=lang-link href="/tl/pt/posts/paroodise" id=lang-pt ><span class="flag-icon flag-icon-pt"></span> Portuges</a><a class=lang-link href="/tl/pa/posts/paroodise" id=lang-pa ><span class="flag-icon flag-icon-in"></span> Punjabi</a><a class=lang-link href="/tl/ro/posts/paroodise" id=lang-ro ><span class="flag-icon flag-icon-ro"></span> Romaniano</a><a class=lang-link href="/tl/ru/posts/paroodise" id=lang-ru ><span class="flag-icon flag-icon-ru"></span> Russian</a><a class=lang-link href="/tl/es/posts/paroodise" id=lang-es ><span class="flag-icon flag-icon-es"></span> Kastila</a><a class=lang-link href="/tl/sv/posts/paroodise" id=lang-sv ><span class="flag-icon flag-icon-se"></span> Suweko</a><a class=lang-link href="/tl/th/posts/paroodise" id=lang-th ><span class="flag-icon flag-icon-th"></span> Thai</a><a class=lang-link href="/tl/tr/posts/paroodise" id=lang-tr ><span class="flag-icon flag-icon-tr"></span> Turko</a><a class=lang-link href="/tl/uk/posts/paroodise" id=lang-uk ><span class="flag-icon flag-icon-ua"></span> Ukranian</a><a class=lang-link href="/tl/ur/posts/paroodise" id=lang-ur ><span class="flag-icon flag-icon-pk"></span> Urdu</a><a class=lang-link href="/tl/vi/posts/paroodise" id=lang-vi ><span class="flag-icon flag-icon-vn"></span> Vietnamese</a><a class=lang-link href="/tl/zu/posts/paroodise" id=lang-zu ><span class="flag-icon flag-icon-za"></span> Zulu</a></ul></div></button></ul></div></nav></div></div></div><div><h1 id=title ><a href="/tl/posts/paroodise"> Paroodise</a></h1><blockquote id=page-description style="font-style: italic;"> Isang maliit na utility para sa live na pagbabago ng mga file system </blockquote></div><div class=franklin-content ><p> Noong unang pag-aayos ko sa kung anong ginagamit ang pamamahagi ng linux para sa aking mga remote server kailangan ko ng isang paraan upang mabilis na mai-install ang iba't ibang mga system ng root file sa isang target na host, kaya't nagsulat ako ng [paroodise].</p><p> Upang mai-flash ang isang booting block device na kailangan mo<em> matalo</em> . Maaari mo lamang i-unmount kung ihinto mo ang paggamit nito. Upang ihinto ang paggamit nito kailangan mong i-restart ang iyong mga serbisyo sa lugar, mula sa isa pang root file system. Ito ay katulad sa what the<a href="https://en.wikipedia.org/wiki/Initial_ramdisk"> initramfs</a>ang ginagawa kapag binobota nito ang isang linux based OS, ang kernel ay nagpapatupad ng isang imahe ng boot na na-setup ang file system mula sa kung saan ang totoo<a href="https://en.wikipedia.org/wiki/Init"> sa loob</a> ang serbisyo ay inilunsad.</p><p> Upang makamit ito sa isang<em> tumatakbo na</em> system dapat nating maging maingat kung paano natin muling i-restart ang aming mga proseso. Hindi namin mapapatay ang ssh maliban kung sigurado kaming tatakbo ang aming script hanggang sa matagumpay.</p><p> Ang buong proseso ay mas madali sa mga hindi distribusyon na batay sa systemd, dahil ang systemd hooks ng malalim sa linux kernel, ang mangling kasama ang mga proseso ay walang ingat na maaaring maging sanhi ng mga panic ng kernel ... sa katunayan sa mga pinakabagong pamamahagi iyan ang karaniwang nangyayari :)</p><p> Kapag isinulat ko ang mini utility na ito tila hindi ko alam ang matatag na mga paraan upang itanghal ang mga proseso na umabot ng higit sa orihinal na mga sesyon ng ssh, Dapat itong muling isulat na may mas pare-parehong mga pamamaraan.</p><p> Ang buong proseso ay binubuo ng</p><ul><li><p> pagkopya ng kaunting mga file na kinakailangan upang muling boottrap ang file system sa memorya</p><li><p> paglipat (o recreating) ng mga kernel mount point (<code>/dev</code>, <code>/proc</code>, <code>/sys</code>)</p><li><p> pagpatay sa mga nakaraang serbisyo na natiwalayan ng nakatayo na systemd na proseso ng puno</p><li><p> muling pagpapatupad ng systemd sa bagong pivoted file-system,<a href="https://www.freedesktop.org/software/systemd/man/systemctl.html#Manager%20State%20Commands"><code>systemctl daemon-reexec</code></a></p></ul><p> Kung matagumpay na nakumpleto ang lahat posible sa puntong ito upang maglabas ng bagong serbisyo ssh at mag-login sa isang session kung saan magagamit ang mga orihinal na mount point para sa mga pagbabago.</p><p></p><div id=post-tags-list > Mag-post ng Mga Tag: <span class=post-tag ><a href="/tl/posts/tag/tools" style=""> mga kasangkapan</a>, </span><span class=post-tag ><a href="/tl/posts/tag/hosting" style=""> pagho-host</a>, </span><span class=post-tag ><a href="/tl/posts/tag/about" style=""> tungkol sa</a></span></div><div class=page-foot ><div class=copyright > Abril 08, 2021 </div><script async="" crossorigin=anonymous issue-term=pathname label=Comment repo="untoreh/untoreh.github.io" src="https://utteranc.es/client.js"></script></div></div><div class=page__footer ><footer><div class=page__footer-copyright > © untoreh - Pinapagana ng<a href="https://github.com/tlienart/Franklin.jl"> Franklin</a></div><div class=page__footer-links > - <ul><li><a href="/tl/sitemap.xml"> Sitemap</a> | <li><a href="/tl/tag"> Mga tag</a> | <li><a href="/tl/feed.xml"> RSS</a></ul></div><ul class=author__wrap ><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-twitter-square"></i></a><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-github"></i></a><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=query","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":"https://unto.re/search?&q={query}"}}</script></ul></footer></div><script crossorigin=anonymous defer="" id=fa integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" src="https://use.fontawesome.com/releases/v5.8.2/js/all.js"></script><script src="/libs/colors.js"></script><script src="/libs/menu.js"></script><script defer="" src="/libs/lunr/lunr.min.js"></script></HTML>