<!doctypehtml><html prefix="og: https://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#"amp lang=vi><script async src=https://cdn.ampproject.org/v0.js></script><meta charset=utf-8><meta content=width=device-width,minimum-scale=1,initial-scale=1 name=viewport><style amp-custom>.franklin-content .row{display:block}.franklin-content .left{float:left;margin-right:15px}.franklin-content .right{float:right}.franklin-content .container img{width:auto;padding-left:0;border-radius:10px}.franklin-content .footnote{position:relative;top:-.5em;font-size:70%}.franklin-toc li{margin:.6rem 0}.franklin-content h1{font-size:24px}.franklin-content h3{font-size:20px}.franklin-content h1,h3,h4,h5,h6{text-align:left}.franklin-content h1{padding-bottom:.5em;border-bottom:3px double #d3d3d3;margin-top:1.5em;margin-bottom:1em}.franklin-content h1 a{color:inherit}.franklin-content h1 a:hover{text-decoration:none}.franklin-content h2 a:hover{text-decoration:none}.franklin-content h3 a{color:inherit}.franklin-content h3 a:hover{text-decoration:none}.franklin-content h4 a{color:inherit}.franklin-content h4 a:hover{text-decoration:none}.franklin-content h5 a{color:inherit}.franklin-content h5 a:hover{text-decoration:none}.franklin-content h6 a{color:inherit}.franklin-content h6 a:hover{text-decoration:none}.franklin-content table{margin-left:auto;margin-right:auto;border-collapse:collapse;text-align:center}.franklin-content table *{line-height:.75rem}.franklin-toc ol ol{list-style-type:lower-alpha}.franklin-content th,td{font-size:var(--small);padding:10px;border:1px solid #000}.franklin-content blockquote{background:var(--block-background);border-left:7px solid #a8a8a8;margin:1.5em 10px;padding:.5em 10px;font-style:italic}.franklin-content blockquote p{display:inline}.franklin-content li p{margin:10px 0}.franklin-content a:hover{text-decoration:underline}.franklin-content .bibref a,.franklin-content .eqref a{color:green}.franklin-content sup{font-size:70%;vertical-align:super;line-height:0}.franklin-content sup a.fnref,.franklin-content td.fndef-backref a{overflow:visible;display:initial;padding-bottom:.3rem;padding-top:.2rem}.franklin-content table.fndef{margin:0 0 10px}.franklin-content .fndef tr,td{padding:0;border:0;text-align:left}.franklin-content .fndef tr{border-left:2px solid #d3d3d3}.franklin-content .fndef td.fndef-backref{vertical-align:top;font-size:70%;padding-left:5px}.franklin-content .fndef td.fndef-content{font-size:80%;padding-left:10px;width:100%}.franklin-content img{width:70%;text-align:center;padding-left:10%}.franklin-content .img-small img{width:50%;text-align:center;padding-left:20%}.katex{font-size:1em}.katex-display .katex{display:inline-block;white-space:normal}.katex-display:after{counter-increment:eqnum;content:"(" counter(eqnum) ")";position:relative;float:right;padding-right:5px}code.plaintext{display:block}.scrollbox{width:10em;height:10em;overflow:auto;visibility:hidden}.scrollbox-content,.scrollbox:focus,.scrollbox:hover{visibility:visible}.scrollbox_delayed{transition:visibility .2s}.scrollbox_delayed:hover{transition:visibility 0s .2s}.hljs{font-size:var(--small);line-height:1.35em;border-radius:10px}.hljs-meta,.hljs-metap,.hljs-metas{font-weight:700}.hljs-meta{color:#19b333}.hljs-metas{color:red}.hljs-metap{color:#3383e7}.franklin-content .colbox-blue{background-color:#eef3f5;padding:5px 10px;margin-left:5px;margin-top:5px;margin-bottom:5px;border-radius:0 10px 10px 0;border-left:5px solid #4c9cf1}body.light{--accent:#3152ff;--accent2:#5a61ae;--accent3:#651b00;--alt:#ae6600;--alt2:#9e6c47;--alt3:#7f4200;--alt4:#ffbebe;--background-color:#ffebee;--foreground-color:#1c0005;--block-background:#423833;--red:#e42a2f;--yellow:#917329;--green:#29892d}body.dark{--accent:#72e200;--accent2:#add3a0;--accent3:#7a9eff;--alt:#8abeff;--alt2:#836bd1;--alt3:#a090de;--background-color:#001d49;--foreground-color:#dae2ff;--block-background:#011627;--red:#e42a2f;--yellow:#917329;--green:#29892d}.author__place .author__bio{font-size:1rem}.franklin-content blockquote{border-left-color:var(--accent)}.franklin-content #title a{padding:.5rem;line-height:100%}.franklin-content img{width:auto;text-align:center;padding:0}.page__footer{margin-top:1rem;padding-top:1rem}.franklin-content .intro{font-size:1.2rem;text-align:left}.franklin-content .intro ul{list-style-type:none;font-size:1.1rem;font-style:italic}.franklin-content .intro a{font-variant:small-caps;padding-bottom:.2rem;font-size:1.4rem;font-style:normal}.franklin-content .intro .icon{padding:0 .2rem;font-size:1rem}.franklin-content .active-projects ul h4{font-size:1.5rem;font-variant:small-caps;font-style:normal;margin:.2rem}.franklin-content h3{font-size:.9rem}.posts_list h3{text-align:center}.svg-inline--fa.icon{width:1rem}.masthead__inner-wrap{display:block;width:100%;padding:10px 0;height:inherit}.author__name{display:none}.author__place{font-size:.65em}.page__footer ul>li{list-style-type:none}ul>li.author__urls a:hover{filter:drop-shadow(.1rem .1rem 0 var(--accent2)) brightness(1.5);filter:brightness(1.5);transition-property:-moz-filter,-ms-filter,-o-filter,filter;transition-duration:.2s}ul>li.author__place a{color:var(--accent3);text-decoration:none;text-shadow:0 0 .01rem var(--alt2)}.langs-dropdown-wrapper{cursor:pointer}.langs-dropdown-content.show{display:block}.lang-link .flag-icon{position:absolute;left:1rem;margin-top:.65rem}#site-nav .langs-dropdown-menu .lang-list{transition:height}#site-nav .langs-dropdown-menu .lang-link:hover{color:var(--foreground-color)}.page-foot{font-size:.7em;line-height:1.25em;text-align:right;display:inline-block;width:100%}.tag-content{padding-top:1rem}.author__bio li{list-style:none}.author__bio li p{margin:0;padding:0}#tag-name{font-size:1.5rem;padding:.5rem;font-weight:700;font-variant:small-caps}#tag_title{font-variant:small-caps}#tag_title .wrap{text-align:left}#tag_title>.wrap>*{display:inline-block;text-align:left}#tag_cloud{font-weight:700}.posts_list.franklin-content>ul{list-style-type:"> "}.posts_list.franklin-content>.title{font-variant:small-caps}.posts_list.franklin-content>.title>h2{font-size:1rem;font-style:italic}.posts_list.franklin-content>.title>a>h1,.posts_list.franklin-content>.title>h2{display:inline}.posts_list.franklin-content>ul>li{line-height:1.2rem;padding:.1rem}.posts_list.franklin-content>ul>li>p{padding:.1rem;margin:.1rem}.posts_list.franklin-content>.title,.posts_list.franklin-content>.title>h2{text-align:center;display:block;margin:1rem}.page__footer-links>ul>li>a{padding:.2rem;margin:.2rem}#tag_cloud>a{padding:.2rem;font-variant:small-caps;vertical-align:middle;margin:.3rem;display:inline-block;text-decoration:none;text-shadow:0 0 5rem #fff}#tag_cloud .icon{font-size:1rem;vertical-align:middle;margin-right:.2rem;margin-left:.2rem}#tag_cloud_wrapper{display:inline-block;width:100%;text-align:center}#post-tags-list{font-variant:small-caps;font-weight:700}.media{font-size:1.5rem;line-height:2rem}#library .book-author{color:var(--accent2);font-size:.9rem;display:inline}.shows_list h3{font-size:1.5rem}a.imdb{padding:0 .5rem}#searchResults ul li{margin-bottom:1rem}.lunrSearchForm .search-input:focus{background:var(--block-background)}.lunrSearchForm .search-button{cursor:pointer}.lunrSearchForm .search-button:focus{color:var(--accent)}.result-title a{text-decoration:none}.result-title a:hover{text-decoration:underline}.result-preview,.resultCount{color:gray}.result-query{font-weight:700}footer>*{float:left}footer a{-webkit-text-decoration:underline dotted;text-decoration:underline dotted}footer ul.author__wrap>li{float:left;padding:0 .2rem}footer ul.author__wrap>li a{line-height:2rem;height:inherit;display:block}footer ul.author__wrap{float:right;margin:0}footer .page__footer-copyright{margin:0}footer .page__footer-links{margin:0 .2rem 0 .4rem}footer .page__footer-links ul{display:inline;margin:0 .4rem 0 0;padding:0}footer .page__footer-links li{display:inline}@media (min-width:680px){#tag-name,.tag-desc{text-align:left}}@media (min-width:680px) and (max-width:1300px){#site-nav .ham:hover{cursor:pointer}#site-nav .vert{transition:max-height .33s ease-in,filter .33s ease-in}}@media (max-width:680px){.masthead__inner-wrap{display:block}#tag-name,.tag-desc{text-align:center}.page__footer{width:100%;display:block}.page__footer{text-align:center}footer{display:inline-block;text-align:center}footer>*{display:inline-block;float:none}footer ul.author__wrap{float:none}footer .author__urls.social-icons{font-size:1rem}.page-foot .copyright{display:inline-block}}@media (max-width:680px){footer ul.author__wrap{margin-top:1rem;text-align:center;margin-left:0;padding-left:0}footer ul.author__wrap>li{float:none;display:inline-block}.page__footer{margin-top:3.5rem}}.site-title:after{-webkit-animation:chars 5.52s linear 1s forwards,cursor 1s 3;animation:chars 5.52s linear 1s forwards,cursor 1s 3}.hvr-buzz-out{display:inline-block;vertical-align:middle;transform:perspective(1px) translateZ(0);box-shadow:0 0 1px #0000}.hvr-buzz-out:active,.hvr-buzz-out:focus,.hvr-buzz-out:hover{-webkit-animation-name:hvr-buzz-out;animation-name:hvr-buzz-out;-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:1;animation-iteration-count:1}.franklin-content a:before{transition-property:left,right;transition-duration:.3s;transition-timing-function:ease-out}.franklin-content a:active:before,.franklin-content a:focus:before,.franklin-content a:hover:before{left:0;right:0}.hvr-outline-in:before{pointer-events:none;transition-duration:.2s;transition-property:top,right,bottom,left}.horiz .hvr-outline-in:active:before,.horiz .hvr-outline-in:focus:before,.horiz .hvr-outline-in:hover:before{top:-.5rem;right:-.5rem;bottom:-.5rem;left:0;opacity:1}.vert .hvr-outline-in:active:before,.vert .hvr-outline-in:focus:before,.vert .hvr-outline-in:hover:before{top:-.5rem;right:0;bottom:-.5rem;left:-.5rem;opacity:1}.masthead__menu ul li.author__avatar img{transition:transform .8s}.masthead__menu li.author__avatar:hover img{transform:rotateY(180deg);cursor:pointer}body.light .hljs{display:block;overflow-x:auto;padding:.5em;color:#000;background:#f8f8ff}body.light .hljs-comment,body.light .hljs-quote{color:#408080;font-style:italic}body.light .hljs-keyword,body.light .hljs-literal,body.light .hljs-selector-tag,body.light .hljs-subst{color:#954121}body.light .hljs-number{color:#40a070}body.light .hljs-doctag,body.light .hljs-string{color:#219161}body.light .hljs-section,body.light .hljs-selector-class,body.light .hljs-selector-id,body.light .hljs-type{color:#19469d}body.light .hljs-params{color:#00f}body.light .hljs-title{color:#458;font-weight:700}body.light .hljs-attribute,body.light .hljs-name,body.light .hljs-tag{color:navy;font-weight:400}body.light .hljs-template-variable,body.light .hljs-variable{color:teal}body.light .hljs-link,body.light .hljs-regexp{color:#b68}body.light .hljs-bullet,body.light .hljs-symbol{color:#990073}body.light .hljs-built_in,body.light .hljs-builtin-name{color:#0086b3}body.light .hljs-meta{color:#999;font-weight:700}body.light .hljs-deletion{background:#fdd}body.light .hljs-addition{background:#dfd}body.light .hljs-emphasis{font-style:italic}body.light .hljs-strong{font-weight:700}.flag.flag-gu{background-position:-96px -55px}.flag.flag-mn{background-position:-208px -88px}.flag.flag-va{background-position:-48px -154px}.flag.flag-tibet{background-position:-32px -143px}.flag.flag-fo{background-position:-64px -44px}.flag.flag-tl{background-position:-80px -143px}.flag.flag-kz{background-position:-144px -77px}.flag.flag-zm{background-position:-16px -165px}.flag.flag-uz{background-position:-32px -154px}.flag.flag-dk{background-position:-64px -33px}.flag.flag-scotland{background-position:-176px -121px}.flag.flag-gi{background-position:-224px -44px}.flag.flag-gy{background-position:-128px -55px}.flag.flag-bj{background-position:-112px -11px}.flag.flag-mo{background-position:-224px -88px}.flag.flag-ir{background-position:-112px -66px}.flag.flag-io{background-position:-80px -66px}.flag.flag-tm{background-position:-96px -143px}.flag.flag-ch{background-position:-96px -22px}.flag.flag-mt{background-position:-32px -99px}.flag.flag-gp{background-position:-16px -55px}.flag.flag-im{background-position:-48px -66px}.flag.flag-tv{background-position:-176px -143px}.flag.flag-mu{background-position:-48px -99px}.flag.flag-pe{background-position:-96px -110px}.flag.flag-vi{background-position:-112px -154px}.flag.flag-hn{background-position:-176px -55px}.flag.flag-ss{background-position:-128px -132px}.flag.flag-ae{background-position:-16px 0}.flag.flag-td{background-position:-240px -132px}.flag.flag-pw{background-position:0 -121px}.flag.flag-nu{background-position:-32px -110px}.flag.flag-bt{background-position:-208px -11px}.flag.flag-cv{background-position:-240px -22px}.flag.flag-mh{background-position:-144px -88px}.flag.flag-la{background-position:-160px -77px}.flag.flag-py{background-position:-16px -121px}.flag.flag-br{background-position:-176px -11px}.flag.flag-ye{background-position:-224px -154px}.flag.flag-ie{background-position:0 -66px}.flag.flag-gh{background-position:-208px -44px}.flag.flag-cg{background-position:-80px -22px}.flag.flag-cu{background-position:-224px -22px}.flag.flag-hu{background-position:-224px -55px}.flag.flag-sg{background-position:-224px -121px}.flag.flag-at{background-position:-176px 0}.flag.flag-lk{background-position:-224px -77px}.flag.flag-vu{background-position:-144px -154px}.flag.flag-bo{background-position:-160px -11px}.flag.flag-jo{background-position:-208px -66px}.flag.flag-er{background-position:-208px -33px}.flag.flag-rs{background-position:-80px -121px}.flag.flag-nr{background-position:-16px -110px}.flag.flag-ls{background-position:-256px -77px}.flag.flag-jm{background-position:-192px -66px}.flag.flag-tz{background-position:-208px -143px}.flag.flag-ki{background-position:-16px -77px}.flag.flag-sj{background-position:0 -132px}.flag.flag-cz{background-position:-16px -33px}.flag.flag-pg{background-position:-128px -110px}.flag.flag-lv{background-position:-32px -88px}.flag.flag-do{background-position:-96px -33px}.flag.flag-lu{background-position:-16px -88px}.flag.flag-no{background-position:-256px -99px}.flag.flag-kw{background-position:-112px -77px}.flag.flag-mx{background-position:-96px -99px}.flag.flag-yt{background-position:-240px -154px}.flag.flag-ly{background-position:-48px -88px}.flag.flag-cy{background-position:0 -33px}.flag.flag-my{background-position:-112px -99px}.flag.flag-sm{background-position:-48px -132px}.flag.flag-et{background-position:-240px -33px}.flag.flag-tj{background-position:-48px -143px}.flag.flag-ai{background-position:-64px 0}.flag.flag-kp{background-position:-64px -77px}.flag.flag-uy{background-position:-16px -154px}.flag.flag-gs{background-position:-64px -55px}.flag.flag-kurdistan{background-position:-96px -77px}.flag.flag-rw{background-position:-112px -121px}.flag.flag-ec{background-position:-128px -33px}.flag.flag-mm{background-position:-192px -88px}.flag.flag-pa{background-position:-80px -110px}.flag.flag-wales{background-position:-160px -154px}.flag.flag-kg{background-position:-256px -66px}.flag.flag-ve{background-position:-80px -154px}.flag.flag-tk{background-position:-64px -143px}.flag.flag-ca{background-position:-16px -22px}.flag.flag-is{background-position:-128px -66px}.flag.flag-ke{background-position:-240px -66px}.flag.flag-gq{background-position:-32px -55px}.flag.flag-tf{background-position:-256px -132px}.flag.flag-ad{background-position:0 0}.flag.flag-sk{background-position:-16px -132px}.flag.flag-pm{background-position:-192px -110px}.flag.flag-om{background-position:-64px -110px}.flag.flag-an{background-position:-112px 0}.flag.flag-ws{background-position:-192px -154px}.flag.flag-sh{background-position:-240px -121px}.flag.flag-mp{background-position:-240px -88px}.flag.flag-gt{background-position:-80px -55px}.flag.flag-cf{background-position:-64px -22px}.flag.flag-zanzibar{background-position:0 -165px}.flag.flag-mw{background-position:-80px -99px}.flag.flag-catalonia{background-position:-32px -22px}.flag.flag-ug{background-position:-240px -143px}.flag.flag-je{background-position:-176px -66px}.flag.flag-km{background-position:-32px -77px}.flag.flag-bf{background-position:-48px -11px}.flag.flag-mc{background-position:-80px -88px}.flag.flag-sy{background-position:-192px -132px}.flag.flag-sn{background-position:-64px -132px}.flag.flag-eu{background-position:-256px -33px}.flag.flag-bn{background-position:-144px -11px}.flag.flag-st{background-position:-144px -132px}.flag.flag-england{background-position:-192px -33px}.flag.flag-lc{background-position:-192px -77px}.flag.flag-dm{background-position:-80px -33px}.flag.flag-be{background-position:-32px -11px}.flag.flag-ni{background-position:-224px -99px}.flag.flag-mz{background-position:-128px -99px}.flag.flag-pf{background-position:-112px -110px}.flag.flag-tn{background-position:-112px -143px}.flag.flag-ee{background-position:-144px -33px}.flag.flag-xk{background-position:-208px -154px}.flag.flag-sx{background-position:-176px -132px}.flag.flag-sd{background-position:-192px -121px}.flag.flag-gd{background-position:-128px -44px}.flag.flag-ci{background-position:-112px -22px}.flag.flag-sz{background-position:-208px -132px}.flag.flag-cl{background-position:-144px -22px}.flag.flag-fi{background-position:0 -44px}.flag.flag-ga{background-position:-96px -44px}.flag.flag-np{background-position:0 -110px}.flag.flag-re{background-position:-48px -121px}.flag.flag-bg{background-position:-64px -11px}.flag.flag-sc{background-position:-160px -121px}.flag.flag-ng{background-position:-208px -99px}.flag.flag-qa{background-position:-32px -121px}.flag.flag-mk{background-position:-160px -88px}.flag.flag-aw{background-position:-208px 0}.flag.flag-kn{background-position:-48px -77px}.flag.flag-al{background-position:-80px 0}.flag.flag-bw{background-position:-240px -11px}.flag.flag-um{background-position:-256px -143px}.flag.flag-ky{background-position:-128px -77px}.flag.flag-tt{background-position:-160px -143px}.flag.flag-so{background-position:-80px -132px}.flag.flag-lt{background-position:0 -88px}.flag.flag-by{background-position:-256px -11px}.flag.flag-bb{background-position:0 -11px}.flag.flag-us{background-position:0 -154px}.flag.flag-md{background-position:-96px -88px}.flag.flag-ag{background-position:-48px 0}.flag.flag-hm{background-position:-160px -55px}.flag.flag-as{background-position:-160px 0}.flag.flag-eg{background-position:-160px -33px}.flag.flag-sv{background-position:-160px -132px}.flag.flag-sl{background-position:-32px -132px}.flag.flag-fk{background-position:-32px -44px}.flag.flag-am{background-position:-96px 0}.flag.flag-ck{background-position:-128px -22px}.flag.flag-tw{background-position:-192px -143px}.flag.flag-kh{background-position:0 -77px}.flag.flag-to{background-position:-128px -143px}.flag.flag-cd{background-position:-48px -22px}.flag.flag-pn{background-position:-208px -110px}.flag.flag-vc{background-position:-64px -154px}.flag.flag-somaliland{background-position:-96px -132px}.flag.flag-bi{background-position:-96px -11px}.flag.flag-pr{background-position:-224px -110px}.flag.flag-co{background-position:-192px -22px}.flag.flag-fm{background-position:-48px -44px}.flag.flag-bm{background-position:-128px -11px}.flag.flag-ar{background-position:-144px 0}.flag.flag-bv{background-position:-224px -11px}.flag.flag-sb{background-position:-144px -121px}.flag.flag-mq{background-position:-256px -88px}.flag.flag-eh{background-position:-176px -33px}.flag.flag-bh{background-position:-80px -11px}.flag.flag-hr{background-position:-192px -55px}.flag.flag-mv{background-position:-64px -99px}.flag.flag-mg{background-position:-128px -88px}.flag.flag-dz{background-position:-112px -33px}.flag.flag-gg{background-position:-192px -44px}.flag.flag-gm{background-position:-256px -44px}.flag.flag-af{background-position:-32px 0}.flag.flag-li{background-position:-208px -77px}.flag.flag-sr{background-position:-112px -132px}.flag.flag-vg{background-position:-96px -154px}.flag.flag-cr{background-position:-208px -22px}.flag.flag-tc{background-position:-224px -132px}.flag.flag-ao{background-position:-128px 0}.flag.flag-ma{background-position:-64px -88px}.flag.flag-mr{background-position:0 -99px}.flag.flag-gn{background-position:0 -55px}.flag.flag-ne{background-position:-176px -99px}.flag.flag-nf{background-position:-192px -99px}.flag.flag-wf{background-position:-176px -154px}.flag.flag-hk{background-position:-144px -55px}.flag.flag-gf{background-position:-160px -44px}.flag.flag-ps{background-position:-240px -110px}.flag.flag-ic{background-position:-240px -55px}.flag.flag-cw{background-position:-256px -22px}.flag.flag-ml{background-position:-176px -88px}.flag.flag-ax{background-position:-224px 0}.flag.flag-gl{background-position:-240px -44px}.flag.flag-dj{background-position:-48px -33px}.flag.flag-ht{background-position:-208px -55px}.flag.flag-lr{background-position:-240px -77px}.flag.flag-tg{background-position:0 -143px}.flag.flag-ba{background-position:-256px 0}.flag.flag-ge{background-position:-144px -44px}.flag.flag-bz{background-position:0 -22px}.flag.flag-au{background-position:-192px 0}.flag.flag-iq{background-position:-96px -66px}.flag.flag-cm{background-position:-160px -22px}.flag.flag-gw{background-position:-112px -55px}.flag.flag-az{background-position:-240px 0}.flag.flag-na{background-position:-144px -99px}.flag.flag-fj{background-position:-16px -44px}.flag.flag-zw{background-position:-32px -165px}.flag.flag-bs{background-position:-192px -11px}.flag.flag-il{background-position:-16px -66px}.flag.flag-nz{background-position:-48px -110px}.flag.flag-me{background-position:-112px -88px}.flag.flag-si{background-position:-256px -121px}.flag.flag-nc{background-position:-160px -99px}.flag.flag-lb{background-position:-176px -77px}</style><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{0%{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{0%{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{0%{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{0%{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{0%{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><meta charset=UTF-8><link href=https://www.unto.re/vi/posts/optimization-rabbit-hole/ rel=canonical><link href=https://www.unto.re/de/posts/optimization-rabbit-hole hreflang=de rel=alternate><link href=https://www.unto.re/it/posts/optimization-rabbit-hole hreflang=it rel=alternate><link href=https://www.unto.re/zh/posts/optimization-rabbit-hole hreflang=zh rel=alternate><link href=https://www.unto.re/es/posts/optimization-rabbit-hole hreflang=es rel=alternate><link href=https://www.unto.re/hi/posts/optimization-rabbit-hole hreflang=hi rel=alternate><link href=https://www.unto.re/ar/posts/optimization-rabbit-hole hreflang=ar rel=alternate><link href=https://www.unto.re/pt/posts/optimization-rabbit-hole hreflang=pt rel=alternate><link href=https://www.unto.re/bn/posts/optimization-rabbit-hole hreflang=bn rel=alternate><link href=https://www.unto.re/ru/posts/optimization-rabbit-hole hreflang=ru rel=alternate><link href=https://www.unto.re/ja/posts/optimization-rabbit-hole hreflang=ja rel=alternate><link href=https://www.unto.re/pa/posts/optimization-rabbit-hole hreflang=pa rel=alternate><link href=https://www.unto.re/jw/posts/optimization-rabbit-hole hreflang=jw rel=alternate><link href=https://www.unto.re/vi/posts/optimization-rabbit-hole hreflang=vi rel=alternate><link href=https://www.unto.re/fr/posts/optimization-rabbit-hole hreflang=fr rel=alternate><link href=https://www.unto.re/ur/posts/optimization-rabbit-hole hreflang=ur rel=alternate><link href=https://www.unto.re/tr/posts/optimization-rabbit-hole hreflang=tr rel=alternate><link href=https://www.unto.re/pl/posts/optimization-rabbit-hole hreflang=pl rel=alternate><link href=https://www.unto.re/uk/posts/optimization-rabbit-hole hreflang=uk rel=alternate><link href=https://www.unto.re/nl/posts/optimization-rabbit-hole hreflang=nl rel=alternate><link href=https://www.unto.re/el/posts/optimization-rabbit-hole hreflang=el rel=alternate><link href=https://www.unto.re/sv/posts/optimization-rabbit-hole hreflang=sv rel=alternate><link href=https://www.unto.re/zu/posts/optimization-rabbit-hole hreflang=zu rel=alternate><link href=https://www.unto.re/ro/posts/optimization-rabbit-hole hreflang=ro rel=alternate><link href=https://www.unto.re/ms/posts/optimization-rabbit-hole hreflang=ms rel=alternate><link href=https://www.unto.re/ko/posts/optimization-rabbit-hole hreflang=ko rel=alternate><link href=https://www.unto.re/th/posts/optimization-rabbit-hole hreflang=th rel=alternate><link href=https://www.unto.re/tl/posts/optimization-rabbit-hole hreflang=tl rel=alternate><link title="trang của undoreh"href=https://www.unto.re/feed.xml rel=alternate type=application/rss+xml><link href=https://www.unto.re/amp/vi/posts/optimization-rabbit-hole/ rel=amphtml><meta content="Optimization rabbit hole in python"property=og:title><meta content=article property=og:type><meta content=https://www.unto.re/posts/optimization-rabbit-hole property=og:url><meta content=https://www.unto.re/assets/appa.webp property=og:image><meta content="Speeding up backtesting for the freqtrade crypto trading bot."property=og:description><meta content="untoreh's site"property=og:site_name><meta content=en_US property=og:locale><meta content=summary name=twitter:card><meta content=@untoreh name=twitter:creator><script type=application/ld+json>{"copyrightHolder":"untoreh","@id":"https://www.unto.re","url":"https://www.unto.re","copyrightYear":2023,"@context":"https://schema.org/","image":"/assets/appa.webp","@type":"WebSite"}</script><script id=ldj-webpage type=application/ld+json>{"audience":"cool people","url":"https://www.unto.re/posts/optimization-rabbit-hole/index.html","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"accessibilitySummary":"Visual elements are tentatively described.","description":"Speeding up backtesting for the freqtrade crypto trading bot.","author":{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"email":"contact@unto.re","name":"untoreh","@type":"https://schema.org/Person","image":"/assets/appa.webp"},"mentions":[],"@context":"https://schema.org","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"@type":"https://schema.org/WebPage","lastReviewed":"2023-01-14","dateCreated":"January 14, 2023","@id":"https://www.unto.re/posts/optimization-rabbit-hole/index.html","dateModified":"2023-01-14","availableLanguage":[{"name":"English","@type":"Language"},{"name":"German","@type":"Language"},{"name":"Italian","@type":"Language"},{"name":"Mandarin Chinese","@type":"Language"},{"name":"Spanish","@type":"Language"},{"name":"Hindi","@type":"Language"},{"name":"Arabic","@type":"Language"},{"name":"Portuguese","@type":"Language"},{"name":"Bengali","@type":"Language"},{"name":"Russian","@type":"Language"},{"name":"Japanese","@type":"Language"},{"name":"Punjabi","@type":"Language"},{"name":"Javanese","@type":"Language"},{"name":"Vietnamese","@type":"Language"},{"name":"French","@type":"Language"},{"name":"Urdu","@type":"Language"},{"name":"Turkish","@type":"Language"},{"name":"Polish","@type":"Language"},{"name":"Ukranian","@type":"Language"},{"name":"Dutch","@type":"Language"},{"name":"Greek","@type":"Language"},{"name":"Swedish","@type":"Language"},{"name":"Zulu","@type":"Language"},{"name":"Romanian","@type":"Language"},{"name":"Malay","@type":"Language"},{"name":"Korean","@type":"Language"},{"name":"Thai","@type":"Language"},{"name":"Filipino","@type":"Language"}],"keywords":["crypto","software","trading"],"creativeWorkStatus":"Published","publisher":{"url":"https://www.unto.re","sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"contactPoint":{"contactType":"info","email":"contact@unto.re","@type":"ContactPoint","telephone":""},"logo":"/assets/appa-60px.png","name":"untoreh's site","@type":"Organization"},"datePublished":"2023-01-14","inLanguage":"English","image":"/assets/appa.webp","name":"","mainEntityOfPage":{"@id":"https://www.unto.re/posts/optimization-rabbit-hole/index.html","@type":"Article"}}</script><script id=ldj-breadcrumbs type=application/ld+json>{"itemListElement":[{"position":1,"item":"https://www.unto.re","name":"Home","@type":"ListItem"},{"position":2,"item":"/posts/","name":"Posts List","@type":"ListItem"},{"position":3,"item":"https://www.unto.re/posts/optimization-rabbit-hole","name":"Optimization rabbit hole in python","@type":"ListItem"}],"@type":"BreadcrumbList"}</script><style>:root{--block-background:var(--accent2);--small:14px;--normal:19px;--text-color:hsv(0, 0%, 20%)}.franklin-content{position:relative;padding-left:12.5%;padding-right:12.5%;line-height:1.35em}@media (min-width:940px){.franklin-content{width:705px;margin-left:auto;margin-right:auto}}@media (max-width:480px){.franklin-content{padding-left:6%;padding-right:6%}}.franklin-content h2{font-size:22px}h2{text-align:left}.franklin-content h2{padding-bottom:.3em;border-bottom:1px solid #d3d3d3;margin-top:2em;margin-bottom:1em}.franklin-content h2 a{color:inherit}.franklin-content a{color:var(--alt2);text-decoration:none}body{counter-reset:eqnum}code{background-color:var(--block-background);padding:.1em .2em;border-radius:2px;font-size:var(--small);overflow:auto}@media (prefers-color-scheme:light){body{--accent:#3152ff;--accent2:#5a61ae;--accent3:#651b00;--alt:#ae6600;--alt2:#9e6c47;--alt3:#7f4200;--background-color:#ffebee;--foreground-color:#1c0005;--block-background:#423833;--red:#e42a2f;--yellow:#917329;--green:#29892d}}@media (prefers-color-scheme:dark){body{--accent:#72e200;--accent2:#add3a0;--accent3:#7a9eff;--alt:#8abeff;--alt2:#836bd1;--alt3:#a090de;--background-color:#001d49;--foreground-color:#dae2ff;--block-background:#011627;--red:#e42a2f;--yellow:#917329;--green:#29892d}}body{background:var(--background-color);font-style:var(--accent);font-family:Helvetica;padding:0 .5rem;line-height:2rem;color:var(--accent3);max-width:1280px;min-height:720px;margin:auto;min-width:320px}a{color:var(--accent)}a:visited{color:var(--accent2)}.franklin-content{color:var(--foreground-color)}.franklin-content .header-anchor{padding:.5rem!important;line-height:100%}.franklin-content a{outline-style:outset;outline-width:1px;padding:0 .1rem;margin:0 .1rem;outline-color:var(--alt2)}body>div>h1{text-align:center;color:var(--accent2)}body>div #page-description,body>div #title{text-align:center}.masthead__menu{height:4rem;line-height:4rem;padding:10px 0;position:relative}.site-title{float:left;font-weight:700;width:15rem;font-size:1.5rem;text-decoration:none;color:var(--accent)}.site-title:visited{color:var(--accent)}#site-nav{float:right;font-size:1.5rem;font-family:Courier New;font-weight:700;position:absolute;right:0}#site-nav .horiz ul{list-style-type:none;line-height:4rem;height:4rem;margin:0}#site-nav .horiz ul>li{padding:0 .5rem;box-shadow:.25rem -.025rem .05rem var(--alt)}#site-nav .horiz ul>li{float:left;border-top:0;border-bottom:0;border-left:0;border-radius:50% 25% 25% 50%}#site-nav ul>li>a,#site-nav ul>li>button{color:var(--alt);display:inline-block}#site-nav .menu-icons{position:relative;padding:0 .2rem}#site-nav{display:block;width:auto;height:auto}.author__avatar>img{width:4em;height:4em;border-radius:50%;-o-object-fit:cover;object-fit:cover;border-width:.1rem;border-color:var(--accent3);border-style:solid;box-shadow:.1rem .06rem var(--accent3),-.05rem -.025rem .2rem var(--accent3)}#site-nav a:link{text-decoration:none}#site-nav .ham,#site-nav .vert{display:none}.author__avatar{-o-object-fit:contain;object-fit:contain;float:left}.author__wrap>ul{float:left;height:inherit;margin:0;padding:0 10px}.author__wrap>ul>li{position:relative;float:left;list-style-type:none;font-size:1rem;padding:0 .2rem;text-align:center}ul>li.author__urls{font-size:2rem}ul>li.author__urls a:visited{color:var(--accent)}.author__wrap .author__avatar{float:left}.langs-dropdown-content{display:none;text-align:left}.langs-dropdown-content a{display:block}.menu-lang-btn:before{border-radius:25% 25% 25% 50%!important}.lang-link .flag{position:absolute;left:1rem;margin-top:.65rem}#site-nav .langs-dropdown-menu{left:1.5rem;position:relative;top:1rem}#site-nav .langs-dropdown-menu .lang-list{font-size:1rem;line-height:2rem;overflow-x:hidden;height:20rem;position:absolute;overflow-y:scroll;right:1rem;scrollbar-width:thin;border:solid;border-radius:25%;border-width:0 0 0 .25rem;padding-left:3rem}.lang-list{background-color:var(--background-color)}#site-nav ul>li>button{background:inherit;border:inherit;font-size:inherit;font-family:inherit;font-weight:inherit;padding:inherit;margin:inherit;list-style-type:inherit;line-height:inherit;height:inherit}.franklin-content{padding:0 0 2rem;z-index:0}.franklin-content{padding-top:1rem}.lunrSearchForm{margin-right:-.4rem;font-size:0;overflow:hidden}.lunrSearchForm .search-input{background:var(--background-color);color:var(--alt);border-width:.2rem;border:none;outline:0;border-radius:50% 25% 25% 50%;line-height:1.75rem;padding:.5rem 0 .5rem 2.25rem;width:7rem;position:relative;top:.5rem;font-family:Courier New;font-weight:700;font-size:1.5rem}.lunrSearchForm .search-button{color:var(--alt);background:0 0;border:none;font-size:1.5rem;padding:.2rem .2rem .2rem 0;position:absolute;top:1rem;left:.75rem;z-index:1}@media (min-width:680px) and (max-width:1300px){.lunrSearchForm .search-input{font-size:1rem;padding-left:2.75rem;width:4.5rem;border-radius:50% 100% 100% 50%}body{max-width:640px;min-height:320px}#site-nav{position:relative;z-index:1}#site-nav .ham{outline:0}#site-nav .ham,#site-nav .ham-icon{display:block;height:3rem;line-height:3rem;position:absolute;right:0;top:0;text-align:right;background:0 0;border:none;font-size:3rem;color:var(--accent)}#site-nav .horiz{display:none}#site-nav .vert{display:block;float:none;position:absolute;right:0;top:3rem;width:9rem;padding-left:1rem;max-height:0;overflow:hidden;filter:blur(1rem)}#site-nav .vert ul{margin:0;padding:10px 0}#site-nav .vert ul>li{width:100%;text-align:center;border-radius:25% 50% 50% 25%;padding:.5rem 1rem;box-shadow:-.25rem 0 .05rem var(--alt)}}@media (max-width:680px){.lang-link{height:3rem}.lunrSearchForm{display:block;width:28rem}.lunrSearch{position:absolute;top:-4rem;display:block;left:0;width:calc(2rem + 90%)}.lunrSearch .search-input{width:26rem}.masthead,.masthead__menu{display:block}.site-title{float:none;width:100%;display:block;text-align:center}.author__wrap{float:none;display:block;width:100%;height:4.4rem;text-align:center}.author__wrap ul{width:auto;float:none;padding:0;display:inline-block}#site-nav{float:none;padding:10px 0;position:relative;top:4rem}#site-nav ul li{float:none}.horiz{text-align:center}#site-nav ul{display:inline-block;padding:0}.masthead{height:14rem}}.lunrSearchForm{margin-top:1em}@media (max-width:480px){.lunrSearchForm .search-input{width:18rem;left:-4rem}.masthead{height:34rem}#site-nav{top:5rem}#site-nav .horiz ul{width:100%}#site-nav .horiz ul>li{width:calc(100% - 2rem);float:none}}@media (min-width:480px) and (max-width:680px){.masthead{height:20rem}}@media (max-width:680px){body{overflow-x:hidden}#site-nav{z-index:1}#site-nav .horiz ul>li{float:none;top:-4rem;position:relative;margin-top:1rem;margin-bottom:0}}@-webkit-keyframes chars{0%,1.8105942029%{content:"u"}1.8115942029%,3.6221884058%{content:"un"}3.6231884058%,5.4337826087%{content:"unt"}5.4347826087%,7.2453768116%{content:"unto"}7.2463768116%,9.0569710145%{content:"untor"}10.8685652174%,9.0579710145%{content:"untore"}10.8695652174%,12.6801594203%{content:"untoreh"}12.6811594203%,14.4917536232%{content:"untoreh'"}14.4927536232%,16.3033478261%{content:"untoreh's"}16.3043478261%,18.114942029%{content:"untoreh's "}18.115942029%,19.9265362319%{content:"untoreh's s"}19.9275362319%,21.7381304348%{content:"untoreh's si"}21.7391304348%,23.5497246377%{content:"untoreh's sit"}23.5507246377%,to{content:"untoreh's site"}}@keyframes chars{0%,1.8105942029%{content:"u"}1.8115942029%,3.6221884058%{content:"un"}3.6231884058%,5.4337826087%{content:"unt"}5.4347826087%,7.2453768116%{content:"unto"}7.2463768116%,9.0569710145%{content:"untor"}10.8685652174%,9.0579710145%{content:"untore"}10.8695652174%,12.6801594203%{content:"untoreh"}12.6811594203%,14.4917536232%{content:"untoreh'"}14.4927536232%,16.3033478261%{content:"untoreh's"}16.3043478261%,18.114942029%{content:"untoreh's "}18.115942029%,19.9265362319%{content:"untoreh's s"}19.9275362319%,21.7381304348%{content:"untoreh's si"}21.7391304348%,23.5497246377%{content:"untoreh's sit"}23.5507246377%,to{content:"untoreh's site"}}@-webkit-keyframes cursor{75%{border-color:transparent}}@keyframes cursor{75%{border-color:transparent}}.site-title{-webkit-backface-visibility:hidden;backface-visibility:hidden;font-size:1.5rem;font-family:VT323,monospace,sans-serif;color:var(--accent2);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.site-title:after{content:"​";position:relative;padding-right:.5em;border-right:.5em solid var(--accent);white-space:nowrap;-webkit-animation:5.52s linear 1s forwards chars,1s 3 cursor;animation:5.52s linear 1s forwards chars,1s 3 cursor}.franklin-content a{display:inline-block;vertical-align:middle;text-decoration:none;transform:perspective(1px) translateZ(0);box-shadow:0 0 1px var(--alt2);position:relative;overflow:hidden}.franklin-content a:before{content:"";position:absolute;z-index:-1;left:51%;right:51%;bottom:0;background:var(--accent);height:4px}.hvr-outline-in{display:inline-block;vertical-align:middle;transform:perspective(1px) translateZ(0);box-shadow:0 0 1px var(--alt2);position:relative}.horiz .hvr-outline-in:before{border-radius:50% 25% 25% 50%;right:-.25rem}.vert .hvr-outline-in:before{border-radius:25% 50% 50% 25%;left:-.25rem}.hvr-outline-in:before{content:"";position:absolute;border:var(--alt) solid .25rem;top:0;bottom:0;left:0;opacity:0}#site-nav .vert:before{background-color:var(--background-color);filter:blur(.25rem);content:"";height:100%;width:100%;position:absolute}.author__avatar{background-color:transparent;perspective:1000px}.masthead__menu ul li.author__avatar img{transform-style:preserve-3d}.flag{display:inline-block;position:relative;width:16px;height:11px;background:url(/assets/flags.png) no-repeat}.flag.flag-th{background-position:-16px -143px}.flag.flag-tr{background-position:-144px -143px}.flag.flag-fr{background-position:-80px -44px}.flag.flag-nl{background-position:-240px -99px}.flag.flag-ms{background-position:-16px -99px}.flag.flag-es{background-position:-224px -33px}.flag.flag-vn{background-position:-128px -154px}.flag.flag-za{background-position:-256px -154px}.flag.flag-ph{background-position:-144px -110px}.flag.flag-ru{background-position:-96px -121px}.flag.flag-pl{background-position:-176px -110px}.flag.flag-gb{background-position:-112px -44px}.flag.flag-ro{background-position:-64px -121px}.flag.flag-pt{background-position:-256px -110px}.flag.flag-in{background-position:-64px -66px}.flag.flag-kr{background-position:-80px -77px}.flag.flag-ua{background-position:-224px -143px}.flag.flag-jp{background-position:-224px -66px}.flag.flag-de{background-position:-32px -33px}.flag.flag-se{background-position:-208px -121px}.flag.flag-gr{background-position:-48px -55px}.flag.flag-id{background-position:-256px -55px}.flag.flag-pk{background-position:-160px -110px}.flag.flag-bd{background-position:-16px -11px}.flag.flag-it{background-position:-144px -66px}.flag.flag-sa{background-position:-128px -121px}.flag.flag-cn{background-position:-176px -22px}</style><link as=style href=/css/bundle.css rel=preload><noscript><link href=/css/bundle.css rel=stylesheet></noscript><link href=/assets/favicon.png rel=icon type=image/x-icon><link href=/assets/favicon.svg rel=icon type=image/svg+xml><title> Tối ưu lỗ thỏ trong python</title><meta content="Speeding up backtesting for the freqtrade crypto trading bot."name=description><script src=/libs/load.js></script><script type=application/ld+json>{"url":"/vi/posts/optimization-rabbit-hole/","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"mentions":null,"description":"","@context":"https://schema.org","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"@type":"https://schema.org/WebPage","lastReviewed":"","dateCreated":"","@id":"/vi/posts/optimization-rabbit-hole/","dateModified":"","keywords":[],"creativeWorkStatus":"Published","translator":{"url":"http://google.translate.com","name":"Google Translate","@type":"https://schema.org/Organization"},"translationOfWork":{"@id":"https://www.unto.re/posts/optimization-rabbit-hole/"},"datePublished":"2023-01-14T18:34:29.783","inLanguage":"vi","name":"","mainEntityOfPage":{"@id":"/vi/posts/optimization-rabbit-hole/","@type":"Article"}}</script><script type=application/ld+json>{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"email":"contact@unto.re","name":"untoreh","@type":"https://schema.org/Person","image":"/assets/appa.webp"}</script><script type=application/ld+json>{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"www.unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script><script type=application/ld+json>{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"www.unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script><body><div class=masthead><div class=masthead__menu__inner-wrap><div class=masthead__menu><a title="untoreh's site"class=site-title href=/vi/></a><div class=author__wrap><ul><li class=author__avatar><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer" title="Twitter link"href=https://twitter.com/untoreh><i class="fab fa-fw fa-twitter-square"aria-hidden=true></i></a><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer" title="GitHub link"href=https://github.com/untoreh><i class="fab fa-fw fa-github"aria-hidden=true></i></a><li class="author__urls social-icons"><a href=mailto:contact@unto.re title=email><i class="fas fa-envelope"></i></a><li></ul></div><nav id=site-nav><div class=horiz><ul><li class="lunrSearch masthead__menu-item hvr-outline-in"><li class="masthead__menu-item hvr-outline-in"><a title="All the articles that I have written"href=/vi/posts/><i class="fas fa-pen menu-icons"></i> bài viết</a><li class="masthead__menu-item hvr-outline-in"><a title="Video and audio content from streaming websites."href=/vi/media/><i class="fas fa-tv menu-icons"></i> phương tiện truyền thông</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website's language"></ul></div><div class=vert><ul><li class="lunrSearch masthead__menu-item hvr-outline-in"><li class="masthead__menu-item hvr-outline-in"><a title="All the articles that I have written"href=/vi/posts/><i class="fas fa-pen menu-icons"></i> bài viết</a><li class="masthead__menu-item hvr-outline-in"><a title="Video and audio content from streaming websites."href=/vi/media/><i class="fas fa-tv menu-icons"></i> phương tiện truyền thông</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website's language"></ul></div></nav></div></div></div><div><h1 id=title><a href=/vi/posts/optimization-rabbit-hole> Tối ưu lỗ thỏ trong python</a></h1><blockquote id=page-description style=font-style:italic>Tăng tốc kiểm tra ngược cho bot giao dịch tiền điện tử freqtrade.</blockquote></div><div class=franklin-content><p><a href=https://github.com/freqtrade/freqtrade> Giao dịch thường xuyên</a> Là một bot giao dịch tiền điện tử trong python. Tôi đã từng chơi với fork một thời gian, sửa một số lỗi và một số hành vi mà tôi không thích. Liệt kê các lỗi ở đây sẽ rất nhàm chán nên thay vào đó tôi sẽ nói về những điều mà tôi nghĩ là thú vị.<h1 id=how_freqtrade_fqt_works_on_a_high_level><a class=header-anchor href=#how_freqtrade_fqt_works_on_a_high_level> Cách hoạt động của freqtrade (FQT), ở cấp độ cao</a></h1><p>FQT không dựa trên sự kiện, nó dựa trên vòng lặp. Điều đó có nghĩa là gì? Chúng ta có thể nói về người thực thi (hoạt động trực tiếp) hoặc người kiểm tra ngược. Trong trường hợp này, cả hai đều dựa trên vòng lặp.<h3 id=short_detour_here_what_do_i_prefer_loops_or_events><a class=header-anchor href=#short_detour_here_what_do_i_prefer_loops_or_events> Đường vòng ngắn ở đây. Tôi thích gì hơn? Vòng lặp hoặc Sự kiện?</a></h3><ul><li><p>Các vòng lặp thường đơn giản hơn và dễ suy luận hơn so với các sự kiện. Sự kiện OTOH có thể mô hình hóa thế giới thực tốt hơn. Các vòng lặp cũng dễ song song hóa hơn so với các sự kiện và thường hoạt động nhanh hơn.<li><p>Backtesting dựa trên vòng lặp có thể được chạy song song với người thực thi trực tiếp. Điều này có nghĩa là đánh giá ngược trở thành một phần trong chiến lược giao dịch của bạn. Chạy một hệ thống backtesting dựa trên sự kiện<em> trực tiếp</em> có vẻ như là một mớ hỗn độn với tôi. Đó là bởi vì các sự kiện yêu cầu khái niệm về thời gian, nhưng trong khi giao dịch trực tiếp, bạn chỉ có hiện tại, vậy bạn sẽ mô phỏng cái gì và bằng cách nào?</ul><p>...quay lại FQT, ở chế độ trực tiếp, nó xử lý các đơn đặt hàng theo vòng lặp. Cứ sau X giây, nó truy vấn trao đổi để cập nhật. Nó theo dõi:<ul><li><p>danh sách cặp chứa tất cả giá cuối cùng của tất cả nội dung (đối với các sàn giao dịch hỗ trợ nó)<li><p>dữ liệu OHLCV mới<li><p>trạng thái lệnh mở</ul><h3 id=ruh-roh><a class=header-anchor href=#ruh-roh> Ruh-roh</a></h3><p>Thực thi trực tiếp dựa trên vòng lặp có một vấn đề rõ ràng. Nó là đồng bộ. Nếu bạn xử lý nhiều cặp, việc thực thi sẽ ít phản hồi hơn và lặp lại ít thường xuyên hơn, bị tụt hậu so với diễn biến của hành động giá. Vì vậy, mặc dù thực tế là tôi thích các vòng lặp để kiểm tra lại hơn, nhưng tôi thích các sự kiện để thực thi trực tiếp hơn.<p>Nhược điểm? Nếu bạn sử dụng các sự kiện cho một thứ và lặp lại cho thứ kia, thì các mô hình hoặc tham số của chiến lược sẽ dễ dàng phân kỳ và không khớp với thực tế.<p>Lập luận bảo vệ của tôi chống lại điều này là việc liên tục tự đánh giá (kiểm tra lại) và thực thi trực tiếp sẽ tránh được vấn đề này bởi vì chúng sẽ<em> sau cùng</em> căn chỉnh.<p>FQT có nhiều tham số cấu hình và nhiều khi sự khác biệt giữa bot và chiến lược sẽ chuyển sang màu xám do chiến lược không thể kiểm soát cách thực hiện các lệnh của bot. Bot xử lý "roi" là một mạng lưới các giới hạn giá chốt lời và "điểm dừng lỗ theo sau" giống nhau nhưng có nhược điểm. Chiến lược chỉ cung cấp các thông số và bot sẽ làm phần còn lại. Tôi không phải là một fan hâm mộ của điều này.<p>Gọi lại cho tín hiệu mua và bán. Các giao dịch sẽ diễn ra dựa trên các tín hiệu được trả về bởi các cuộc gọi lại sẽ tính toán tín hiệu trên một khung dữ liệu. Vấn đề với điều này là tín hiệu tĩnh; bạn chỉ có thể tự động tính toán khung dữ liệu 1 hàng và cung cấp dữ liệu đó cho bot, nhưng nó sẽ không thể kiểm tra lại được. Điều này là tốt nếu bạn không coi trọng việc kiểm tra lại nhiều như vậy, đối với từng thứ của riêng họ.<h1 id=patchworks><a class=header-anchor href=#patchworks> Chắp vá</a></h1><p>Những gì tôi đã sửa đổi trong FQT để cố gắng làm cho nó hoạt động theo ý thích của tôi.<ul><li><p><a href=https://github.com/orehunt/freqtrade/tree/canary/freqtrade/plugins/pairlist> Nhiều bộ lọc danh sách cặp hơn</a> . Bằng cách giảm số lượng cặp cần xử lý trên mỗi lần lặp, bạn sẽ giảm tải với chi phí cho một số phản ứng. Bạn vẫn sẽ xử lý tất cả các nội dung có giao dịch mở và một số giao dịch mới hạn chế. Vì vậy, tôi đã xây dựng<ul><li><p>MỘT<a href=https://github.com/orehunt/freqtrade/blob/canary/freqtrade/plugins/pairlist/ShuffleFilter.py> xáo trộn bộ lọc</a> để chỉ chọn các cặp một cách ngẫu nhiên.<li><p>Bộ lọc vòng tròn để lặp lại từng cặp một.<li><p>Một danh sách tĩnh, để tải từ bộ lưu trữ</ul><li><p>Định dạng dữ liệu: Tôi đã thêm hỗ trợ cho hdf,<a href=https://github.com/orehunt/freqtrade/blob/canary/freqtrade/data/history/parquetdatahandler.py> sàn gỗ</a> và<a href=https://github.com/orehunt/freqtrade/blob/canary/freqtrade/data/history/zarrdatahandler.py> zarr</a> . Trong số này, tôi thấy mình đang sử dụng zarr, nhờ tính năng giải/nén dữ liệu nhanh được tích hợp sẵn. Dễ dàng hơn sàn gỗ và tiện dụng hơn.</ul><p>Có một loạt các chỉnh sửa khác, chẳng hạn như đánh giá tín hiệu song song mà cuối cùng tôi đã loại bỏ khi tôi tập trung nhiều hơn vào việc tạo tín hiệu nhanh và các chỉnh sửa cho các tùy chọn cấu hình và biểu đồ, nhưng chúng không đáng chú ý.<h1 id=the_quest_for_vectorized_backtest><a class=header-anchor href=#the_quest_for_vectorized_backtest> cuộc tìm kiếm<em> vector hóa</em> kiểm tra lại</a></h1><p>Tôi đã thử nhiều phiên bản kiểm tra lại để tăng tốc độ. Đó là tất cả, không hề, đáng giá. Logic tính toán giữa hoạt động mua và bán bằng cách sử dụng mảng có nhiều mảng. Nó giống như chơi xếp hình với bộ não của bạn. Ý tôi là nơi các khối được tạo nên từ chất xám của bạn, và bạn thử ghép chúng lại với nhau. Ở đây chúng tôi liệt kê chúng<ul><li><p><a href=https://github.com/orehunt/freqtrade/blob/canary/freqtrade/optimize/backtest_engine_loop_ranges.py> kiểm tra lại chunked</a> . Trong phần này, chúng tôi sẽ cố gắng thu gọn các giao dịch chỉ bằng cách sử dụng các mảng có nhiều mảng. Tung hứng giữa luồng thực hiện chính xác của mua/bán, tín hiệu, điểm dừng, điểm dừng cuối, tính toán lưới roi, tính toán roi theo trọng số thời gian. Tất cả với mảng numpy, nó là một mớ hỗn độn.<li><p><a href=https://github.com/orehunt/freqtrade/blob/canary/freqtrade/optimize/vbt.py> dựa vào VBT</a> Phiên bản này đã cố gắng tận dụng<a href=https://github.com/polakowo/vectorbt> véc tơbt</a>thư viện python dựa trên nulla để thực hiện backtest. Đáng ngạc nhiên là nó không nhanh hơn nhiều so với phiên bản numpy. Đó là bởi vì phải có rất nhiều chuyển đổi loại thành các loại tương thích với VBT, vì vậy bất kỳ tốc độ nào đạt được từ quá trình thực thi đều bị mất ở đó.<li><p><a href=https://github.com/orehunt/freqtrade/blob/canary/freqtrade/optimize/backtest_engine_loop_ranges.py> Vòng qua các phạm vi</a> Đây là nỗ lực đầu tiên trong việc sử dụng tê liệt bản thân tôi. Bởi vì nulla có thể gọi các hàm numpy một cách tự nhiên, nên tôi đã điều chỉnh khung kiểm tra ngược dựa trên numpy của mình để hoạt động theo nulla. Lợi ích rất nhỏ. Chi phí đưa mọi thứ vào các mảng gọn gàng là nút cổ chai. Lợi ích đạt được sau đó là tối thiểu vì sau khi chuyển đổi gọn gàng, việc thực thi gọn gàng đã nhanh chóng.<li><p><a href=https://github.com/orehunt/freqtrade/blob/canary/freqtrade/optimize/backtest_nb.py#L571> Vòng qua nến</a> Đây đã và đúng là cái cuối cùng. Đó là việc triển khai thực hiện tốt nhất. Đó là bởi vì nó là phép lặp "đơn giản" trên nến, tất cả được thực hiện trong các chức năng được đưa ra bởi tê liệt. Khái niệm này rất đơn giản, nhưng việc triển khai tất cả roi và logic dừng lỗ trong khi xử lý các lỗi tê liệt là không hay. Cuối cùng thì nó hoạt động khá tốt, nhưng tôi phải leo lên sau một núi sự không tương thích về tê liệt.</ul><p>Chúng tôi cũng đã thêm một số tính năng bổ sung vào backtest, như<a href=https://github.com/orehunt/freqtrade/blob/98a7e702ed906d9fa42405ef875e2dbe4d324217/freqtrade/optimize/hyperopt_backtest.py#L520> lây lan và thanh khoản</a> tính toán, và roi có trọng số thời gian đã đề cập trước đó.<h1 id=the_quest_for_parallel_optimization><a class=header-anchor href=#the_quest_for_parallel_optimization> cuộc tìm kiếm<em> song song, tương đông</em> tối ưu hóa</a></h1><p>Tại sao tôi muốn có một backtester nhanh? Bởi vì tôi muốn chạy nhiều trong số chúng để tôi có thể tìm thấy cấu hình tham số tốt nhất tốt nhất...tất nhiên, bỏ qua mọi khái niệm về khớp quá mức, tham số hóa quá mức, thiếu tập trung, v.v... Hãy liệt kê những gì tôi đã làm việc trên:<ul><li><p>Phân công công việc cho người lao động khác (quy trình)<a href=https://github.com/orehunt/freqtrade/blob/98a7e702ed906d9fa42405ef875e2dbe4d324217/freqtrade/optimize/hyperopt.py#LL633C15-L633C15> nhanh nhất có thể</a>. Cải tiến đầu tiên là thay đổi cách gửi công việc. Từ việc gửi N công việc và đợi tất cả chúng hoàn thành, tôi đã thay đổi quy trình để cung cấp các công việc mới ngay sau khi những công việc trước đó được thực hiện. Tuy nhiên, có một vấn đề với cách tiếp cận này. Tối ưu hóa là nhiều lần tuần tự. Bạn không thể biết điểm nào của không gian tham số cần quan sát mà không tính toán xong các điểm trước đó. Điều này đúng ít nhất là đối với tối ưu hóa bayesian. Điều này có nghĩa là nếu chúng tôi liên tục lấy mẫu các thử nghiệm mới, chúng tôi sẽ không cải thiện tìm kiếm nhiều như vậy giữa các lần tối ưu hóa, nhưng tìm kiếm sẽ mạnh mẽ hơn.<p>Chúng tôi có thể sử dụng một trình tối ưu hóa khác không dựa trên tối ưu hóa bayesian, như<a href=https://github.com/eyounx/ZOOpt> cái này</a> . Hoặc chạy N trình tối ưu hóa độc lập, sao cho mỗi quy trình/trình tối ưu hóa sẽ truy vấn các công việc mới bằng cách sử dụng lịch sử của chính nó hoặc tùy chọn lịch sử được chia sẻ với tất cả những người khác (mặc dù điều này sẽ làm cho tất cả các trình tối ưu hóa hội tụ sau một thời gian, điều này có thể rất tốt tài sản, hoặc không, tùy trường hợp).<p>Chia sẻ các quan sát giữa tất cả các quy trình là một thảm họa hoàn toàn. Pickling và unpikling danh sách nổi lớn là rất chậm. Khi quá trình tìm kiếm tiến triển, số lượng quan sát tăng lên và toàn bộ quá trình ngày càng trở nên chậm hơn đến mức việc lập số sê-ri mất nhiều thời gian hơn so với đánh giá quan sát. Nó chậm cả khi sử dụng quy trình quản lý, tệp đơn giản hoặc tệp ánh xạ mem. Tốt nhất<em> đặp cho nhanh</em> Do đó, cách tiếp cận hóa ra là chạy các trình tối ưu hóa riêng biệt và không bao giờ chia sẻ các quan sát giữa chúng, giữ mọi thứ trong bộ nhớ.<li><p>Theo dõi trạng thái tối ưu hóa. Hãy tưởng tượng bạn chạy tối ưu hóa trong nhiều giờ, sau đó xảy ra sự cố và bạn mất mọi thứ. Tất nhiên chúng tôi muốn tránh điều đó, vì vậy chúng tôi đã thêm logic vào<a href=https://github.com/orehunt/freqtrade/blob/98a7e702ed906d9fa42405ef875e2dbe4d324217/freqtrade/optimize/hyperopt_data.py#LL203C16-L203C16> lưu định kỳ</a> . Đây là động lực chính để thêm hỗ trợ lưu trữ zarr, lưu trạng thái với zarr đã cải thiện đáng kể mọi thứ.<li><p>Trực quan hóa việc tối ưu hóa được thực hiện. FQT đã có trực quan tốt để chạy tối ưu. Tôi đã cải thiện nó. tôi đã phải tạo ra một<a href=https://github.com/orehunt/freqtrade/blob/98a7e702ed906d9fa42405ef875e2dbe4d324217/freqtrade/optimize/hyperopt_backend.py#L59> mục tiêu</a> để đại diện cho mọi quan sát. Sau đó, tôi có thể chạy xử lý bài đăng bổ sung như<a href=https://github.com/orehunt/freqtrade/blob/98a7e702ed906d9fa42405ef875e2dbe4d324217/freqtrade/optimize/hyperopt_data.py#L635> bình thường hóa</a> và<a href=https://github.com/orehunt/freqtrade/blob/98a7e702ed906d9fa42405ef875e2dbe4d324217/freqtrade/optimize/hyperopt_data.py#L528> lọc</a><li><p>Vì<a href=https://github.com/orehunt/freqtrade/blob/canary/freqtrade/optimize/hyperopt_cv.py> Xác thực chéo</a> chúng tôi phải phân chia dữ liệu và áp dụng kiểm tra ngược trên các phạm vi khác nhau. Nhờ những nỗ lực của chúng tôi trong việc theo dõi trạng thái tối ưu hóa, chúng tôi có thể sử dụng đầu ra từ xác thực chéo làm hạt giống cho một quy trình tối ưu hóa khác tinh tế hơn...để phù hợp hơn...tất nhiên.<li><p>Logic tối ưu hóa bổ sung. Để đạt được tối đa<em> khuấy động</em> chúng tôi cũng phải tính đến một số vấn đề:<ul><li><p>Đôi khi, một cấu hình tham số có thể không thành công và trình tối ưu hóa có thể bị kẹt, vì vậy chúng tôi phải tiếp tục theo dõi các quan sát không thành công và cuối cùng khởi động lại một hoặc tất cả các trình tối ưu hóa.<li><p>Vì chúng tôi đang chạy nhiều trình tối ưu hóa nên chúng tôi phải theo dõi xem trình tối ưu hóa nào tạo ra quan sát nào.<li><p>Nhờ trình kiểm tra ngược nhanh và trình tối ưu hóa song song của chúng tôi, chúng tôi đã chạy rất nhiều quan sát, FQT sẽ in từng quan sát khi hoàn thành. Chúng tôi phải sắp xếp các quan sát theo nhóm trước khi in chúng, sao cho chúng tôi sẽ in một<a href=https://github.com/orehunt/freqtrade/blob/98a7e702ed906d9fa42405ef875e2dbe4d324217/freqtrade/optimize/hyperopt_out.py#L167>"tableful"</a> của chúng thay vì chỉ một lần quan sát tại một thời điểm, vì hoạt động IO rất tốn kém.<li><p><a href=https://github.com/orehunt/freqtrade/blob/98a7e702ed906d9fa42405ef875e2dbe4d324217/freqtrade/optimize/hyperopt_multi.py#L699> thăm dò/khai thác</a>sự cân bằng. Một số lần chạy có thể bị mắc kẹt ở cực tiểu hoặc hội tụ chậm, vì vậy chúng tôi đã thêm khả năng sửa đổi không gian tìm kiếm<strong> trong chuyến bay</strong> . Điều này sẽ giúp bình thường hóa tốc độ tìm kiếm.<li><p>Một thanh tiến trình tốt hơn. Chạy trình tối ưu hóa trên nhiều quy trình yêu cầu đồng bộ hóa để cập nhật thanh tiến trình từ nhiều công nhân. Và có một thư viện chỉ dành cho<a href=https://github.com/Rockhopper-Technologies/enlighten> cái đó</a> , cho phép chúng tôi cũng thêm<a href=https://github.com/orehunt/freqtrade/blob/98a7e702ed906d9fa42405ef875e2dbe4d324217/freqtrade/optimize/hyperopt_out.py#L355> thêm thông tin</a> đến trạng thái hoạt động của tối ưu hóa.<li><p>Vì chúng tôi đang chạy nhiều trình tối ưu hóa nên chúng tôi cũng đã thêm hỗ trợ để cung cấp các hàm mất mát khác nhau cho các trình tối ưu hóa khác nhau, điều này sẽ cho phép chúng tôi xem hàm mất mát nào hoạt động tốt nhất.</ul><li><p>Để chạy tối ưu hóa, chúng tôi thực hiện một<a href=https://github.com/orehunt/freqtrade/blob/canary/scripts/ho.py> kịch bản cli</a> để chạy tối ưu hóa với các tham số cấu hình khác nhau, tiếp tục từ trạng thái trước đó hoặc chỉ hiển thị và lọc các thử nghiệm đã lưu.<li><p>Chúng tôi đang chạy các trình tối ưu hóa độc lập với các chức năng mất mát khác nhau, vậy tại sao không chạy<em> trình tối ưu hóa khác nhau</em> trên<em> chức năng mất mát khác nhau</em> ? Tâm trí thổi. Vì vậy, chúng tôi đã triển khai một<a href=https://github.com/orehunt/freqtrade/blob/canary/freqtrade/optimize/optimizer.py> trừu tượng</a> cho các trình tối ưu hóa sao cho chúng tôi có thể (với một chút hệ thống ống nước) hoán đổi phương pháp tối ưu hóa một cách kỳ diệu. Điều này cũng yêu cầu sửa đổi tối ưu hóa<a href=https://github.com/orehunt/freqtrade/blob/canary/freqtrade/optimize/hyperopt_interface.py> giao diện</a> sao cho "hyperopt" có thể hiểu trình tối ưu hóa. Sau đó, chúng tôi triển khai lại<a href=https://github.com/orehunt/freqtrade/blob/canary/freqtrade/optimize/opts/skopt.py> tối ưu hóa scikit</a> như một ví dụ về sự trừu tượng hóa trình tối ưu hóa của chúng tôi. Trong khi cũng cắm vào<a href=https://github.com/facebook/Ax> cây rìu</a>, <a href=https://github.com/EmuKit/emukit> emukit</a> và<a href=https://github.com/sherpa-ai/sherpa> sherpa</a>.</ul><h1 id=conclusions><a class=header-anchor href=#conclusions> Kết luận</a></h1><p>Chúng tôi đã tiến hành kiểm tra lại FQT<em> đến 11</em> . Nhưng chúng tôi chưa bao giờ thực sự sử dụng nó<em> trong sản xuất</em> :).<p>Một chút sau khi<em> làm tê liệt</em>của người kiểm tra lại, các cuộc gọi lại bổ sung đã được thêm vào chiến lược đã phá vỡ sự tách biệt giữa kiểm tra lại và đánh giá chiến lược, điều đó có nghĩa là để giữ cho mọi thứ nhanh chóng, bạn cũng phải viết chiến lược của mình bằng số! Nhưng tôi đã chán ngấy với sự pha trộn run rẩy của python/numpy/numba gotchas và vì tôi không thích việc thực thi FQT trực tiếp, dù sao thì tôi cũng đã bỏ toàn bộ, để xanh hơn (hoặc tôi sẽ nói<a href=https://github.com/untoreh/JuBot.jl> hồng hơn!</a> ) đồng cỏ.<p>Dù sao...tối ưu hóa là crack.<div id=post-tags-list>Thẻ bài: <span class=post-tag><a href=https://www.unto.re/tag/crypto> tiền điện tử</a>, </span><span class=post-tag><a href=https://www.unto.re/tag/software> phần mềm</a>, </span><span class=post-tag><a href=https://www.unto.re/tag/trading> thương mại</a></span></div><div class=page-foot><div class=copyright>Ngày 14 tháng 1 năm 2023</div></div></div><div class=page__footer><footer><div class=page__footer-copyright>© undoreh - Cung cấp bởi<a href=https://github.com/tlienart/Franklin.jl> Franklin</a></div><div class=page__footer-links>- <ul><li><a href=/vi/sitemapxml> Sơ đồ trang web</a></li> | <li><a href=/vi/tag> Thẻ</a></li> | <li><a href=https://www.unto.re/tag/feed.xml> RSS</a></ul></div><ul class=author__wrap><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer" title="Twitter link"href=https://twitter.com/untoreh><i class="fab fa-fw fa-twitter-square"aria-hidden=true></i></a><li class="author__urls social-icons"><a rel="nofollow noopener noreferrer" title="GitHub link"href=https://github.com/untoreh><i class="fab fa-fw fa-github"aria-hidden=true></i></a><li class="author__urls social-icons"><a href=mailto:contact@unto.re title=email><i class="fas fa-envelope"></i></a><li></ul></footer></div>