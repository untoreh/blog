<!DOCTYPE html><HTML lang="en"><head><link href="https://unto.re/sv/posts/" rel="canonical"/><meta charset="UTF-8"/><script type="application/ld+json">{"copyrightHolder":"untoreh","@id":"https://unto.re","url":"https://unto.re","copyrightYear":2021,"@context":"https://schema.org/","@type":"WebSite"}</script><script type="application/ld+json">{"mainEntityOfPage":{"@id":"https://unto.re/posts/On-Containers/index.html","@type":"Article"},"@id":"https://unto.re/posts/On-Containers/index.html","dateModified":"2021-04-19","url":"https://unto.re/posts/On-Containers/index.html","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"creativeWorkStatus":"Published","dateCreated":"April 24, 2021","description":"Using containers, what and why","keywords":["opinions","about"],"@context":"https://schema.org","datePublished":"2021-04-19","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"name":"On Containers","@type":"https://schema.org/WebPage","lastReviewed":"2021-04-19"}</script><script type="application/ld+json">{"itemListElement":[{"position":1,"item":"https://unto.re","name":"Home","@type":"ListItem"},{"position":2,"item":"/posts/","name":"Posts List","@type":"ListItem"},{"position":3,"item":"https://unto.re/posts/On-Containers","name":"On Containers","@type":"ListItem"}],"@type":"BreadcrumbList"}</script><meta content="width=device-width, initial-scale=1" name="viewport"/><link href="/libs/highlight/github.min.css" rel="stylesheet"/><link href="/css/franklin.css" rel="stylesheet"/><link href="/css/main.css" rel="stylesheet"/><link href="/css/menu.css" rel="stylesheet"/><link href="/css/pages.css" rel="stylesheet"/><link href="/css/lunr.css" rel="stylesheet"/><link href="/css/footer.css" rel="stylesheet"/><link href="/css/responsive.css" rel="stylesheet"/><link href="/css/animations.css" rel="stylesheet"/><link href="/css/docco.css" rel="stylesheet"/><link href="/css/flags-sprite.css" rel="stylesheet"/><link href="/assets/favicon.png" rel="icon"/><title> På behållare</title><script src="/libs/lunr/lunr.min.js"></script><script src="/libs/lunr/lunr_index.js"></script><script src="/libs/lunr/lunrclient.min.js"></script><script src="/libs/load.js"></script><script type="application/ld+json">{"url":"/sv/posts/On-Containers/","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"mentions":null,"description":"","@context":"https://schema.org","accessModeSufficient":{"itemListElement":["textual","visual"],"@type":"itemList"},"@type":"https://schema.org/WebPage","lastReviewed":"","dateCreated":"","@id":"/sv/posts/On-Containers/","dateModified":"","keywords":[],"creativeWorkStatus":"Published","translator":{"url":"http://google.translate.com","name":"Google Translate","@type":"https://schema.org/Organization"},"translationOfWork":{"@id":"https://unto.re/posts/"},"datePublished":"","inLanguage":"sv","name":"","mainEntityOfPage":{"@id":"/sv/posts/On-Containers/","@type":"Article"}}</script></head><body class=""><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><a class="site-title" href="/sv/"></a><div class="author__wrap"><script type="application/ld+json">{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"email":"contact@unto.re","name":"untoreh","@type":"https://schema.org/Person","image":"/assets/appa.png"}</script><ul><li class="author__avatar" onclick="toggleTheme()"><img alt=" untoreh-light" class="flip-front" src="/assets/appa.png"/></li><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-twitter-square"></i></a></li><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-github"></i></a></li><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a></li><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script></li></ul></div><nav id="site-nav"><div class="horiz"><ul><li class="masthead__menu-item hvr-outline-in" id="lunrSearch"><form id="lunrSearchForm" name="lunrSearchForm"><button class="search-button" formaction="/search/index.html" type="submit" value="Search"><i class="fas fa-search menu-icons"></i></button><input class="search-input" name="q" placeholder="Search…" type="text"/></form></li><li class="masthead__menu-item hvr-outline-in"><a href="/sv/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> inlägg</a></li><li class="masthead__menu-item hvr-outline-in"><a href="/sv/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> handla om</a></li><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class="langs-dropdown-wrapper"><i class="fas fa-language menu-icons"></i> Lang <div class="langs-dropdown-content" id="langs-dropdown-menu"><ul id="lang-list"><a class="lang-link" href="/ar/posts/On-Containers" id="lang-ar"><span class="flag flag-sa"></span>Arabic</a><a class="lang-link" href="/bn/posts/On-Containers" id="lang-bn"><span class="flag flag-bd"></span>Bengali</a><a class="lang-link" href="/nl/posts/On-Containers" id="lang-nl"><span class="flag flag-nl"></span>Dutch</a><a class="lang-link" href="/en/posts/On-Containers" id="lang-en"><span class="flag flag-gb"></span>English</a><a class="lang-link" href="/tl/posts/On-Containers" id="lang-tl"><span class="flag flag-ph"></span>Filipino</a><a class="lang-link" href="/fr/posts/On-Containers" id="lang-fr"><span class="flag flag-fr"></span>French</a><a class="lang-link" href="/de/posts/On-Containers" id="lang-de"><span class="flag flag-de"></span>German</a><a class="lang-link" href="/el/posts/On-Containers" id="lang-el"><span class="flag flag-gr"></span>Greek</a><a class="lang-link" href="/hi/posts/On-Containers" id="lang-hi"><span class="flag flag-in"></span>Hindi</a><a class="lang-link" href="/it/posts/On-Containers" id="lang-it"><span class="flag flag-it"></span>Italian</a><a class="lang-link" href="/ja/posts/On-Containers" id="lang-ja"><span class="flag flag-jp"></span>Japanese</a><a class="lang-link" href="/jw/posts/On-Containers" id="lang-jw"><span class="flag flag-id"></span>Javanese</a><a class="lang-link" href="/ko/posts/On-Containers" id="lang-ko"><span class="flag flag-kr"></span>Korean</a><a class="lang-link" href="/ms/posts/On-Containers" id="lang-ms"><span class="flag flag-ms"></span>Malay</a><a class="lang-link" href="/zh/posts/On-Containers" id="lang-zh"><span class="flag flag-cn"></span>Mandarin Chinese</a><a class="lang-link" href="/pl/posts/On-Containers" id="lang-pl"><span class="flag flag-pl"></span>Polish</a><a class="lang-link" href="/pt/posts/On-Containers" id="lang-pt"><span class="flag flag-pt"></span>Portuguese</a><a class="lang-link" href="/pa/posts/On-Containers" id="lang-pa"><span class="flag flag-in"></span>Punjabi</a><a class="lang-link" href="/ro/posts/On-Containers" id="lang-ro"><span class="flag flag-ro"></span>Romanian</a><a class="lang-link" href="/ru/posts/On-Containers" id="lang-ru"><span class="flag flag-ru"></span>Russian</a><a class="lang-link" href="/es/posts/On-Containers" id="lang-es"><span class="flag flag-es"></span>Spanish</a><a class="lang-link" href="/sv/posts/On-Containers" id="lang-sv"><span class="flag flag-se"></span>Swedish</a><a class="lang-link" href="/th/posts/On-Containers" id="lang-th"><span class="flag flag-th"></span>Thai</a><a class="lang-link" href="/tr/posts/On-Containers" id="lang-tr"><span class="flag flag-tr"></span>Turkish</a><a class="lang-link" href="/uk/posts/On-Containers" id="lang-uk"><span class="flag flag-ua"></span>Ukranian</a><a class="lang-link" href="/ur/posts/On-Containers" id="lang-ur"><span class="flag flag-pk"></span>Urdu</a><a class="lang-link" href="/vi/posts/On-Containers" id="lang-vi"><span class="flag flag-vn"></span>Vietnamese</a><a class="lang-link" href="/zu/posts/On-Containers" id="lang-zu"><span class="flag flag-za"></span>Zulu</a></ul></div></button></li></ul></div><button class="ham"><i class="fas fa-bars ham-icon"></i></button><div class="vert"><ul><li class="masthead__menu-item hvr-outline-in" id="lunrSearch"><form id="lunrSearchForm" name="lunrSearchForm"><button class="search-button" formaction="/search/index.html" type="submit" value="Search"><i class="fas fa-search menu-icons"></i></button><input class="search-input" name="q" placeholder="Search…" type="text"/></form></li><li class="masthead__menu-item hvr-outline-in"><a href="/sv/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> inlägg</a></li><li class="masthead__menu-item hvr-outline-in"><a href="/sv/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> handla om</a></li><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class="langs-dropdown-wrapper"><i class="fas fa-language menu-icons"></i> Lang <div class="langs-dropdown-content" id="langs-dropdown-menu"><ul id="lang-list"><a class="lang-link" href="/ar/posts/On-Containers" id="lang-ar"><span class="flag flag-sa"></span>Arabic</a><a class="lang-link" href="/bn/posts/On-Containers" id="lang-bn"><span class="flag flag-bd"></span>Bengali</a><a class="lang-link" href="/nl/posts/On-Containers" id="lang-nl"><span class="flag flag-nl"></span>Dutch</a><a class="lang-link" href="/en/posts/On-Containers" id="lang-en"><span class="flag flag-gb"></span>English</a><a class="lang-link" href="/tl/posts/On-Containers" id="lang-tl"><span class="flag flag-ph"></span>Filipino</a><a class="lang-link" href="/fr/posts/On-Containers" id="lang-fr"><span class="flag flag-fr"></span>French</a><a class="lang-link" href="/de/posts/On-Containers" id="lang-de"><span class="flag flag-de"></span>German</a><a class="lang-link" href="/el/posts/On-Containers" id="lang-el"><span class="flag flag-gr"></span>Greek</a><a class="lang-link" href="/hi/posts/On-Containers" id="lang-hi"><span class="flag flag-in"></span>Hindi</a><a class="lang-link" href="/it/posts/On-Containers" id="lang-it"><span class="flag flag-it"></span>Italian</a><a class="lang-link" href="/ja/posts/On-Containers" id="lang-ja"><span class="flag flag-jp"></span>Japanese</a><a class="lang-link" href="/jw/posts/On-Containers" id="lang-jw"><span class="flag flag-id"></span>Javanese</a><a class="lang-link" href="/ko/posts/On-Containers" id="lang-ko"><span class="flag flag-kr"></span>Korean</a><a class="lang-link" href="/ms/posts/On-Containers" id="lang-ms"><span class="flag flag-ms"></span>Malay</a><a class="lang-link" href="/zh/posts/On-Containers" id="lang-zh"><span class="flag flag-cn"></span>Mandarin Chinese</a><a class="lang-link" href="/pl/posts/On-Containers" id="lang-pl"><span class="flag flag-pl"></span>Polish</a><a class="lang-link" href="/pt/posts/On-Containers" id="lang-pt"><span class="flag flag-pt"></span>Portuguese</a><a class="lang-link" href="/pa/posts/On-Containers" id="lang-pa"><span class="flag flag-in"></span>Punjabi</a><a class="lang-link" href="/ro/posts/On-Containers" id="lang-ro"><span class="flag flag-ro"></span>Romanian</a><a class="lang-link" href="/ru/posts/On-Containers" id="lang-ru"><span class="flag flag-ru"></span>Russian</a><a class="lang-link" href="/es/posts/On-Containers" id="lang-es"><span class="flag flag-es"></span>Spanish</a><a class="lang-link" href="/sv/posts/On-Containers" id="lang-sv"><span class="flag flag-se"></span>Swedish</a><a class="lang-link" href="/th/posts/On-Containers" id="lang-th"><span class="flag flag-th"></span>Thai</a><a class="lang-link" href="/tr/posts/On-Containers" id="lang-tr"><span class="flag flag-tr"></span>Turkish</a><a class="lang-link" href="/uk/posts/On-Containers" id="lang-uk"><span class="flag flag-ua"></span>Ukranian</a><a class="lang-link" href="/ur/posts/On-Containers" id="lang-ur"><span class="flag flag-pk"></span>Urdu</a><a class="lang-link" href="/vi/posts/On-Containers" id="lang-vi"><span class="flag flag-vn"></span>Vietnamese</a><a class="lang-link" href="/zu/posts/On-Containers" id="lang-zu"><span class="flag flag-za"></span>Zulu</a></ul></div></button></li></ul></div></nav></div></div></div><div><h1 id="title"><a href="/sv/posts/On-Containers"> På behållare</a></h1><blockquote id="page-description" style="font-style: italic;">  Använda behållare, vad och varför</blockquote></div><div class="franklin-content"><h2 id="what_are_containers"><a class="header-anchor" href="#what_are_containers"> Vad är behållare</a></h2><p> [Containers] är ett namn som ges till begränsade miljöer, möjliggjord av en samling undersystem inom Linux som [<code>cgroups</code> ] och [<code>namespaces</code> ]. Även om wikisidan använder ordet<em> virtualisering</em>  Jag tror ordet<em> isolering</em>  är mer lämpligt, eftersom virtualisering innebär att det finns ett lager av översättning däremellan, medan vad cgroups och namnområden gör är att separera och kontextualisera processer.</p><p> Cgroups används vanligtvis för att definiera allokeringspolicyer för resurser<code>RAM</code>  och<code>CPU</code> , medan namnområden styr kontexterna som monteringspunkter, nätverk och användare. [Apparmor] ger istället ett sätt att begränsa möjligheterna för behållarmiljöer som helhet, medan apparmor utan behållare, som skrivet i wikipedia, är programbaserat.</p><p> Verktyg som<a href="https://en.wikipedia.org/wiki/Flatpak"> flatpak</a>  och<a href="https://github.com/netblue30/firejail"> brandfängelse</a>använda behållare för att begränsa åtkomstytan för användarprogram. [Windows] -containrar implementerar likvärdiga system och erbjuder även stöd för Linux -containrar via [WSL].</p><h2 id="but_why"><a class="header-anchor" href="#but_why"> Men varför?</a></h2><ul><li><p> Ibland för säkerhets skull, men i så fall ger full virtualisering bättre garantier.</p></li><li><p> För att uppnå reproducerbarhet av körning och portabilitet, så att applikationer som är beroende av särskilda miljökonfigurationer kan köras utan att störa användaren för ytterligare installationssteg.</p></li><li><p> Schemaläggning, orkestreringsprogram som kubernetes använder [container runtimes] för att flytta tjänster över värdar sömlöst och för att abstrakta körningslogik.</p></li></ul><h2 id="too_much"><a class="header-anchor" href="#too_much"> För mycket?</a></h2><p> När jag började bygga<a href="/sv/posts/alpine/"> tall</a> , Jag experimenterade lite med att skicka mina egna containerbilder, distribuerade från github -versioner. Huvudmanuset (<code>trees</code> ) kommandon var</p><pre><code class="sh hljs">Usage: trees APP [FLAGS]...
<span class="hljs-string">'APP'</span>               Install apps through ostree deltas checkouts.
    -b, --base      base image (alp,trub...)
    -n, --name      same as APP (etcd,hhvm...)
    -f, --force     clear before install
    -d, --delete    clear checkout and prune ostree repo
ck, check           make sure the apps repo is mounted
co, checkout        builds the trees of links <span class="hljs-keyword">for</span> the specified APP
    -t 	            optional path <span class="hljs-built_in">where</span> to build the tree</code></pre><p> Det liknade flatpak, eftersom jag skickade ett ostree -statiskt delta baserat på den huvudsakliga tallbilden och [kollade] de nya appbaserade rootfsna och sedan lanserade en containerinstans ovanpå den. OpenVZ hade många problem innan v7 för att köra container (eftersom du vet ... du körde en<em> kapslade</em>  behållare på en behållarbaserad [VPS], och kärnan var en gaffel av<code>v2.6</code>  (!))...det var en<strong> enorm</strong>  slöseri med tid.</p><h2 id="when"><a class="header-anchor" href="#when"> När?</a></h2><p> Mitt försök var att få en minimal behållartid utan att behöva<code>docker</code>  eller mer biffigare programvara, eftersom dockaren förmodligen är den lättaste, och<a href="https://docs.docker.com/engine/swarm/"> dockersvärm</a> , att vara inbyggd delar mycket funktionalitet och ger dig de mest användbara funktionerna för orkestrering, vilket gör den mest beroende av systemkrav för värden jämfört med<a href="https://docs.kublr.com/installation/hardware-recommendation/"> k8s</a>  eller<a href="https://www.nomadproject.io/docs/install/production/requirements"> nomad</a>.</p><p>Trots att behållare är en funktion som du kanske vill ha oftast är orkestrering inte det. Jag tror<em> löst inriktad</em>  reklamkampanjer lockar<em> oavsiktlig</em>  målgrupp för sådan programvara, vilket får en att tro att den kan vara användbar<em> till dem</em> , utan att betona premissen att du<strong> verkligen</strong>  måste skala en hel del (!) för att rättfärdiga komplexitetskostnaden för sådana inställningar. Antalet<a href="https://reddit.com/r/kubernetes/comments/be0415/k3s_minikube_or_microk8s/el2xy5r/"> bekvämlighetsverktyg</a>  byggt runt k8s för att underlätta uppstartsprocessen för ett k8s -kluster bör vara tillräckligt med bevis ...</p><h2 id="conclusions"><a class="header-anchor" href="#conclusions"> Slutsatser</a></h2><p> Orkesteringsverktyg hamnar trångt på platsen för lösningar för att hantera flera värdmaskiner när användare inte kan se skillnad mellan sällskapsdjur och boskapsservrar. Vid många tillfällen, programvara som ansible, pyinfra eller till och med<a href="https://github.com/duncs/clusterssh"> cssh</a>  eller<a href="https://github.com/moul/assh"> assh</a>  är allt man någonsin behöver.</p><p></p><div id="post-tags-list">  Inläggstaggar:<span class="post-tag"><a href="/sv/posts/tag/opinions" style="">  åsikter</a>, </span><span class="post-tag"><a href="/sv/posts/tag/about" style="">  handla om</a></span></div><div class="page-foot"><div class="copyright">  19 april 2021</div><script async="" crossorigin="anonymous" issue-term="pathname" label="Comment" repo="untoreh/untoreh.github.io" src="https://utteranc.es/client.js"></script></div></div><div class="page__footer"><footer><div class="page__footer-copyright">  © untoreh - Drivs av<a href="https://github.com/tlienart/Franklin.jl"> Franklin</a></div><div class="page__footer-links"> - <ul><li><a href="/sv/sitemap.xml"> Webbplatskarta</a> | </li><li><a href="/sv/tag"> Taggar</a> | </li><li><a href="/sv/feed.xml"> RSS</a></li></ul></div><ul class="author__wrap"><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-twitter-square"></i></a></li><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-github"></i></a></li><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a></li><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=input","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":{"uri":"","scheme":"https","userinfo":"","host":"unto.re","port":"","path":"/search","query":"q=%7Binput%7D","fragment":""}}}</script></li></ul></footer></div><script crossorigin="anonymous" defer="" id="fa" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" src="https://use.fontawesome.com/releases/v5.8.2/js/all.js"></script><script src="/libs/colors.js"></script><script src="/libs/menu.js"></script><script defer="" src="/libs/lunr/lunr.min.js"></script></body></HTML>