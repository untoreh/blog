<!DOCTYPE html><HTML lang=en ><meta charset=UTF-8 /><script type="application/ld+json">{"copyrightHolder":"untoreh","@id":"https://unto.re","url":"https://unto.re","copyrightYear":2021,"@context":"https://schema.org/","@type":"WebSite"}</script><script type="application/ld+json">{"audience":"cool people","url":"https://unto.re/posts/On-Containers/index.html","mainContentOfPage":{"@type":"WebPageElement","cssSelector":".franklin-content"},"accessMode":["textual","visual"],"accessibilitySummary":"Visual elements are tentatively described.","author":"untoreh","description":"Using containers, what and why","mentions":[],"accessModeSufficient":{"itemListElement":["textual","visual"],"description":"text and images","@type":"itemList"},"lastReviewed":"April 19, 2021","@type":"https://schema.org/WebPage","dateCreated":"April 24, 2021","@id":"https://unto.re/posts/On-Containers/index.html","dateModified":"April 19, 2021","abstract":"Using containers, what and why","headline":"On Containers","creativeWorkStatus":"Published","availableLanguage":[{"name":"English","@type":"Language"},{"name":"German","@type":"Language"},{"name":"Italian","@type":"Language"},{"name":"Mandarin Chinese","@type":"Language"},{"name":"Spanish","@type":"Language"},{"name":"Hindi","@type":"Language"},{"name":"Arabic","@type":"Language"},{"name":"Portuguese","@type":"Language"},{"name":"Bengali","@type":"Language"},{"name":"Russian","@type":"Language"},{"name":"Japanese","@type":"Language"},{"name":"Punjabi","@type":"Language"},{"name":"Javanese","@type":"Language"},{"name":"Vietnamese","@type":"Language"},{"name":"French","@type":"Language"},{"name":"Urdu","@type":"Language"},{"name":"Turkish","@type":"Language"},{"name":"Polish","@type":"Language"},{"name":"Ukranian","@type":"Language"},{"name":"Dutch","@type":"Language"},{"name":"Greek","@type":"Language"},{"name":"Swedish","@type":"Language"},{"name":"Zulu","@type":"Language"},{"name":"Romanian","@type":"Language"},{"name":"Malay","@type":"Language"},{"name":"Korean","@type":"Language"},{"name":"Thai","@type":"Language"},{"name":"Filipino","@type":"Language"}],"keywords":["opinions","about"],"datePublished":"April 24, 2021","inLanguage":"English","name":"On Containers","identifier":"https://unto.re/posts/On-Containers/index.html"}</script><meta content="width=device-width, initial-scale=1" name=viewport /><link href="/libs/highlight/github.min.css" rel=stylesheet /><link href="/css/franklin.css" rel=stylesheet /><link href="/css/main.css" rel=stylesheet /><link href="/css/menu.css" rel=stylesheet /><link href="/css/pages.css" rel=stylesheet /><link href="/css/lunr.css" rel=stylesheet /><link href="/css/footer.css" rel=stylesheet /><link href="/css/responsive.css" rel=stylesheet /><link href="/css/animations.css" rel=stylesheet /><link href="/css/docco.css" rel=stylesheet /><link href="/css/flag-icon.min.css" rel=stylesheet /><link href="/assets/favicon.png" rel=icon /><title> På behållare</title><script src="/libs/lunr/lunr.min.js"></script><script src="/libs/lunr/lunr_index.js"></script><script src="/libs/lunr/lunrclient.min.js"></script><script src="/libs/load.js"></script><script type="application/ld+json">{"@id":"https://unto.re/sv/posts/On-Containers/index.html","url":"https://unto.re/sv/posts/On-Containers/index.html","abstract":null,"headline":null,"keywords":null,"description":null,"mentions":null,"translator":{"url":"https://translate.google.com/","name":"Google","@type":"https://schema.org/Organization"},"translationOfWork":{"@id":"/home/fra/dev/blog/https://unto.re/"},"inLanguage":"sv","name":null,"@type":"https://schema.org/WebPage"}</script><body class=""><div class=masthead ><div class=masthead__inner-wrap ><div class=masthead__menu ><a class=site-title href="/sv/"></a><div class=author__wrap ><script type="application/ld+json">{"sameAs":["https://github.com/untoreh","https://twitter.com/untoreh"],"description":"<ul>\n<li><p><strong>Name</strong>: Francesco Giannelli</p>\n\n<li><p><strong>Website</strong>: &#91;«https://unto.re»&#93;, the place where I put stuff I should remember...or forget</p>\n\n<li><p><strong>Location</strong>: south italy {{bio_link}}</p>\n\n<li><p><strong>Year</strong>: &#39;91</p>\n\n</ul>\n","image":"/assets/appa.png","name":"untoreh","@type":"https://schema.org/Person","email":"contact@unto.re"}</script><ul><li class=author__avatar onclick="toggleTheme()"><img alt=" untoreh-light" class=flip-front src="/assets/appa.png"/><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-twitter-square"></i></a><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-github"></i></a><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=query","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":"https://unto.re/search?&q={query}"}}</script></ul></div><nav id=site-nav ><div class=horiz ><ul><li class="masthead__menu-item hvr-outline-in" id=lunrSearch ><form id=lunrSearchForm name=lunrSearchForm ><button class=search-button formaction="/search/index.html" type=submit value=Search ><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder="Search…" type=text /></form><li class="masthead__menu-item hvr-outline-in"><a href="/sv/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> inlägg</a><li class="masthead__menu-item hvr-outline-in"><a href="/sv/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> handla om</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class=langs-dropdown-wrapper ><i class="fas fa-language menu-icons"></i> Lang <div class=langs-dropdown-content id=langs-dropdown-menu ><ul id=lang-list ><a class=lang-link href="/ar/posts/On-Containers" id=lang-ar ><span class="flag-icon flag-icon-sa"></span> Arabiska</a><a class=lang-link href="/sv/bn/posts/On-Containers" id=lang-bn ><span class="flag-icon flag-icon-bd"></span> Bengali</a><a class=lang-link href="/sv/nl/posts/On-Containers" id=lang-nl ><span class="flag-icon flag-icon-nl"></span> Holländska</a><a class=lang-link href="/sv/en/posts/On-Containers" id=lang-en ><span class="flag-icon flag-icon-gb"></span> engelsk</a><a class=lang-link href="/sv/tl/posts/On-Containers" id=lang-tl ><span class="flag-icon flag-icon-ph"></span> Filippinare</a><a class=lang-link href="/sv/fr/posts/On-Containers" id=lang-fr ><span class="flag-icon flag-icon-fr"></span> Franska</a><a class=lang-link href="/sv/de/posts/On-Containers" id=lang-de ><span class="flag-icon flag-icon-de"></span> tysk</a><a class=lang-link href="/sv/el/posts/On-Containers" id=lang-el ><span class="flag-icon flag-icon-gr"></span> grekisk</a><a class=lang-link href="/sv/hi/posts/On-Containers" id=lang-hi ><span class="flag-icon flag-icon-in"></span> Hindi</a><a class=lang-link href="/sv/it/posts/On-Containers" id=lang-it ><span class="flag-icon flag-icon-it"></span> Italienska</a><a class=lang-link href="/sv/ja/posts/On-Containers" id=lang-ja ><span class="flag-icon flag-icon-jp"></span> Japanska</a><a class=lang-link href="/sv/jw/posts/On-Containers" id=lang-jw ><span class="flag-icon flag-icon-id"></span> Javanesiska</a><a class=lang-link href="/sv/ko/posts/On-Containers" id=lang-ko ><span class="flag-icon flag-icon-kr"></span> Koreanska</a><a class=lang-link href="/sv/ms/posts/On-Containers" id=lang-ms ><span class="flag-icon flag-icon-ms"></span> Malaysiska</a><a class=lang-link href="/sv/zh/posts/On-Containers" id=lang-zh ><span class="flag-icon flag-icon-cn"></span> Mandarin kinesiska</a><a class=lang-link href="/sv/pl/posts/On-Containers" id=lang-pl ><span class="flag-icon flag-icon-pl"></span> putsa</a><a class=lang-link href="/sv/pt/posts/On-Containers" id=lang-pt ><span class="flag-icon flag-icon-pt"></span> Portugisiska</a><a class=lang-link href="/sv/pa/posts/On-Containers" id=lang-pa ><span class="flag-icon flag-icon-in"></span> Punjabi</a><a class=lang-link href="/sv/ro/posts/On-Containers" id=lang-ro ><span class="flag-icon flag-icon-ro"></span> Rumänska</a><a class=lang-link href="/sv/ru/posts/On-Containers" id=lang-ru ><span class="flag-icon flag-icon-ru"></span> Ryska</a><a class=lang-link href="/sv/es/posts/On-Containers" id=lang-es ><span class="flag-icon flag-icon-es"></span> Spanska</a><a class=lang-link href="/sv/sv/posts/On-Containers" id=lang-sv ><span class="flag-icon flag-icon-se"></span> svenska</a><a class=lang-link href="/sv/th/posts/On-Containers" id=lang-th ><span class="flag-icon flag-icon-th"></span> Thai</a><a class=lang-link href="/sv/tr/posts/On-Containers" id=lang-tr ><span class="flag-icon flag-icon-tr"></span> Turkiska</a><a class=lang-link href="/sv/uk/posts/On-Containers" id=lang-uk ><span class="flag-icon flag-icon-ua"></span> Ukrainsk</a><a class=lang-link href="/sv/ur/posts/On-Containers" id=lang-ur ><span class="flag-icon flag-icon-pk"></span> Urdu</a><a class=lang-link href="/sv/vi/posts/On-Containers" id=lang-vi ><span class="flag-icon flag-icon-vn"></span> Vietnamesiska</a><a class=lang-link href="/sv/zu/posts/On-Containers" id=lang-zu ><span class="flag-icon flag-icon-za"></span> Zulu</a></ul></div></button></ul></div><button class=ham ><i class="fas fa-bars ham-icon"></i></button><div class=vert ><ul><li class="masthead__menu-item hvr-outline-in" id=lunrSearch ><form id=lunrSearchForm name=lunrSearchForm ><button class=search-button formaction="/search/index.html" type=submit value=Search ><i class="fas fa-search menu-icons"></i></button><input class=search-input name=q placeholder="Search…" type=text /></form><li class="masthead__menu-item hvr-outline-in"><a href="/sv/posts/" title="All the articles that I have written"><i class="fas fa-pen menu-icons"></i> inlägg</a><li class="masthead__menu-item hvr-outline-in"><a href="/sv/about/" title="Things about me, what I have read, past projects and ideas for future ones"><i class="fas fa-user-alt menu-icons"></i> handla om</a><li class="masthead__menu-item hvr-outline-in menu-lang-btn" title="Change website&#39;s language"><button class=langs-dropdown-wrapper ><i class="fas fa-language menu-icons"></i> Lang <div class=langs-dropdown-content id=langs-dropdown-menu ><ul id=lang-list ><a class=lang-link href="/ar/posts/On-Containers" id=lang-ar ><span class="flag-icon flag-icon-sa"></span> Arabiska</a><a class=lang-link href="/sv/bn/posts/On-Containers" id=lang-bn ><span class="flag-icon flag-icon-bd"></span> Bengali</a><a class=lang-link href="/sv/nl/posts/On-Containers" id=lang-nl ><span class="flag-icon flag-icon-nl"></span> Holländska</a><a class=lang-link href="/sv/en/posts/On-Containers" id=lang-en ><span class="flag-icon flag-icon-gb"></span> engelsk</a><a class=lang-link href="/sv/tl/posts/On-Containers" id=lang-tl ><span class="flag-icon flag-icon-ph"></span> Filippinare</a><a class=lang-link href="/sv/fr/posts/On-Containers" id=lang-fr ><span class="flag-icon flag-icon-fr"></span> Franska</a><a class=lang-link href="/sv/de/posts/On-Containers" id=lang-de ><span class="flag-icon flag-icon-de"></span> tysk</a><a class=lang-link href="/sv/el/posts/On-Containers" id=lang-el ><span class="flag-icon flag-icon-gr"></span> grekisk</a><a class=lang-link href="/sv/hi/posts/On-Containers" id=lang-hi ><span class="flag-icon flag-icon-in"></span> Hindi</a><a class=lang-link href="/sv/it/posts/On-Containers" id=lang-it ><span class="flag-icon flag-icon-it"></span> Italienska</a><a class=lang-link href="/sv/ja/posts/On-Containers" id=lang-ja ><span class="flag-icon flag-icon-jp"></span> Japanska</a><a class=lang-link href="/sv/jw/posts/On-Containers" id=lang-jw ><span class="flag-icon flag-icon-id"></span> Javanesiska</a><a class=lang-link href="/sv/ko/posts/On-Containers" id=lang-ko ><span class="flag-icon flag-icon-kr"></span> Koreanska</a><a class=lang-link href="/sv/ms/posts/On-Containers" id=lang-ms ><span class="flag-icon flag-icon-ms"></span> Malaysiska</a><a class=lang-link href="/sv/zh/posts/On-Containers" id=lang-zh ><span class="flag-icon flag-icon-cn"></span> Mandarin kinesiska</a><a class=lang-link href="/sv/pl/posts/On-Containers" id=lang-pl ><span class="flag-icon flag-icon-pl"></span> putsa</a><a class=lang-link href="/sv/pt/posts/On-Containers" id=lang-pt ><span class="flag-icon flag-icon-pt"></span> Portugisiska</a><a class=lang-link href="/sv/pa/posts/On-Containers" id=lang-pa ><span class="flag-icon flag-icon-in"></span> Punjabi</a><a class=lang-link href="/sv/ro/posts/On-Containers" id=lang-ro ><span class="flag-icon flag-icon-ro"></span> Rumänska</a><a class=lang-link href="/sv/ru/posts/On-Containers" id=lang-ru ><span class="flag-icon flag-icon-ru"></span> Ryska</a><a class=lang-link href="/sv/es/posts/On-Containers" id=lang-es ><span class="flag-icon flag-icon-es"></span> Spanska</a><a class=lang-link href="/sv/sv/posts/On-Containers" id=lang-sv ><span class="flag-icon flag-icon-se"></span> svenska</a><a class=lang-link href="/sv/th/posts/On-Containers" id=lang-th ><span class="flag-icon flag-icon-th"></span> Thai</a><a class=lang-link href="/sv/tr/posts/On-Containers" id=lang-tr ><span class="flag-icon flag-icon-tr"></span> Turkiska</a><a class=lang-link href="/sv/uk/posts/On-Containers" id=lang-uk ><span class="flag-icon flag-icon-ua"></span> Ukrainsk</a><a class=lang-link href="/sv/ur/posts/On-Containers" id=lang-ur ><span class="flag-icon flag-icon-pk"></span> Urdu</a><a class=lang-link href="/sv/vi/posts/On-Containers" id=lang-vi ><span class="flag-icon flag-icon-vn"></span> Vietnamesiska</a><a class=lang-link href="/sv/zu/posts/On-Containers" id=lang-zu ><span class="flag-icon flag-icon-za"></span> Zulu</a></ul></div></button></ul></div></nav></div></div></div><div><h1 id=title ><a href="/sv/posts/On-Containers"> På behållare</a></h1><blockquote id=page-description style="font-style: italic;"> Använda behållare, vad och varför </blockquote></div><div class=franklin-content ><h2 id=what_are_containers ><a class=header-anchor href="#what_are_containers"> Vad är behållare</a></h2><p> [Containers] är ett namn som ges till begränsade miljöer, möjliggjord av en samling undersystem inom Linux som [<code>cgroups</code> ] och [<code>namespaces</code> ]. Även om wikisidan använder ordet<em> virtualisering</em> Jag tror ordet<em> isolering</em> är mer lämpligt, eftersom virtualisering innebär att det finns ett lager av översättning däremellan, medan vad cgroups och namnområden gör är att separera och kontextualisera processer.</p><p> Cgroups används vanligtvis för att definiera allokeringspolicyer för resurser<code>RAM</code> och<code>CPU</code> , medan namnområden styr kontexterna som monteringspunkter, nätverk och användare. [Apparmor] ger istället ett sätt att begränsa möjligheterna för behållarmiljöer som helhet, medan apparmor utan behållare, som skrivet i wikipedia, är programbaserat.</p><p> Verktyg som<a href="https://en.wikipedia.org/wiki/Flatpak"> flatpak</a> och<a href="https://github.com/netblue30/firejail"> brandfängelse</a>använda behållare för att begränsa åtkomstytan för användarprogram. [Windows] -containrar implementerar likvärdiga system och erbjuder även stöd för Linux -containrar via [WSL].</p><h2 id=but_why ><a class=header-anchor href="#but_why"> Men varför?</a></h2><ul><li><p> Ibland för säkerhets skull, men i så fall ger full virtualisering bättre garantier.</p><li><p> För att uppnå reproducerbarhet av körning och portabilitet, så att applikationer som är beroende av särskilda miljökonfigurationer kan köras utan att störa användaren för ytterligare installationssteg.</p><li><p> Schemaläggning, orkestreringsprogram som kubernetes använder [container runtimes] för att flytta tjänster över värdar sömlöst och för att abstrakta körningslogik.</p></ul><h2 id=too_much ><a class=header-anchor href="#too_much"> För mycket?</a></h2><p> När jag började bygga<a href="/sv/posts/alpine/"> tall</a> , Jag experimenterade lite med att skicka mina egna containerbilder, distribuerade från github -versioner. Huvudmanuset (<code>trees</code> ) kommandon var</p><pre><code class="sh hljs">Usage: trees APP [FLAGS]...
<span class=hljs-string >'APP'</span>               Install apps through ostree deltas checkouts.
    -b, --base      base image (alp,trub...)
    -n, --name      same as APP (etcd,hhvm...)
    -f, --force     clear before install
    -d, --delete    clear checkout and prune ostree repo
ck, check           make sure the apps repo is mounted
co, checkout        builds the trees of links <span class=hljs-keyword >for</span> the specified APP
    -t 	            optional path <span class=hljs-built_in >where</span> to build the tree</code></pre><p> Det liknade flatpak, eftersom jag skickade ett ostree -statiskt delta baserat på den huvudsakliga tallbilden och [kollade] de nya appbaserade rootfsna och sedan lanserade en containerinstans ovanpå den. OpenVZ hade många problem innan v7 för att köra container (eftersom du vet ... du körde en<em> kapslade</em> behållare på en behållarbaserad [VPS], och kärnan var en gaffel av<code>v2.6</code> (!))...det var en<strong> enorm</strong> slöseri med tid.</p><h2 id=when ><a class=header-anchor href="#when"> När?</a></h2><p> Mitt försök var att få en minimal behållartid utan att behöva<code>docker</code> eller mer biffigare programvara, eftersom dockaren förmodligen är den lättaste, och<a href="https://docs.docker.com/engine/swarm/"> dockersvärm</a> , att vara inbyggd delar mycket funktionalitet och ger dig de mest användbara funktionerna för orkestrering, vilket gör den mest beroende av systemkrav för värden jämfört med<a href="https://docs.kublr.com/installation/hardware-recommendation/"> k8s</a> eller<a href="https://www.nomadproject.io/docs/install/production/requirements"> nomad</a>.</p><p>Trots att behållare är en funktion som du kanske vill ha oftast är orkestrering inte det. Jag tror<em> löst inriktad</em> reklamkampanjer lockar<em> oavsiktlig</em> målgrupp för sådan programvara, vilket får en att tro att den kan vara användbar<em> till dem</em> , utan att betona premissen att du<strong> verkligen</strong> måste skala en hel del (!) för att rättfärdiga komplexitetskostnaden för sådana inställningar. Antalet<a href="https://reddit.com/r/kubernetes/comments/be0415/k3s_minikube_or_microk8s/el2xy5r/"> bekvämlighetsverktyg</a> byggt runt k8s för att underlätta uppstartsprocessen för ett k8s -kluster bör vara tillräckligt med bevis ...</p><h2 id=conclusions ><a class=header-anchor href="#conclusions"> Slutsatser</a></h2><p> Orkesteringsverktyg hamnar trångt på platsen för lösningar för att hantera flera värdmaskiner när användare inte kan se skillnad mellan sällskapsdjur och boskapsservrar. Vid många tillfällen, programvara som ansible, pyinfra eller till och med<a href="https://github.com/duncs/clusterssh"> cssh</a> eller<a href="https://github.com/moul/assh"> assh</a> är allt man någonsin behöver.</p><p></p><div id=post-tags-list > Inläggstaggar: <span class=post-tag ><a href="/sv/posts/tag/opinions" style=""> åsikter</a>, </span><span class=post-tag ><a href="/sv/posts/tag/about" style=""> handla om</a></span></div><div class=page-foot ><div class=copyright > 19 april 2021 </div><script async="" crossorigin=anonymous issue-term=pathname label=Comment repo="untoreh/untoreh.github.io" src="https://utteranc.es/client.js"></script></div></div><div class=page__footer ><footer><div class=page__footer-copyright > © untoreh - Drivs av<a href="https://github.com/tlienart/Franklin.jl"> Franklin</a></div><div class=page__footer-links > - <ul><li><a href="/sv/sitemap.xml"> Webbplatskarta</a> | <li><a href="/sv/tag"> Taggar</a> | <li><a href="/sv/feed.xml"> RSS</a></ul></div><ul class=author__wrap ><li class="author__urls social-icons"><a href="https://twitter.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-twitter-square"></i></a><li class="author__urls social-icons"><a href="https://github.com/untoreh" rel="nofollow noopener noreferrer"><i aria-hidden=true class="fab fa-fw fa-github"></i></a><li class="author__urls social-icons"><a href="mailto:contact@unto.re"><i class="fas fa-envelope"></i></a><li><script type="application/ld+json">{"potentialAction":{"query-input":"required maxlength=100 name=query","actionStatus":"https://schema.org/PotentialActionStatus","query":"required","@type":"SearchAction","target":"https://unto.re/search?&q={query}"}}</script></ul></footer></div><script crossorigin=anonymous defer="" id=fa integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" src="https://use.fontawesome.com/releases/v5.8.2/js/all.js"></script><script src="/libs/colors.js"></script><script src="/libs/menu.js"></script><script defer="" src="/libs/lunr/lunr.min.js"></script></HTML>